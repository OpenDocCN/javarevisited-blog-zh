<html>
<head>
<title>Working with Dates in Java</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Java中处理日期</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/working-with-dates-in-java-8-d04f4b04b4b9?source=collection_archive---------2-----------------------#2022-01-15">https://medium.com/javarevisited/working-with-dates-in-java-8-d04f4b04b4b9?source=collection_archive---------2-----------------------#2022-01-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/97c814c7e36f093a7acdcfe0888a6e8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8qTaJpn8zbnH9e7KWiWlvg.jpeg"/></div></div></figure><p id="0b3b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">处理日期总是有点复杂，使用日期和日历的人都很了解这一点。但是在Java 8中，LocalDate包含在java.time包中，这带来了许多静态方法，使生活变得更容易。</p><p id="e49d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">文档在这里:</p><p id="876d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jo" href="https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html" rel="noopener ugc nofollow" target="_blank">https://docs . Oracle . com/javase/8/docs/API/Java/time/local datetime . html</a></p><h2 id="2f6a" class="jp jq hi bd jr js jt ju jv jw jx jy jz jb ka kb kc jf kd ke kf jj kg kh ki kj bi translated">获取今天的日期:</h2><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="ea72" class="jp jq hi kp b fi kt ku l kv kw">LocalDate today = LocalDate.<em class="kx">now</em>();<br/>System.<em class="kx">out</em>.println(today);</span></pre><figure class="kk kl km kn fd ij er es paragraph-image"><a href="https://javarevisited.blogspot.com/2015/03/20-examples-of-date-and-time-api-from-Java8.html"><div class="er es ky"><img src="../Images/26edca0e5a2fc3a76f78baaae0bd0abf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/0*O5nJu4_F7ct6F5wB.png"/></div></a></figure><p id="9d00" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">简单。</p><h2 id="02cc" class="jp jq hi bd jr js jt ju jv jw jx jy jz jb ka kb kc jf kd ke kf jj kg kh ki kj bi translated">以年为单位计算期间</h2><p id="e1b9" class="pw-post-body-paragraph iq ir hi is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hb bi translated">距离上一届足球世界杯已经过去了多少年？</p><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="cd08" class="jp jq hi kp b fi kt ku l kv kw">LocalDate today = LocalDate.<em class="kx">now</em>();<br/>LocalDate worldCupDate = LocalDate.<em class="kx">of</em>(2018, Month.<em class="kx">JUNE</em>, 5);<br/>int years = worldCupDate.getYear() - today.getYear();<br/>System.<em class="kx">out</em>.println(years + " years");</span></pre><figure class="kk kl km kn fd ij er es paragraph-image"><a href="https://javarevisited.blogspot.com/2017/02/17-examples-of-calendar-and-date-in-java.html"><div class="er es le"><img src="../Images/0daa96be106e9b2ff2f607f420a77400.png" data-original-src="https://miro.medium.com/v2/resize:fit:740/format:webp/0*7HIy40x-7ev88yW0.png"/></div></a></figure><h2 id="5ed5" class="jp jq hi bd jr js jt ju jv jw jx jy jz jb ka kb kc jf kd ke kf jj kg kh ki kj bi translated">以天数和月数计算周期</h2><p id="6d6a" class="pw-post-body-paragraph iq ir hi is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hb bi translated">这个真的很酷:</p><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="7092" class="jp jq hi kp b fi kt ku l kv kw">Period period = Period.<em class="kx">between</em>(today, worldCupDate);<br/>System.<em class="kx">out</em>.println(period);</span></pre><p id="8a42" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">就过两次约会。结果:</p><figure class="kk kl km kn fd ij er es paragraph-image"><a href="http://www.java67.com/2016/10/how-to-parse-string-to-localdate-in-Java8-DateTimeFormatter-Example.html"><div class="er es lf"><img src="../Images/f7b070192f6b31009e9be81915635f20.png" data-original-src="https://miro.medium.com/v2/resize:fit:670/format:webp/0*VAWoVcNZh_3esrdN.png"/></div></a></figure><ul class=""><li id="57e5" class="lg lh hi is b it iu ix iy jb li jf lj jj lk jn ll lm ln lo bi translated">3Y = 3年</li><li id="5f1e" class="lg lh hi is b it lp ix lq jb lr jf ls jj lt jn ll lm ln lo bi translated">2M = 2个月</li><li id="6c8b" class="lg lh hi is b it lp ix lq jb lr jf ls jj lt jn ll lm ln lo bi translated">29天= 29天</li></ul><h2 id="0923" class="jp jq hi bd jr js jt ju jv jw jx jy jz jb ka kb kc jf kd ke kf jj kg kh ki kj bi translated">格式化日期</h2><p id="a124" class="pw-post-body-paragraph iq ir hi is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hb bi translated">我将把它放在巴西标准中，但它也适用于其他几个标准:</p><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="4301" class="jp jq hi kp b fi kt ku l kv kw">DateTimeFormatter dateTimeFormatter = DateTimeFormatter.<em class="kx">ofPattern</em>("dd/MM/yyyy");<br/>System.<em class="kx">out</em>.println(today.format(dateTimeFormatter));</span></pre><figure class="kk kl km kn fd ij er es paragraph-image"><a href="http://www.java67.com/2016/10/how-to-parse-string-to-localdate-in-Java8-DateTimeFormatter-Example.html"><div class="er es lu"><img src="../Images/572bbe48e3d7ca255f6cd49427f59a8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:928/format:webp/0*nqPCE2w4C4fswTUX.png"/></div></a></figure><h2 id="7c91" class="jp jq hi bd jr js jt ju jv jw jx jy jz jb ka kb kc jf kd ke kf jj kg kh ki kj bi translated">递增或递减日期</h2><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="5c42" class="jp jq hi kp b fi kt ku l kv kw">System.<em class="kx">out</em>.println(today.minusYears(1));<br/>System.<em class="kx">out</em>.println(today.minusMonths(4));<br/>System.<em class="kx">out</em>.println(today.minusDays(2));<br/><br/>System.<em class="kx">out</em>.println(today.plusYears(1));<br/>System.<em class="kx">out</em>.println(today.plusMonths(4));<br/>System.<em class="kx">out</em>.println(today.plusDays(2));</span></pre><h2 id="8ccf" class="jp jq hi bd jr js jt ju jv jw jx jy jz jb ka kb kc jf kd ke kf jj kg kh ki kj bi translated">但是如果我想要一个小时，一分钟，一秒钟呢？</h2><p id="c2a6" class="pw-post-body-paragraph iq ir hi is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hb bi translated">然后类发生了变化，为此我们可以使用<a class="ae jo" href="https://javarevisited.blogspot.com/2017/01/how-to-create-localdatetime-in-java-8.html" rel="noopener ugc nofollow" target="_blank"> LocalDateTime </a>，它的用法非常类似:</p><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="8658" class="jp jq hi kp b fi kt ku l kv kw">LocalDateTime now = LocalDateTime.<em class="kx">now</em>();<br/>System.<em class="kx">out</em>.println(now);</span></pre><figure class="kk kl km kn fd ij er es paragraph-image"><a href="http://www.java67.com/2016/03/how-to-convert-javautildate-to-javasqlTimestamp-JDBC.html"><div class="er es lv"><img src="../Images/1a17d0707c368b4bebf90035bbd9306e.png" data-original-src="https://miro.medium.com/v2/resize:fit:966/format:webp/0*bffTtq0wtxAIrC3H.png"/></div></a></figure><p id="594a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们还可以格式化:</p><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="9647" class="jp jq hi kp b fi kt ku l kv kw">DateTimeFormatter dateTimeFormatter = DateTimeFormatter.<em class="kx">ofPattern</em>("dd/MM/yyyy HH:mm:ss");<br/><br/>LocalDateTime now = LocalDateTime.<em class="kx">now</em>();<br/>System.<em class="kx">out</em>.println(now.format(dateTimeFormatter));</span></pre><p id="a8e2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">结果是:</p><figure class="kk kl km kn fd ij er es paragraph-image"><div class="er es lw"><img src="../Images/b11b626516dafbd08e07bf89739c7139.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/0*RCmaF8WhQTkNBSf2.png"/></div></figure><h2 id="855e" class="jp jq hi bd jr js jt ju jv jw jx jy jz jb ka kb kc jf kd ke kf jj kg kh ki kj bi translated"><a class="ae jo" href="https://www.java67.com/2019/05/10-example-of-localdate-localtime-and-localdatetime-zoneddatetime-in-java.html" rel="noopener ugc nofollow" target="_blank">当地时间</a></h2><p id="aefc" class="pw-post-body-paragraph iq ir hi is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hb bi translated">我们只能用时间段来表示某些活动的时间，例如，足球比赛的时间:</p><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="14aa" class="jp jq hi kp b fi kt ku l kv kw">LocalTime hourOfGame= LocalTime.<em class="kx">of</em>(16, 30);<br/>System.<em class="kx">out</em>.println(hourOfGame);</span></pre><figure class="kk kl km kn fd ij er es paragraph-image"><a href="http://www.java67.com/2016/10/how-to-parse-string-to-localdate-in-Java8-DateTimeFormatter-Example.html"><div class="er es lx"><img src="../Images/241d998fa472941a2f508b3cd84811dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:930/format:webp/0*vDK63qf6O4O_bVm7.png"/></div></a></figure><p id="d966" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">到目前为止，最有趣的部分是我们没有对日期进行任何计算，我们只是询问API，它就为我们做了。太好了。</p><h2 id="dfec" class="jp jq hi bd jr js jt ju jv jw jx jy jz jb ka kb kc jf kd ke kf jj kg kh ki kj bi translated">如何获得一个以天为单位的范围？</h2><p id="c1f7" class="pw-post-body-paragraph iq ir hi is b it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj ld jl jm jn hb bi translated">我在论坛上看到过几个解决方案，很多行代码，所有工作都是手工完成的。我知道怎么做，很可能你也知道，但是有一个稍微简单的方法:</p><pre class="kk kl km kn fd ko kp kq kr aw ks bi"><span id="dfe2" class="jp jq hi kp b fi kt ku l kv kw">public static void main(String[] args) {<br/>   LocalDate date1 = LocalDate.<em class="kx">of</em>(2018, Month.<em class="kx">JUNE</em>, 5);<br/>   var numberOfDays = ChronoUnit.<em class="kx">DAYS</em>.between(date1, LocalDate.<em class="kx">now</em>());<br/>   System.<em class="kx">out</em>.println(numberOfDays);<br/>}</span></pre><p id="9dce" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">结果是:</p><figure class="kk kl km kn fd ij er es paragraph-image"><a href="http://javarevisited.blogspot.sg/2015/07/how-to-find-number-of-days-between-two-dates-in-java.html"><div class="er es ly"><img src="../Images/c967602481db5886fa428e5fabfc0cd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8XE8B_CxQKvYd_pF.png"/></div></a></figure><p id="11f4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">今天到此为止。</p></div></div>    
</body>
</html>