<html>
<head>
<title>Assessing the impact Of DDoS attack
in SDN through simulation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过仿真评估DDoS攻击对SDN的影响</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/impact-of-ddos-attack-in-sdn-through-simulation-b2012638ed73?source=collection_archive---------3-----------------------#2018-10-30">https://medium.com/javarevisited/impact-of-ddos-attack-in-sdn-through-simulation-b2012638ed73?source=collection_archive---------3-----------------------#2018-10-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="7a43" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2018年9月12日16时12分15秒</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/bf974bbebedf1168a584f1366a0b071c.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*c0nlAhz4uq2nGzqrb5KVLA.png"/></div></figure><blockquote class="jl jm jn"><p id="9bd4" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">简介:</strong></p></blockquote><p id="d921" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在软件定义的网络中，控制平面(控制器)和数据<br/>平面(交换机)是分离的。它支持开放、可扩展、安全和可编程的网络基础设施。Openflow协议在两个平面之间建立通信。控制器可以查看整个网络，交换机具有用于流条目的流表。</p><p id="eb49" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">控制器是集中的，并为开关提供流量表。每当有新的数据包到达并且流表条目不匹配时，该数据包就被发送到控制器进行处理。流表的大小是有限的，这导致了可扩展性问题，从而导致DDoS攻击中的严重安全问题。现在，攻击者可以生成欺骗数据包并将其发送到主机。这使中央控制器过载。因此，表溢出，新规则的安装被拒绝，导致数据包丢失或延迟(DDoS)。</p><p id="43ea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用Mininet和Pox模拟流表溢出攻击。根据延迟和带宽分析其效果<br/>。</p><blockquote class="jl jm jn"><p id="abf7" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">高层设计及其说明:</strong></p></blockquote><p id="97e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有一个SDN控制器(C0)(可以查看整个网络)。两个开关<br/> (S1，S2)连接到它。S1通过路由器(R0)连接到S2。每台交换机都连接有四台主机。总共有8台主机(H1到H8)。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es js"><img src="../Images/30b79e2eaff5e88faba049e6c5a8d31b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/1*KE-v4n8jWmIdDIT817to0w.png"/></div><p class="jt ju et er es jv jw bd b be z dx translated">图1-高级设计</p></figure><p id="cca4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">H6(服务器)，H8(客户端)是合法的主机。<br/> H1、H2、H3、H4、H5、H7都是非法宿主。</p><p id="8b46" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">非法主机开始淹没交换机的流表，结果，<br/>H6和H8之间的通信受到不利影响。</p><blockquote class="jl jm jn"><p id="1d58" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj"> Openflow流程表:</strong></p></blockquote><p id="1355" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">每当流表中有缺失时，交换机通过发送数据包输入消息向<br/>控制器询问信息。它包括整个分组(通过提及缓冲器ID)或分组的一部分。然后，控制器回复一个分组输出消息，该消息是流表中的一个条目。</p><blockquote class="jl jm jn"><p id="cabd" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">流程表的组成部分:</strong></p></blockquote><p id="695e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">I)规则匹配模式部分(IP地址、MAC地址、端口号<br/>等)</p><p id="d4fe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ii)相关动作:<br/> 1)转发数据包(特定输出端口或所有输出端口)<br/> 2)丢弃数据包<br/> 3)修改数据包报头</p><p id="c3d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">iii)统计:<br/>规则被使用的次数</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es jx"><img src="../Images/6ad18d2fc3b7595cc54b56646b8687c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2Abav2wgc4r5Uk-EZw5GJQ.png"/></div></div><p class="jt ju et er es jv jw bd b be z dx translated">图2-流表如何获得它的流条目</p></figure><blockquote class="jl jm jn"><p id="04c8" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">流程条目超时:</strong></p></blockquote><p id="5f27" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">基于两个因素来刷新流表中的流条目。<br/> <strong class="ih hj">空闲超时:</strong></p><p id="2189" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果流条目在给定的秒数(n)内没有被匹配(使用)，<br/>那么它将在n秒后被清除。</p><p id="9778" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">硬超时:</strong></p><p id="1630" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在给定的<br/>秒(n)后，流条目被自动清除，而不管其使用情况如何。我们使用Pox控制器，我们可以在其中修改超时值。</p><blockquote class="jl jm jn"><p id="54c6" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">流量表条目内容:</strong></p></blockquote><p id="dc76" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1)in _ port 2)eth _ src 3)eth _ dst 4)eth _ type<br/>5)VLAN _ vid 6)VLAN _ PCP 7)IP _ src 8)IP _ dst<br/>9)NW _ proto 10)NW _ tos 11)TCP _ src 12)TCP _ ds</p><blockquote class="jl jm jn"><p id="c092" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">淹没流量表:</strong></p></blockquote><p id="c72a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1)在无限循环中生成大量数据包<br/> 2)置换源和目的IP地址<br/> 3)置换源和目的端口</p><p id="a439" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里，我们通过置换源端口和目的端口来生成欺骗数据包。</p><blockquote class="jl jm jn"><p id="c0b3" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">泛滥的后果:</strong></p></blockquote><p id="eb21" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">每个交换机都有数量有限的流表条目。如果洪泛发生，<br/>新规则无法安装(拒绝服务)，导致数据包丢失。</p><blockquote class="jl jm jn"><p id="be84" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">实验:</strong></p></blockquote><p id="a424" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">欺骗数据包生成逻辑:</strong> <br/>我们有五个随机源端口和二十个随机目的地<br/>端口。这里，每0.1秒生成一个数据包。每台主机每秒大约生成1000个数据包。</p><p id="a6c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">如何计算每秒生成的欺骗数据包数量:</strong></p><blockquote class="kc"><p id="84c6" class="kd ke hi bd kf kg kh ki kj kk kl jc dx translated"><strong class="ak">T19】Packet _ Count = N * S _ P * D _ PT21】</strong></p></blockquote><p id="6e10" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">N — -&gt;攻击主机数量<br/> S_P — - &gt;源端口数<br/> D_P — - &gt;目的端口数<br/>这里每秒产生6000个欺骗数据包。它可以通过<br/>增加源端口和目的端口以及减少数据包生成的时间间隔来增强。</p><blockquote class="jl jm jn"><p id="8916" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">淹没逻辑:</strong></p></blockquote><p id="0166" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">默认流表大小为1000000。我们把它减到100。</p><p id="dda9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于溢流，流量表很快达到其极限(100)并导致<br/>溢出。由于欺骗数据包会不断生成，而交换机没有与之匹配的规则，因此每次交换机都会将其转发给控制器，并且它会一直被占用(资源攻击)。</p><blockquote class="jl jm jn"><p id="854d" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">延迟和带宽实验:</strong></p></blockquote><p id="6334" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1)启用Pox控制器并运行Python代码来设置拓扑。<br/> 2)将建立前述拓扑。在H6和H8之间执行ping命令。ICMP数据包将从H6发送到H8。第一个数据包将花费21毫秒<br/>秒，其余数据包将花费0.0535毫秒(平均)到达目标<br/>。</p><p id="cb05" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5)现在，在剩余的主机上运行攻击者代码。因此，所用的时间将乘以一个巨大的因子(平均时间为12700毫秒)并且<br/>最终将会有数据包丢失。它会导致<br/>带宽显著降低。</p><blockquote class="jl jm jn"><p id="fce5" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">分析:</strong></p></blockquote><p id="0cd5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据攻击主机的数量和流条目的超时，<br/>影响成比例地变化。影响与流表大小成反比。</p><blockquote class="jl jm jn"><p id="9e23" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">结论:</strong></p></blockquote><p id="5a17" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">控制器和流表是SDN的重要组成部分。所以它非常容易受到攻击。超时值越大，攻击的可能性就越高。对流表的攻击会严重影响SDN的性能。应研究如何减轻此类攻击，超时时间应尽可能短。</p><blockquote class="jl jm jn"><p id="e3a9" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">参考文献:</strong></p></blockquote><p id="032d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1)、游、钱凯，“Openflow流表溢出<br/>攻击及对策”，IEEE</p></div></div>    
</body>
</html>