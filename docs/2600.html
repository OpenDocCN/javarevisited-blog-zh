<html>
<head>
<title>Is Java “Pass by Value” or “Pass by Reference”?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Java是“按值传递”还是“按引用传递”？</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/is-java-pass-by-value-or-pass-by-reference-73a73b0c2234?source=collection_archive---------6-----------------------#2022-12-14">https://medium.com/javarevisited/is-java-pass-by-value-or-pass-by-reference-73a73b0c2234?source=collection_archive---------6-----------------------#2022-12-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="7905" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">面向对象编程</h2><div class=""/><div class=""><h2 id="95fe" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">了解按值传递和按引用传递。</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><a href="https://javarevisited.blogspot.com/2012/12/does-java-pass-by-value-or-pass-by-reference.html"><div class="er es jg"><img src="../Images/d5c3b2c04e94cb7e85e3c17956922363.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MgIil8dn5SBY4UhI_uRSoA.png"/></div></a><p class="jo jp et er es jq jr bd b be z dx translated"><strong class="bd js">按值传递或按引用传递</strong></p></figure><p id="2dd1" class="pw-post-body-paragraph jt ju hi jv b jw jx is jy jz ka iv kb kc kd ke kf kg kh ki kj kk kl km kn ko hb bi translated">在本文中，我将解释Java是使用<strong class="jv hs">按值传递</strong>还是<strong class="jv hs">按引用传递。</strong>读完这篇文章后，你将能够理解按值传递和按引用传递的概念。阅读本文时，请尽量关注示例代码和相关注释。</p></div><div class="ab cl kp kq gp kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hb hc hd he hf"><h1 id="e4af" class="kw kx hi bd js ky kz la lb lc ld le lf ix lg iy lh ja li jb lj jd lk je ll lm bi translated">传递值实际上意味着什么？</h1><p id="a0e8" class="pw-post-body-paragraph jt ju hi jv b jw ln is jy jz lo iv kb kc lp ke kf kg lq ki kj kk lr km kn ko hb bi translated">顾名思义，传值只是意味着，我们将变量(或引用变量)的值而不是变量(或引用变量)的地址从主函数传递给被调用的函数。</p><p id="cad8" class="pw-post-body-paragraph jt ju hi jv b jw jx is jy jz ka iv kb kc kd ke kf kg kh ki kj kk kl km kn ko hb bi translated">实际上，传递的是变量的副本，而不是变量本身。</p><p id="4ebd" class="pw-post-body-paragraph jt ju hi jv b jw jx is jy jz ka iv kb kc kd ke kf kg kh ki kj kk kl km kn ko hb bi translated">被调用函数中复制的引用变量可以改变对象的状态(字段)，但不能改变主函数的实际/原始引用变量所保存的地址。</p><p id="5062" class="pw-post-body-paragraph jt ju hi jv b jw jx is jy jz ka iv kb kc kd ke kf kg kh ki kj kk kl km kn ko hb bi translated">被调用函数的复制引用变量可以指向某个其他对象，但不能修改主函数的实际/原始引用变量所保存的地址。所以主函数的引用变量将继续指向与在<strong class="jv hs">之前指向的对象相同的对象。</strong></p><h2 id="c2ba" class="ls kx hi bd js lt lu lv lb lw lx ly lf kc lz ma lh kg mb mc lj kk md me ll ho bi translated">因此，Java是通过值传递的，而不是通过引用传递的。</h2><p id="abb1" class="pw-post-body-paragraph jt ju hi jv b jw ln is jy jz lo iv kb kc lp ke kf kg lq ki kj kk lr km kn ko hb bi translated">让我们编写一个示例程序来理解这个概念。我写了一个汽车类和它的驱动程序主类。</p><p id="6517" class="pw-post-body-paragraph jt ju hi jv b jw jx is jy jz ka iv kb kc kd ke kf kg kh ki kj kk kl km kn ko hb bi translated">我建议在阅读程序时，试着阅读与每个语句相关的注释。</p><h1 id="13d9" class="kw kx hi bd js ky mf la lb lc mg le lf ix mh iy lh ja mi jb lj jd mj je ll lm bi translated">汽车类——一个简单的POJO类。</h1><p id="35aa" class="pw-post-body-paragraph jt ju hi jv b jw ln is jy jz lo iv kb kc lp ke kf kg lq ki kj kk lr km kn ko hb bi translated">这个Car类是一个POJO类，只有一个字段<code class="du mk ml mm mn b">brandName</code>及其getters和setters。</p><figure class="jh ji jj jk fd jl"><div class="bz dy l di"><div class="mo mp l"/></div><p class="jo jp et er es jq jr bd b be z dx translated"><strong class="ak">汽车类别</strong></p></figure><h1 id="7030" class="kw kx hi bd js ky mf la lb lc mg le lf ix mh iy lh ja mi jb lj jd mj je ll lm bi translated">主要作为驱动程序类。</h1><p id="2415" class="pw-post-body-paragraph jt ju hi jv b jw ln is jy jz lo iv kb kc lp ke kf kg lq ki kj kk lr km kn ko hb bi translated">在主类中，我创建了一个Car对象，并将其赋给<code class="du mk ml mm mn b">myCar</code>一个引用变量。后来把它传给了法<code class="du mk ml mm mn b">changeCarReference</code>。</p><figure class="jh ji jj jk fd jl"><div class="bz dy l di"><div class="mo mp l"/></div><p class="jo jp et er es jq jr bd b be z dx translated"><strong class="ak">按值传递或按引用传递</strong></p></figure><h2 id="2895" class="ls kx hi bd js lt lu lv lb lw lx ly lf kc lz ma lh kg mb mc lj kk md me ll ho bi translated">输出:</h2><pre class="jh ji jj jk fd mq mn mr bn ms mt bi"><span id="8551" class="mu kx hi mn b be mv mw l mx my">Car brand is : Honda<br/>car brand is : Honda<br/>car brand is : Toyota<br/>car brand is : Tata</span></pre><h1 id="8f42" class="kw kx hi bd js ky mf la lb lc mg le lf ix mh iy lh ja mi jb lj jd mj je ll lm bi translated">为了更好地理解，让我用图表来解释。</h1><h2 id="82ff" class="ls kx hi bd js lt lu lv lb lw lx ly lf kc lz ma lh kg mb mc lj kk md me ll ho bi translated">1.当我们创建汽车对象时。</h2><figure class="jh ji jj jk fd jl er es paragraph-image"><a href="https://javarevisited.blogspot.com/2015/10/133-java-interview-questions-answers-from-last-5-years.html"><div class="er es mz"><img src="../Images/f93635444d35fbec9fe0d2184ed90385.png" data-original-src="https://miro.medium.com/v2/resize:fit:1258/format:webp/1*kJrk9lJ-2hjsItaeb7RbOg.png"/></div></a><p class="jo jp et er es jq jr bd b be z dx translated"><strong class="bd js">按值传递</strong></p></figure><h2 id="dea4" class="ls kx hi bd js lt lu lv lb lw lx ly lf kc lz ma lh kg mb mc lj kk md me ll ho bi translated">2.调用后更改一个引用方法。</h2><figure class="jh ji jj jk fd jl er es paragraph-image"><a href="https://javarevisited.blogspot.com/2011/08/why-java-does-not-support-operator.html"><div class="er es na"><img src="../Images/875d316d0f173eba1c5fe4c547055f00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/1*J4luYOyJxlV5tIeICdte9g.png"/></div></a><p class="jo jp et er es jq jr bd b be z dx translated"><strong class="bd js">按值传递</strong></p></figure><h2 id="0cd7" class="ls kx hi bd js lt lu lv lb lw lx ly lf kc lz ma lh kg mb mc lj kk md me ll ho bi translated"><code class="du mk ml mm mn b">myCar</code>和<code class="du mk ml mm mn b">carRef</code>都是汽车类型，指向同一个<code class="du mk ml mm mn b">Car</code>类的对象。</h2><h2 id="0782" class="ls kx hi bd js lt lu lv lb lw lx ly lf kc lz ma lh kg mb mc lj kk md me ll ho bi translated">3.将汽车对象的品牌名称设置为Toyota。</h2><figure class="jh ji jj jk fd jl er es paragraph-image"><a href="https://www.java67.com/2015/03/top-40-core-java-interview-questions-answers-telephonic-round.html"><div class="er es nb"><img src="../Images/0011abec3bce4f633f0273037d9f1bf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/format:webp/1*VUgvV-mzkzoAIvN07z3zXQ.png"/></div></a><p class="jo jp et er es jq jr bd b be z dx translated"><strong class="bd js">按值传递</strong></p></figure><h2 id="d914" class="ls kx hi bd js lt lu lv lb lw lx ly lf kc lz ma lh kg mb mc lj kk md me ll ho bi translated">4.用<code class="du mk ml mm mn b">changeCarReference</code>方法创建新的汽车对象。</h2><figure class="jh ji jj jk fd jl er es paragraph-image"><a href="https://www.java67.com/2018/03/top-50-core-java-interview-questions.html"><div class="er es nc"><img src="../Images/8ace4416d5f61d577ce2740bfd374ad3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1270/format:webp/1*PXykhB0RePY_JKthP2TLww.png"/></div></a><p class="jo jp et er es jq jr bd b be z dx translated">按值传送</p></figure><h2 id="a2b6" class="ls kx hi bd js lt lu lv lb lw lx ly lf kc lz ma lh kg mb mc lj kk md me ll ho bi translated">5.将<code class="du mk ml mm mn b">newCar</code>参考分配给<code class="du mk ml mm mn b">carRef</code>。</h2><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es nc"><img src="../Images/8fbbfbe1e1a0b95679b7ae7b68c85426.png" data-original-src="https://miro.medium.com/v2/resize:fit:1270/format:webp/1*YvdpjvaMGWSh3vd8-enVGA.png"/></div><p class="jo jp et er es jq jr bd b be z dx translated"><strong class="bd js">按值传递</strong></p></figure><p id="3588" class="pw-post-body-paragraph jt ju hi jv b jw jx is jy jz ka iv kb kc kd ke kf kg kh ki kj kk kl km kn ko hb bi translated">因此，您可以看到传递给<code class="du mk ml mm mn b">changeCarReference</code>方法的<code class="du mk ml mm mn b">myCar</code>引用变量从未改变。但是这个<code class="du mk ml mm mn b">myCar</code>引用所指向的对象的值被另一个引用<code class="du mk ml mm mn b">carRef</code>改变了。<br/>因此我们得出结论，Java总是“<strong class="jv hs">按值传递</strong>”，而不是“按引用传递”。</p><blockquote class="nd"><p id="3f5f" class="ne nf hi bd ng nh ni nj nk nl nm ko dx translated">因此，Java是通过值传递的，而不是通过引用传递的。</p></blockquote></div><div class="ab cl kp kq gp kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hb hc hd he hf"><h1 id="95e2" class="kw kx hi bd js ky kz la lb lc ld le lf ix lg iy lh ja li jb lj jd lk je ll lm bi translated">按引用传递是什么意思？</h1><p id="bb7a" class="pw-post-body-paragraph jt ju hi jv b jw ln is jy jz lo iv kb kc lp ke kf kg lq ki kj kk lr km kn ko hb bi translated">在按引用传递的情况下，调用方法将变量传递给被调用函数，被调用函数接受参数作为从调用函数传递的变量的地址。</p><p id="0680" class="pw-post-body-paragraph jt ju hi jv b jw jx is jy jz ka iv kb kc kd ke kf kg kh ki kj kk kl km kn ko hb bi translated">我建议您阅读带有相关注释的代码。同样，在下面程序的最后，我已经详细解释了这个概念。</p><p id="4652" class="pw-post-body-paragraph jt ju hi jv b jw jx is jy jz ka iv kb kc kd ke kf kg kh ki kj kk kl km kn ko hb bi translated">下面我举了一个例子，用一个交换程序来交换c++中的两个数，来解释按引用传递。</p><figure class="jh ji jj jk fd jl"><div class="bz dy l di"><div class="mo mp l"/></div><p class="jo jp et er es jq jr bd b be z dx translated"><strong class="ak">参考通过</strong></p></figure><h2 id="ca31" class="ls kx hi bd js lt lu lv lb lw lx ly lf kc lz ma lh kg mb mc lj kk md me ll ho bi translated">输出:</h2><pre class="jh ji jj jk fd mq mn mr bn ms mt bi"><span id="da35" class="mu kx hi mn b be mv mw l mx my">Before swap:<br/>10  20<br/>After swap:<br/>20  10</span></pre><h1 id="abef" class="kw kx hi bd js ky mf la lb lc mg le lf ix mh iy lh ja mi jb lj jd mj je ll lm bi translated">交换前:</h1><p id="e270" class="pw-post-body-paragraph jt ju hi jv b jw ln is jy jz lo iv kb kc lp ke kf kg lq ki kj kk lr km kn ko hb bi translated">互换前<code class="du mk ml mm mn b">firstNum</code> <strong class="jv hs"> </strong>和<code class="du mk ml mm mn b">secondNum</code> <strong class="jv hs"> </strong>分别持有数值10和20。当调用一个函数(基本上是<code class="du mk ml mm mn b">main</code>方法)时，将<code class="du mk ml mm mn b">firstNum</code>和<code class="du mk ml mm mn b">secondNum</code>作为参数传递给被调用函数(<code class="du mk ml mm mn b">swapNums</code>)，然后被调用函数<code class="du mk ml mm mn b"><strong class="jv hs">&amp;x</strong></code>和<code class="du mk ml mm mn b"><strong class="jv hs">&amp;y</strong></code>保存这两个变量的地址。<code class="du mk ml mm mn b"><strong class="jv hs">x</strong></code>和<code class="du mk ml mm mn b"><strong class="jv hs">y</strong></code>分别指向10和20。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><a href="https://javarevisited.blogspot.com/2013/02/swap-two-numbers-without-third-temp-variable-java-program-example-tutorial.html"><div class="er es nn"><img src="../Images/71bcd0e74f172db0d5e03645322967ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*AzRg6Z1A4y7UeQODTGfbeg.png"/></div></a><p class="jo jp et er es jq jr bd b be z dx translated"><strong class="bd js">之前互换</strong></p></figure><h1 id="6448" class="kw kx hi bd js ky mf la lb lc mg le lf ix mh iy lh ja mi jb lj jd mj je ll lm bi translated">交换后:</h1><p id="f407" class="pw-post-body-paragraph jt ju hi jv b jw ln is jy jz lo iv kb kc lp ke kf kg lq ki kj kk lr km kn ko hb bi translated">互换后的<code class="du mk ml mm mn b">firstNum</code> <strong class="jv hs"> </strong>和<code class="du mk ml mm mn b">secondNum</code> <strong class="jv hs"> </strong>分别持有值20和10。使用临时变量z交换由<code class="du mk ml mm mn b"><strong class="jv hs">&amp;x</strong></code>和<code class="du mk ml mm mn b"><strong class="jv hs">&amp;y</strong></code>保存的地址值(10，20)。因此由<code class="du mk ml mm mn b">firstNum</code> <strong class="jv hs"> </strong>和<code class="du mk ml mm mn b">secondNum</code>变量保存的值也是20和10，因为这些变量也指向相同的地址。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><a href="https://www.java67.com/2012/08/10-java-coding-interview-questions-and.html"><div class="er es no"><img src="../Images/b41f622a98063f3ef2e834adb97b9c95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*AYwleza62g29ZI564G5mlQ.png"/></div></a><p class="jo jp et er es jq jr bd b be z dx translated"><strong class="bd js">互换后</strong></p></figure></div><div class="ab cl kp kq gp kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hb hc hd he hf"><p id="0817" class="pw-post-body-paragraph jt ju hi jv b jw jx is jy jz ka iv kb kc kd ke kf kg kh ki kj kk kl km kn ko hb bi translated"><em class="np">本文到此为止。希望你喜欢这篇文章。</em></p><h1 id="2df0" class="kw kx hi bd js ky mf la lb lc mg le lf ix mh iy lh ja mi jb lj jd mj je ll lm bi translated">类似内容可以关注<a class="nq nr ge" href="https://medium.com/u/2c3b611409dc?source=post_page-----73a73b0c2234--------------------------------" rel="noopener" target="_blank">维克拉姆古普塔</a>。</h1></div></div>    
</body>
</html>