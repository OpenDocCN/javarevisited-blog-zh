<html>
<head>
<title>Improve your API design by following this simple step — Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">按照这个简单的步骤改进您的API设计——第2部分</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/improve-your-api-design-by-following-this-simple-step-part-2-8d92bd6991e0?source=collection_archive---------1-----------------------#2020-10-21">https://medium.com/javarevisited/improve-your-api-design-by-following-this-simple-step-part-2-8d92bd6991e0?source=collection_archive---------1-----------------------#2020-10-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/df9f49e86e949c78981e806acbf5ba6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y8bTXjgc4vaRubMkQvkucg.jpeg"/></div></div></figure><p id="fc1d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我的部门经历了从5名到25名软件工程师的转变。随着越来越多的开发人员加入公司，团队的数量也在增加。这带来了许多挑战，包括跨不同团队构建一致的REST API。我们一起制作了一个<strong class="is hj"> REST资源命名指南</strong>来消除团队内部的混乱和不确定性。</p><h1 id="f16a" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">REST资源命名指南</h1><p id="4879" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">理想情况下，所有的设计决策都应该被记录下来，并作为公司内部的常识。在我的<a class="ae kr" rel="noopener" href="/@kondrashov/what-is-the-best-name-for-your-rest-api-get-endpoint-878ace7606cd">上一篇文章</a>中，我们为GET endpoint想出了一个好名字。我们还记录了我们的决策过程。我们称之为REST资源命名指南。到目前为止，它由两条规则组成:</p><blockquote class="ks"><p id="76ea" class="kt ku hi bd kv kw kx ky kz la lb jn dx translated"><em class="lc"> 1。所有休止符端点的末尾都应该有斜杠</em></p><p id="fa4c" class="kt ku hi bd kv kw kx ky kz la lb jn dx translated"><em class="lc"> 2。所有的REST端点在名称中应该有单数形式的名词</em></p></blockquote><p id="ede3" class="pw-post-body-paragraph iq ir hi is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hb bi translated">我建议在本文中进一步扩展这个指南。</p><h2 id="abf8" class="li jp hi bd jq lj lk ll ju lm ln lo jy jb lp lq kc jf lr ls kg jj lt lu kk lv bi translated">例子</h2><p id="d290" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">让我们从<a class="ae kr" rel="noopener" href="/@kondrashov/what-is-the-best-name-for-your-rest-api-get-endpoint-878ace7606cd">上一篇文章</a>来看看书店web应用程序。我们需要能够通过REST API创建书籍。因此，我们希望为POST端点定义一个好的名称。我们将集体讨论POST端点的所有可能的名称，然后我们将改进这个列表。</p><h2 id="475f" class="li jp hi bd jq lj lk ll ju lm ln lo jy jb lp lq kc jf lr ls kg jj lt lu kk lv bi translated">集体讨论发布端点的所有可能名称</h2><p id="3264" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">在集思广益为我们的帖子端点想出了所有可能的名称后，我想到了:</p><pre class="lw lx ly lz fd ma mb mc md aw me bi"><span id="3a85" class="li jp hi mb b fi mf mg l mh mi">POST: /books/add<br/>POST: /Books/add<br/>POST: /Book/<br/>POST: /Book<br/>POST: /book/add<br/>POST: /book/create/<br/>POST: /books/create/<br/>POST: /books<br/>POST: /books/<br/>POST: /book/post<br/>POST: /books/post/<br/>POST: /book<br/>POST: /book/<br/>POST: /addBook<br/>POST: /createBook/</span></pre><p id="544a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在让我们细化这个列表。</p><h2 id="abb7" class="li jp hi bd jq lj lk ll ju lm ln lo jy jb lp lq kc jf lr ls kg jj lt lu kk lv bi translated"><strong class="ak">使用我们的命名指南</strong>过滤掉不良名称</h2><p id="5aef" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">为了从上面的列表中过滤掉错误的名称，我们应用了REST资源命名指南中的两条规则。这就是我们剩下的:</p><pre class="lw lx ly lz fd ma mb mc md aw me bi"><span id="3975" class="li jp hi mb b fi mf mg l mh mi">POST: /Book/<br/>POST: /book/</span></pre><p id="196f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">正如我们所看到的，我们需要选择外壳。让我们想象一下，我们只希望在我们的端点小写。我们将在指南中添加一条新规则来记录这一决定。</p><blockquote class="ks"><p id="2df9" class="kt ku hi bd kv kw kx ky kz la lb jn dx translated">3.所有REST端点都应该是小写的</p></blockquote><p id="aadd" class="pw-post-body-paragraph iq ir hi is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hb bi translated">添加这条规则后，我们可以选择获胜者。</p><pre class="lw lx ly lz fd ma mb mc md aw me bi"><span id="92e6" class="li jp hi mb b fi mf mg l mh mi">POST: /book/</span><span id="3de0" class="li jp hi mb b fi mj mg l mh mi">payload: { name: "Harry Potter", author: "Rowling" }</span></pre><h2 id="aa0e" class="li jp hi bd jq lj lk ll ju lm ln lo jy jb lp lq kc jf lr ls kg jj lt lu kk lv bi translated">补丁端点</h2><p id="a259" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">通过我们的命名指南，我们可以轻松地提出补丁端点:</p><pre class="lw lx ly lz fd ma mb mc md aw me bi"><span id="b5a9" class="li jp hi mb b fi mf mg l mh mi">POST: /book/</span><span id="f3bd" class="li jp hi mb b fi mj mg l mh mi">payload: { author: "J.K. Rowling" }</span><span id="3880" class="li jp hi mb b fi mj mg l mh mi">// author is a property of the book</span></pre><h2 id="5def" class="li jp hi bd jq lj lk ll ju lm ln lo jy jb lp lq kc jf lr ls kg jj lt lu kk lv bi translated">有效载荷</h2><p id="e619" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">在图书的补丁请求的有效负载中，我们希望指定图书上存在的属性，如姓名和作者。将其他变量放入有效载荷会令人困惑。</p><pre class="lw lx ly lz fd ma mb mc md aw me bi"><span id="8700" class="li jp hi mb b fi mf mg l mh mi">POST: /book/</span><span id="8ffb" class="li jp hi mb b fi mj mg l mh mi">payload: { pageNumbersToDelete: [1, 2, 3] }</span><span id="4148" class="li jp hi mb b fi mj mg l mh mi">// <em class="mk">pageNumbersToDelete is not a property of the book</em></span></pre><h2 id="0adf" class="li jp hi bd jq lj lk ll ju lm ln lo jy jb lp lq kc jf lr ls kg jj lt lu kk lv bi translated">结论</h2><p id="6f24" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">记录设计决策可能是一个非常好的实践。随着团队的成长，它可以帮助其他开发人员选择正确的命名，并消除设计REST API时的不确定性。文档可以有多种形式。我们在本文中讨论的形状之一——REST资源命名指南。</p><p id="de25" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">你可能喜欢的其他REST文章</strong></p><div class="ml mm ez fb mn mo"><a rel="noopener follow" target="_blank" href="/javarevisited/why-spring-is-the-best-framework-for-developing-rest-apis-in-java-784590e484a4"><div class="mp ab dw"><div class="mq ab mr cl cj ms"><h2 class="bd hj fi z dy mt ea eb mu ed ef hh bi translated">为什么Spring是用Java开发REST APIs的最佳框架？</h2><div class="mv l"><h3 class="bd b fi z dy mt ea eb mu ed ef dx translated">REST现在已经成为开发web服务的标准方法，而说到Java，有许多框架和…</h3></div><div class="mw l"><p class="bd b fp z dy mt ea eb mu ed ef dx translated">medium.com</p></div></div><div class="mx l"><div class="my l mz na nb mx nc io mo"/></div></div></a></div><div class="ml mm ez fb mn mo"><a rel="noopener follow" target="_blank" href="/javarevisited/how-to-perform-http-calls-using-spring-resttemplate-d29116cd4b5a"><div class="mp ab dw"><div class="mq ab mr cl cj ms"><h2 class="bd hj fi z dy mt ea eb mu ed ef hh bi translated">如何使用Spring RestTemplate执行HTTP调用</h2><div class="mv l"><h3 class="bd b fi z dy mt ea eb mu ed ef dx translated">用Spring框架执行GET、POST、PUT、DELETE调用的简单方法</h3></div><div class="mw l"><p class="bd b fp z dy mt ea eb mu ed ef dx translated">medium.com</p></div></div><div class="mx l"><div class="nd l mz na nb mx nc io mo"/></div></div></a></div></div></div>    
</body>
</html>