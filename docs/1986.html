<html>
<head>
<title>REST API Load performance testing using Apache JMeter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Apache JMeter进行REST API负载性能测试</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/rest-api-load-performance-testing-using-apache-jmeter-63605572e862?source=collection_archive---------1-----------------------#2022-03-05">https://medium.com/javarevisited/rest-api-load-performance-testing-using-apache-jmeter-63605572e862?source=collection_archive---------1-----------------------#2022-03-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><a href="https://javarevisited.blogspot.com/2018/02/top-5-restful-web-services-with-spring-courses-for-experienced-java-programmers.html"><div class="er es if"><img src="../Images/432eea2a0ecd6765f9e6c5f2be3b7d54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zl2d_hmgFud0Y2KsZx4hOA.png"/></div></a><p class="im in et er es io ip bd b be z dx translated">用Apache JMeter进行REST API负载性能测试</p></figure><h1 id="78f6" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">介绍</h1><p id="7196" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">在本文中，我们将使用<strong class="jq hj"> Apache JMeter </strong>做一个基本的负载测试，这是一个开源软件，它可以用来模拟各种场景的负载，并以多种方式输出性能数据，包括CSV和XML文件和图表。因为它是一个100%纯Java的应用程序，所以它是<a class="ae km" href="https://www.java67.com/2012/08/how-java-achieves-platform-independence.html" rel="noopener ugc nofollow" target="_blank">平台独立的</a>(能够在每一个操作系统上运行)。</p><p id="9278" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">根据文档，这个工具有很多特性。如；</p><ul class=""><li id="4bc3" class="ks kt hi jq b jr kn jv ko jz ku kd kv kh kw kl kx ky kz la bi translated">能够加载和性能测试许多不同的应用程序/服务器/协议类型。</li><li id="f6cd" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">通过从最流行的响应格式、<a class="ae km" href="https://jmeter.apache.org/usermanual/component_reference.html#CSS/JQuery_Extractor" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj"> HTML </strong> </a> <strong class="jq hj">、JSON、</strong><a class="ae km" href="https://jmeter.apache.org/usermanual/component_reference.html#XPath_Extractor" rel="noopener ugc nofollow" target="_blank"><strong class="jq hj">XML</strong></a><strong class="jq hj">或</strong> <a class="ae km" href="https://jmeter.apache.org/usermanual/component_reference.html#Regular_Expression_Extractor" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj">任何文本格式</strong> </a>中提取数据的能力，轻松实现关联</li><li id="b62d" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">完全可移植性和<strong class="jq hj"> 100% Java纯度</strong>。</li><li id="6644" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated"><strong class="jq hj">完整的</strong> <a class="ae km" rel="noopener" href="/javarevisited/8-best-multithreading-and-concurrency-courses-for-experienced-java-developers-8acfd3b25094"> <strong class="jq hj">多线程</strong>框架</a>允许多个线程并发采样，允许不同的线程组同时采样不同的函数。</li><li id="49c1" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">测试结果的缓存和离线分析/重放。</li></ul></div><div class="ab cl lg lh gp li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="hb hc hd he hf"><h1 id="815e" class="iq ir hi bd is it ln iv iw ix lo iz ja jb lp jd je jf lq jh ji jj lr jl jm jn bi translated">装置</h1><p id="ebd6" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">首先你需要从<a class="ae km" href="https://jmeter.apache.org/download_jmeter.cgi" rel="noopener ugc nofollow" target="_blank"> Apache JMeter网站</a>下载JMeter。下载zip文件后，将它解压缩到您想要使用它的位置。然后移动到解压后的文件夹中的<code class="du ls lt lu lv b">/bin</code>文件夹，点击下面的命令- <strong class="jq hj"> jmeter.sh </strong>打开带有GUI的Apache JMeter，请注意，建议在运行负载测试时不要加载GUI，只建议将GUI用于测试创建和测试<a class="ae km" href="https://javarevisited.blogspot.com/2011/02/how-to-setup-remote-debugging-in.html" rel="noopener ugc nofollow" target="_blank">调试</a>目的。</p><p id="e4b1" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">如果安装成功，您应该会看到下面的屏幕。</p><figure class="lx ly lz ma fd ij er es paragraph-image"><a href="https://javarevisited.blogspot.com/2018/09/top-5-courses-to-learn-intellij-idea-java-and-android-development.html"><div class="er es lw"><img src="../Images/a4c234d076051e071205927395a04872.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3ylRUtfNFvpgy_6t.png"/></div></a></figure></div><div class="ab cl lg lh gp li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="hb hc hd he hf"><h1 id="8893" class="iq ir hi bd is it ln iv iw ix lo iz ja jb lp jd je jf lq jh ji jj lr jl jm jn bi translated">测试计划</h1><p id="29c2" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">在写测试计划之前，让我们看看它是什么，一个<strong class="jq hj"> <em class="mb">测试计划</em> </strong>可以被看作是运行测试的容器。它定义了测试什么以及如何进行测试。一个合适的测试计划将包含一些要素，如:</p><ul class=""><li id="78f9" class="ks kt hi jq b jr kn jv ko jz ku kd kv kh kw kl kx ky kz la bi translated">线程组</li><li id="7896" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">逻辑控制器</li><li id="e2a7" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">定时器</li><li id="351d" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">前后处理器</li><li id="0811" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">配置元素等。</li></ul><p id="0691" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><em class="mb">请注意，在一个测试计划中，必须至少有一个</em> <strong class="jq hj"> <em class="mb">线程组</em> </strong> <em class="mb">。</em></p><p id="8c90" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">您可以简单地<strong class="jq hj"> <em class="mb">添加</em> </strong>或<strong class="jq hj"> <em class="mb">删除</em> </strong>以上元素到一个<strong class="jq hj"> T <em class="mb"> est计划</em> </strong>中，方法是右击<strong class="jq hj"> T <em class="mb"> est计划</em> </strong>(即在我的例子中，它是如下所示的测试计划)，然后从菜单中选择<code class="du ls lt lu lv b">add</code>，选择您想要添加的任何元素。</p><figure class="lx ly lz ma fd ij er es paragraph-image"><a href="https://javarevisited.blogspot.com/2019/04/top-5-junit-and-unit-testing-courses-java-programmers.html#axzz6iYmMFnsA"><div class="er es mc"><img src="../Images/8e3966879e83091b2b3012a70ebf680c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uQhnaf0VVk9byTzH.png"/></div></a></figure></div><div class="ab cl lg lh gp li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="hb hc hd he hf"><h1 id="24ad" class="iq ir hi bd is it ln iv iw ix lo iz ja jb lp jd je jf lq jh ji jj lr jl jm jn bi translated">配置测试计划</h1><p id="c6c9" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">正如我们所了解的，为了运行负载测试，测试计划至少需要一个线程组<strong class="jq hj"><em class="mb"/></strong>。所以我们先给<strong class="jq hj"> <em class="mb">测试计划添加一个线程组。</em> </strong></p><p id="e429" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">要添加一个T <strong class="jq hj"> <em class="mb"> hread组</em> </strong>右击测试计划然后<code class="du ls lt lu lv b">add -&gt; Threads -&gt; Thread Groups</code></p><figure class="lx ly lz ma fd ij er es paragraph-image"><a href="https://javarevisited.blogspot.com/2021/12/top-5-courses-to-learn-rest-assured-for.html"><div class="er es mc"><img src="../Images/fe7a680ebc8fef0ee552ed8d9b10542e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*w6EBS7qnrlih7aDL.png"/></div></a><p class="im in et er es io ip bd b be z dx translated">添加线程组</p></figure><p id="ca76" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">如果成功，您将看到<strong class="jq hj">线程组</strong>已经添加到您的<strong class="jq hj">测试计划</strong>中，如下所示。</p><figure class="lx ly lz ma fd ij er es paragraph-image"><a href="https://javarevisited.blogspot.com/2022/01/top-5-courses-to-learn-swagger-or-open.html"><div class="er es mc"><img src="../Images/7d47a7fc18a19d6ace36df9b26c1b893.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LPGl34W7HmqixSoQ.png"/></div></a><p class="im in et er es io ip bd b be z dx translated">线程组已添加到测试计划中。</p></figure><p id="43ec" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">然后，您需要做的是在<strong class="jq hj"> <em class="mb">线程组</em> </strong>下添加另一个元素，用于<strong class="jq hj"> <em class="mb"> HTTP请求</em> </strong>，就像我们之前所做的那样，我们可以通过右键单击将一个新的<strong class="jq hj"> <em class="mb"> HTTP请求</em> </strong>元素添加到<strong class="jq hj"> <em class="mb">线程组</em> </strong>中，并选择如下图所示的菜单项。</p><figure class="lx ly lz ma fd ij er es paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="er es mc"><img src="../Images/1d5e67539e4cd7beb3cef01f90c705c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*yGUYSAxirq-gwSS-.png"/></div></div><p class="im in et er es io ip bd b be z dx translated">向线程组添加HTTP请求元素。</p></figure><p id="460c" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">如果成功，您将看到您的<strong class="jq hj"> <em class="mb"> HTTP请求</em> </strong>元素列在<strong class="jq hj"> <em class="mb">线程组</em> </strong>元素下，如下所示。</p><figure class="lx ly lz ma fd ij er es paragraph-image"><a href="https://javarevisited.blogspot.com/2021/04/top-5-tools-to-test-rest-apis-in-java.html#axzz7CGBoUS1n"><div class="er es mc"><img src="../Images/88bf362b54a91de4a533d9bb1c04675d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8Ie2i_cLsCEIB0pp.png"/></div></a><p class="im in et er es io ip bd b be z dx translated">已配置的HTTP请求元素</p></figure><p id="45d0" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">让我们用<code class="du ls lt lu lv b"><em class="mb">Protocol, Server Name, Port Number, Http Request Method</em></code> <em class="mb"> </em>和<em class="mb"> </em> <code class="du ls lt lu lv b"><em class="mb">Path</em></code> <em class="mb"> </em>的相关值来配置我们的<strong class="jq hj"> <em class="mb"> HTTP请求</em> </strong>元素，如下所示。</p><figure class="lx ly lz ma fd ij er es paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="er es lw"><img src="../Images/574a0ad024ba72d8dda6bf320b2a0c69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*MY2Jy76H_TrUqJnO.png"/></div></div><p class="im in et er es io ip bd b be z dx translated">HTTP获取请求配置</p></figure><p id="f116" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">现在我们已经成功配置了我们的<strong class="jq hj"> <em class="mb"> HTTP请求</em> </strong>元素。然后我们需要配置一个监听器来查看HTTP请求的结果。</p><p id="7a1f" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><strong class="jq hj">如果你想为一个POST API端点配置一个测试计划</strong></p><p id="a1bc" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">如果您想要使用有效负载对POST端点进行负载测试，那么您需要配置您的<strong class="jq hj"> <em class="mb"> HTTP请求</em> </strong>以具有与上面不同的配置，您将必须在<strong class="jq hj">主体数据</strong>部分下传递有效负载以及相关的端口号和路径值。</p><figure class="lx ly lz ma fd ij er es paragraph-image"><a href="https://javarevisited.blogspot.com/2020/02/top-5-postman-tutorials-and-courses-for-web-developers.html"><div class="er es lw"><img src="../Images/93190d10904905aeff12fe70f06fb35e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*navRPQqadeOMU1v7.png"/></div></a><p class="im in et er es io ip bd b be z dx translated">为POST API端点配置的HTTP请求。</p></figure></div><div class="ab cl lg lh gp li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="hb hc hd he hf"><h1 id="8536" class="iq ir hi bd is it ln iv iw ix lo iz ja jb lp jd je jf lq jh ji jj lr jl jm jn bi translated">添加监听器</h1><p id="ff35" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">在JMeter中，监听器用于输出负载测试的结果。JMeter中有几种类型的监听器，但是对于这个测试，我们将使用树 监听器中的<strong class="jq hj"> <em class="mb">视图结果，这是一个更简单的监听器。</em></strong></p><p id="470d" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">要将树中的<strong class="jq hj"> <em class="mb">视图结果</em> </strong>元素添加到<strong class="jq hj"> <em class="mb">线程组</em> </strong>元素中，请右键单击<strong class="jq hj"> <em class="mb">线程组</em> </strong>元素，并像之前一样选择如图所示的菜单项。</p><figure class="lx ly lz ma fd ij er es paragraph-image"><a href="https://javarevisited.blogspot.com/2016/05/what-are-idempotent-and-safe-methods-of-HTTP-and-REST.html"><div class="er es lw"><img src="../Images/14179c4ceca07eeda8c78673435d5801.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8n5-lRJ37L7pXnCs.png"/></div></a><p class="im in et er es io ip bd b be z dx translated">将视图结果树添加到线程组元素。</p></figure><p id="7556" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated"><strong class="jq hj">在运行监听器之前保存文件</strong></p><p id="727a" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">为了查看负载测试的输出结果，我们必须保存该文件。</p><figure class="lx ly lz ma fd ij er es paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="er es lw"><img src="../Images/ccd20b925c579bd9404745d522fdb556.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*hzgffXi_qnVnGez5.png"/></div></div><p class="im in et er es io ip bd b be z dx translated">保存文件</p></figure><p id="a1ae" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">文件将保存在。jmx格式如上图。</p><p id="d981" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">如果您已经正确地将元素添加到了<strong class="jq hj"> <em class="mb">线程组</em> </strong>元素中，那么我们的设置将类似于下面的屏幕截图</p><figure class="lx ly lz ma fd ij er es paragraph-image"><a href="https://javarevisited.blogspot.com/2021/11/top-5-courses-to-learn-soapui-online-in.html#axzz7CANam4JD"><div class="er es lw"><img src="../Images/7206e70561776f0a13ca45e4ec6218a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QesDhJ3bnHdI4OlV.png"/></div></a><p class="im in et er es io ip bd b be z dx translated">树侦听器中的配置视图结果。</p></figure></div><div class="ab cl lg lh gp li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="hb hc hd he hf"><h1 id="18ad" class="iq ir hi bd is it ln iv iw ix lo iz ja jb lp jd je jf lq jh ji jj lr jl jm jn bi translated">运行测试计划</h1><p id="19b0" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">现在我们已经正确地配置了测试计划。然后让我们运行测试，看看结果。</p><p id="8411" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">在左侧窗格中选择<strong class="jq hj"> <em class="mb">查看结果树</em> </strong>元素，然后在主菜单中点击<strong class="jq hj"> <em class="mb">运行</em> </strong>，然后点击<em class="mb">开始</em>(或者直接点击主菜单下方的绿色开始箭头)，如下图所示。</p><figure class="lx ly lz ma fd ij er es paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="er es lw"><img src="../Images/6d7c25e4dfd518b9e0f3be64fb021589.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tcxH2wBDUnbzsQSf.png"/></div></div></figure><p id="212e" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">如果您正确地遵循了这些步骤，那么您应该会看到如下输出。</p><figure class="lx ly lz ma fd ij er es paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="er es lw"><img src="../Images/514a07cb6f6676a53a98417772d60881.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lrXqvfEuKKXGjbjl.png"/></div></div><p class="im in et er es io ip bd b be z dx translated">HTTP请求测试响应</p></figure><p id="aa6c" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">因为这是一个Get请求，所以我们得到了一个带有响应数据的200成功响应。</p></div><div class="ab cl lg lh gp li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="hb hc hd he hf"><h1 id="f54d" class="iq ir hi bd is it ln iv iw ix lo iz ja jb lp jd je jf lq jh ji jj lr jl jm jn bi translated">负载测试</h1><p id="08a1" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">好了，酷，现在一切都设置正确了。现在是运行负载测试的时候了。为了做到这一点，我们需要在我们的<strong class="jq hj"> <em class="mb">测试计划</em> </strong>中重新配置我们的<strong class="jq hj"> <em class="mb">线程组</em> </strong>元素，以拥有几个线程相关的属性。为此，单击<strong class="jq hj"> <em class="mb">线程组</em> </strong>，并向其添加以下属性。因为作为一个负载测试，我们应该给API的端点提供一些重负载。通过更改<strong class="jq hj"> <em class="mb">线程组</em> </strong>中的以下参数，允许JMeters在指定的用户数量下执行适当的负载测试。</p><figure class="lx ly lz ma fd ij er es paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="er es lw"><img src="../Images/7df52f9f2b2dddff226273d0022480c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*yCBX8lgPOVWmLjsn.png"/></div></div><p class="im in et er es io ip bd b be z dx translated">更新的线程组</p></figure><p id="c4c1" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">这些更改的值是影响负载测试的三个特别重要的属性:</p><ul class=""><li id="bc0c" class="ks kt hi jq b jr kn jv ko jz ku kd kv kh kw kl kx ky kz la bi translated"><strong class="jq hj">线程(用户)数量:</strong>JMeter将尝试模拟的用户数量。</li><li id="0395" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated"><strong class="jq hj">上升周期(秒):</strong>JMeter分配线程开始的持续时间。</li><li id="456e" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated"><strong class="jq hj">循环计数:</strong>执行测试的次数。</li></ul><p id="beab" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">然后再次保存<strong class="jq hj">测试计划</strong>，然后按照上述步骤再次运行测试，您会看到类似下面的内容。</p><figure class="lx ly lz ma fd ij er es paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="er es lw"><img src="../Images/1d079d7a2a0c6f26630ea356b27e5a59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*S8o1bPdgxqV0yGGs.png"/></div></div><p class="im in et er es io ip bd b be z dx translated">负荷试验</p></figure></div><div class="ab cl lg lh gp li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="hb hc hd he hf"><h1 id="9f7c" class="iq ir hi bd is it ln iv iw ix lo iz ja jb lp jd je jf lq jh ji jj lr jl jm jn bi translated">了解结果</h1><p id="d029" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">我们可以看到，上面截图中所有请求的<strong class="jq hj"> <em class="mb">状态</em> </strong>都是“成功”(用一个带勾的绿色盾牌表示)。之后，<strong class="jq hj">采样时间(毫秒)</strong>和<strong class="jq hj"> <em class="mb">延迟</em> </strong>列可能是结果集中最感兴趣的列。</p><ul class=""><li id="1235" class="ks kt hi jq b jr kn jv ko jz ku kd kv kh kw kl kx ky kz la bi translated"><strong class="jq hj"> <em class="mb">延迟:</em></strong>JMeter发送请求和收到初始响应之间经过的毫秒数</li><li id="c889" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated"><strong class="jq hj"> <em class="mb">采样时间:</em> </strong>服务器完全满足请求(<code class="du ls lt lu lv b">response + latency</code>)所用的毫秒数</li></ul><p id="cb42" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">根据<strong class="jq hj"> <em class="mb">查看结果树</em> </strong>输出，则<strong class="jq hj">加载<em class="mb">时间</em> </strong>为144。对于一个简单的<a class="ae km" rel="noopener" href="/javarevisited/10-best-java-web-services-rest-soap-and-api-courses-for-beginners-724a8f51298d"> Rest API </a>来说，这是一个相当高的值，但是在我的情况下，这个端点几乎不执行繁重的任务，这对我来说是可以接受的。根据REST API端点的功能和其他因素，您可能会得到与我不同的结果，比如；地理距离(通常会增加等待时间)、所请求项目的大小(会增加传输时间)等..所以不要担心结果，如果你和我的价值观不同。</p><p id="4ea9" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">因此，基本上我们所做的是模拟50个用户在10秒内访问一个API端点(每秒5个)。</p><p id="98db" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">正如您所看到的，很明显，只需对线程组配置进行简单的更改，就可以很容易地用虚拟用户的数量来测试API。</p><p id="c9d0" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">使用JMeter，用户可以进行负载测试之外的测试，例如压力测试、功能测试、分布式测试。</p><p id="2f8d" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">快乐编码..</p></div></div>    
</body>
</html>