<html>
<head>
<title>What Java Version Are You Running?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">您运行的是什么Java版本？</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/what-java-version-are-you-running-foojay-io-today-9b6a23a87558?source=collection_archive---------2-----------------------#2022-12-15">https://medium.com/javarevisited/what-java-version-are-you-running-foojay-io-today-9b6a23a87558?source=collection_archive---------2-----------------------#2022-12-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="6bd6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有时，您需要检查您的计算机或服务器上安装了哪个Java版本，例如，当开始一个新项目或配置一个应用程序在服务器上运行时。</p><p id="7ad8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是你知道有多种方法可以做到这一点，甚至可以很快获得比你想象的更多的信息吗？</p><p id="c559" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们来看看…</p><h1 id="abcf" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">在终端中读取Java版本</h1><p id="c5d5" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">找到已安装版本的最简单方法可能是使用<code class="du kg kh ki kj b">java -version</code>终端命令:</p><pre class="kk kl km kn fd ko kj kp bn kq kr bi"><span id="c69c" class="ks je hi kj b be kt ku l kv kw">$ java -version<br/>openjdk version "19" 2022-09-20<br/>OpenJDK Runtime Environment Zulu19.28+81-CA (build 19+36)<br/>OpenJDK 64-Bit Server VM Zulu19.28+81-CA (build 19+36, mixed mode, sharing)</span></pre><h1 id="7539" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">检查安装目录中的版本文件</h1><p id="569d" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">上面的输出来自于<code class="du kg kh ki kj b">java</code>可执行文件从其安装目录下的文件中读取的信息。</p><p id="ade5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们探索一下我们能在那里找到什么。</p><p id="c7a9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我的机器上，当我使用<a class="ae kx" href="https://sdkman.io/" rel="noopener ugc nofollow" target="_blank"> SDKMAN </a>在不同的Java版本之间切换时，我所有的版本都存储在这里:</p><pre class="kk kl km kn fd ko kj kp bn kq kr bi"><span id="bc04" class="ks je hi kj b be kt ku l kv kw">$ ls -l /Users/frankdelporte/.sdkman/candidates/java/<br/>total 0<br/>drwxr-xr-x  15 frankdelporte  staff  480 Apr 17  2022 11.0.15-zulu<br/>drwxr-xr-x  16 frankdelporte  staff  512 Apr 17  2022 17.0.3.fx-zulu<br/>drwxr-xr-x  15 frankdelporte  staff  480 Mar 29  2022 18.0.1-zulu<br/>drwxr-xr-x  15 frankdelporte  staff  480 Sep  7 18:36 19-zulu<br/>drwxr-xr-x  18 frankdelporte  staff  576 Apr 18  2022 8.0.332-zulu<br/>lrwxr-xr-x   1 frankdelporte  staff    7 Nov 21 21:09 current -&gt; 19-zulu</span></pre><p id="8d6e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在每个目录中，可以找到一个发布文件，它也向我们显示了版本信息，包括一些额外的信息。</p><pre class="kk kl km kn fd ko kj kp bn kq kr bi"><span id="d5b6" class="ks je hi kj b be kt ku l kv kw">$ cat /Users/frankdelporte/.sdkman/candidates/java/19-zulu/release<br/>IMPLEMENTOR="Azul Systems, Inc."<br/>IMPLEMENTOR_VERSION="Zulu19.28+81-CA"<br/>JAVA_VERSION="19"<br/>JAVA_VERSION_DATE="2022-09-20"<br/>LIBC="default"<br/>MODULES="java.base java.compiler ... jdk.unsupported jdk.unsupported.desktop jdk.xml.dom"<br/>OS_ARCH="aarch64"<br/>OS_NAME="Darwin"<br/>SOURCE=".:git:3d665268e905"<br/> <br/>$ cat /Users/frankdelporte/.sdkman/candidates/java/8.0.332-zulu//release<br/>JAVA_VERSION="1.8.0_332"<br/>OS_NAME="Darwin"<br/>OS_VERSION="11.2"<br/>OS_ARCH="aarch64"<br/>SOURCE="git:f4b2b4c5882e"</span></pre><h1 id="24cb" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">使用showSettings获取更多信息</h1><p id="f5ec" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">2010年，OpenJDK中增加了一个实验标志(用<code class="du kg kh ki kj b">X</code>表示)，以提供更多的配置信息:<code class="du kg kh ki kj b">-XshowSettings</code>。</p><figure class="kk kl km kn fd kz er es paragraph-image"><div class="er es ky"><img src="../Images/f153d96dfbf7ba786f6036bb631101e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1164/format:webp/0*I6biZB41AKVBCKYV.png"/></div></figure><p id="10cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个标志可以用不同的参数调用，每个参数产生一个信息输出。</p><p id="6a2e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">调用这个标志的最干净的方法是添加<code class="du kg kh ki kj b">-version</code>，否则您将得到很长的Java手动输出，因为没有发现要执行的应用程序代码。</p><h1 id="2881" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">读取系统属性</h1><p id="bd0a" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">通过使用<code class="du kg kh ki kj b">-XshowSettings:properties</code>标志，显示了各种属性的长列表。</p><pre class="kk kl km kn fd ko kj kp bn kq kr bi"><span id="b8a7" class="ks je hi kj b be kt ku l kv kw">$ java -XshowSettings:properties -version<br/>Property settings:<br/>    file.encoding = UTF-8<br/>    file.separator = /<br/>    ftp.nonProxyHosts = local|*.local|169.254/16|*.169.254/16<br/>    http.nonProxyHosts = local|*.local|169.254/16|*.169.254/16<br/>    java.class.path =<br/>    java.class.version = 63.0<br/>    java.home = /Users/frankdelporte/.sdkman/candidates/java/19-zulu/zulu-19.jdk/Contents/Home<br/>    java.io.tmpdir = /var/folders/np/6j1kls013kn2gpg_k6tz2lkr0000gn/T/<br/>    java.library.path = /Users/frankdelporte/Library/Java/Extensions<br/>        /Library/Java/Extensions<br/>        /Network/Library/Java/Extensions<br/>        /System/Library/Java/Extensions<br/>        /usr/lib/java<br/>        .<br/>    java.runtime.name = OpenJDK Runtime Environment<br/>    java.runtime.version = 19+36<br/>    java.specification.name = Java Platform API Specification<br/>    java.specification.vendor = Oracle Corporation<br/>    java.specification.version = 19<br/>    java.vendor = Azul Systems, Inc.<br/>    java.vendor.url = http://www.azul.com/<br/>    java.vendor.url.bug = http://www.azul.com/support/<br/>    java.vendor.version = Zulu19.28+81-CA<br/>    java.version = 19<br/>    java.version.date = 2022-09-20<br/>    java.vm.compressedOopsMode = Zero based<br/>    java.vm.info = mixed mode, sharing<br/>    java.vm.name = OpenJDK 64-Bit Server VM<br/>    java.vm.specification.name = Java Virtual Machine Specification<br/>    java.vm.specification.vendor = Oracle Corporation<br/>    java.vm.specification.version = 19<br/>    java.vm.vendor = Azul Systems, Inc.<br/>    java.vm.version = 19+36<br/>    jdk.debug = release<br/>    line.separator = \n<br/>    native.encoding = UTF-8<br/>    os.arch = aarch64<br/>    os.name = Mac OS X<br/>    os.version = 13.0.1<br/>    path.separator = :<br/>    socksNonProxyHosts = local|*.local|169.254/16|*.169.254/16<br/>    stderr.encoding = UTF-8<br/>    stdout.encoding = UTF-8<br/>    sun.arch.data.model = 64<br/>    sun.boot.library.path = /Users/frankdelporte/.sdkman/candidates/java/19-zulu/zulu-19.jdk/Contents/Home/lib<br/>    sun.cpu.endian = little<br/>    sun.io.unicode.encoding = UnicodeBig<br/>    sun.java.launcher = SUN_STANDARD<br/>    sun.jnu.encoding = UTF-8<br/>    sun.management.compiler = HotSpot 64-Bit Tiered Compilers<br/>    user.country = BE<br/>    user.dir = /Users/frankdelporte<br/>    user.home = /Users/frankdelporte<br/>    user.language = en<br/>    user.name = frankdelporte<br/> <br/>openjdk version "19" 2022-09-20<br/>OpenJDK Runtime Environment Zulu19.28+81-CA (build 19+36)<br/>OpenJDK 64-Bit Server VM Zulu19.28+81-CA (build 19+36, mixed mode, sharing)</span></pre><p id="4807" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你曾经遇到过不支持的<a class="ae kx" href="http://www.java67.com/2016/06/unsupported-majorminor-version-520-in-java-eclipse-linux.html" rel="noopener ugc nofollow" target="_blank"> Java版本59 </a>(类似)的问题，你现在也会明白这个值是在哪里定义的，就在这个列表中的<code class="du kg kh ki kj b">java.class.version</code>。</p><p id="806b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它是Java用来定义版本的内部编号。</p><ul class=""><li id="2128" class="lc ld hi ih b ii ij im in iq le iu lf iy lg jc lh li lj lk bi translated">Java版本&gt;类版本</li><li id="bb85" class="lc ld hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi">8 &gt; 52</li><li id="7953" class="lc ld hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi">9 &gt; 53</li><li id="26ca" class="lc ld hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi">10 &gt; 54</li><li id="4f80" class="lc ld hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi">11 &gt; 55</li><li id="c472" class="lc ld hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi">12 &gt; 56</li><li id="4ede" class="lc ld hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi">13 &gt; 57</li><li id="19cb" class="lc ld hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi">14 &gt; 58</li><li id="d3b8" class="lc ld hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi">15 &gt; 59</li><li id="0937" class="lc ld hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi">16 &gt; 60</li><li id="2862" class="lc ld hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi">17 &gt; 61</li><li id="b107" class="lc ld hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi">18 &gt; 62</li><li id="6996" class="lc ld hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi">19 &gt; 63</li></ul><h1 id="007b" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">读取区域设置信息</h1><p id="a406" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">如果你还不知道，我住在比利时，使用英语作为我的计算机语言，正如你在使用<code class="du kg kh ki kj b">-XshowSettings:locale</code>旗时看到的:</p><pre class="kk kl km kn fd ko kj kp bn kq kr bi"><span id="ce33" class="ks je hi kj b be kt ku l kv kw">$ java -XshowSettings:locale -version<br/>Locale settings:<br/>    default locale = English (Belgium)<br/>    default display locale = English (Belgium)<br/>    default format locale = English (Belgium)<br/>    available locales = , af, af_NA, af_ZA, af_ZA_#Latn, agq, agq_CM, agq_CM_#Latn,<br/>        ak, ak_GH, ak_GH_#Latn, am, am_ET, am_ET_#Ethi, ar, ar_001,<br/>        ar_AE, ar_BH, ar_DJ, ar_DZ, ar_EG, ar_EG_#Arab, ar_EH, ar_ER,<br/>        ...<br/>        zh_MO_#Hant, zh_SG, zh_SG_#Hans, zh_TW, zh_TW_#Hant, zh__#Hans, zh__#Hant, zu,<br/>        zu_ZA, zu_ZA_#Latn<br/> <br/>openjdk version "19" 2022-09-20<br/>OpenJDK Runtime Environment Zulu19.28+81-CA (build 19+36)<br/>OpenJDK 64-Bit Server VM Zulu19.28+81-CA (build 19+36, mixed mode, sharing)</span></pre><h1 id="2d04" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">读取虚拟机设置</h1><p id="d4d6" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">使用<code class="du kg kh ki kj b">-XshowSettings:vm</code>标志，显示了一些关于<a class="ae kx" href="https://javarevisited.blogspot.com/2011/12/jre-jvm-jdk-jit-in-java-programming.html" rel="noopener ugc nofollow" target="_blank"> Java虚拟机的信息。</a></p><p id="b4b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如您在第二个例子中看到的，最大堆内存大小可以用<code class="du kg kh ki kj b">-Xmx</code>标志来定义。</p><pre class="kk kl km kn fd ko kj kp bn kq kr bi"><span id="673a" class="ks je hi kj b be kt ku l kv kw">$ java -XshowSettings:vm -version<br/>VM settings:<br/>    Max. Heap Size (Estimated): 8.00G<br/>    Using VM: OpenJDK 64-Bit Server VM<br/> <br/>openjdk version "19" 2022-09-20<br/>OpenJDK Runtime Environment Zulu19.28+81-CA (build 19+36)<br/>OpenJDK 64-Bit Server VM Zulu19.28+81-CA (build 19+36, mixed mode, sharing)<br/> <br/>$ java -XshowSettings:vm -Xmx512M -version<br/>VM settings:<br/>    Max. Heap Size: 512.00M<br/>    Using VM: OpenJDK 64-Bit Server VM<br/> <br/>openjdk version "19" 2022-09-20<br/>OpenJDK Runtime Environment Zulu19.28+81-CA (build 19+36)<br/>OpenJDK 64-Bit Server VM Zulu19.28+81-CA (build 19+36, mixed mode, sharing)</span></pre><h1 id="db41" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">同时阅读</h1><p id="b260" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">如果您想在一次调用中获得上述所有信息，请使用<code class="du kg kh ki kj b">-XshowSettings:all</code>标志。</p><h1 id="1930" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">结论</h1><p id="45ff" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">在<code class="du kg kh ki kj b">java -version</code>旁边，我们也可以使用<code class="du kg kh ki kj b">java -XshowSettings:all -version</code>来获得更多关于我们的Java环境的信息。</p></div><div class="ab cl lq lr gp ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="hb hc hd he hf"><p id="d22b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lx">原载于2022年12月15日</em><a class="ae kx" href="https://foojay.io/today/what-java-version-are-you-running-lets-take-a-look-under-the-hood-of-the-jdk/" rel="noopener ugc nofollow" target="_blank"><em class="lx">https://foojay . io</em></a><em class="lx">。</em></p></div></div>    
</body>
</html>