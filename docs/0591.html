<html>
<head>
<title>What to Expect in Java 15</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Java 15有什么值得期待的</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/what-to-expect-in-java-15-a62d0033beb9?source=collection_archive---------1-----------------------#2020-07-16">https://medium.com/javarevisited/what-to-expect-in-java-15-a62d0033beb9?source=collection_archive---------1-----------------------#2020-07-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="8c39" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">简要介绍即将发布的Java版本的新特性</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/a9cfcf1fc39e1a71e9c4a784a161d36b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fcQoxV1boJyZ_8G9"/></div></div><p class="jj jk et er es jl jm bd b be z dx translated">照片由<a class="ae jn" href="https://unsplash.com/@builtbymath?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">数学</a>上的<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="2dc3" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">3月17日发布的Java 14有一些重要的改进。按照为Java设定的6个月发布周期，Java 14将在8月被Java 15取代。Java 15也将像Java 14一样成为Java的一个特性版本，而不是一个长期支持(LTS)版本。当前的LTS版本是Java 11，有望在2021年被Java 17 LTS版本取代。</p><p id="0c91" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">截至7月16日，Java 15正处于第二阶段。这意味着整个特性集被冻结了，在这个版本中不会再有新的jep了。因此，根据<a class="ae jn" href="https://openjdk.java.net/projects/jdk/15/" rel="noopener ugc nofollow" target="_blank"> OpenJDK网站</a>的消息，以下是Java 15将推出的预期特性。</p><ul class=""><li id="d1e4" class="kk kl hi jq b jr js ju jv jx km kb kn kf ko kj kp kq kr ks bi translated"><a class="ae jn" href="https://openjdk.java.net/jeps/339" rel="noopener ugc nofollow" target="_blank">爱德华兹曲线数字签名算法(EdDSA) </a></li><li id="9dc4" class="kk kl hi jq b jr kt ju ku jx kv kb kw kf kx kj kp kq kr ks bi translated"><a class="ae jn" href="https://openjdk.java.net/jeps/360" rel="noopener ugc nofollow" target="_blank">密封类(预览)</a></li><li id="ce4b" class="kk kl hi jq b jr kt ju ku jx kv kb kw kf kx kj kp kq kr ks bi translated"><a class="ae jn" href="https://openjdk.java.net/jeps/371" rel="noopener ugc nofollow" target="_blank">隐藏类</a></li><li id="740a" class="kk kl hi jq b jr kt ju ku jx kv kb kw kf kx kj kp kq kr ks bi translated"><a class="ae jn" href="https://openjdk.java.net/jeps/373" rel="noopener ugc nofollow" target="_blank">重新实现传统DatagramSocket API </a></li><li id="1ada" class="kk kl hi jq b jr kt ju ku jx kv kb kw kf kx kj kp kq kr ks bi translated"><a class="ae jn" href="https://openjdk.java.net/jeps/378" rel="noopener ugc nofollow" target="_blank">文本块</a></li><li id="6e7d" class="kk kl hi jq b jr kt ju ku jx kv kb kw kf kx kj kp kq kr ks bi translated"><a class="ae jn" href="https://openjdk.java.net/jeps/374" rel="noopener ugc nofollow" target="_blank">禁用和取消偏向锁定</a></li><li id="ee8e" class="kk kl hi jq b jr kt ju ku jx kv kb kw kf kx kj kp kq kr ks bi translated"><a class="ae jn" href="https://openjdk.java.net/jeps/381" rel="noopener ugc nofollow" target="_blank">移除Solaris和SPARC端口</a></li><li id="cdc0" class="kk kl hi jq b jr kt ju ku jx kv kb kw kf kx kj kp kq kr ks bi translated"><a class="ae jn" href="https://openjdk.java.net/jeps/372" rel="noopener ugc nofollow" target="_blank">移除Nashorn JavaScript引擎</a></li><li id="ff23" class="kk kl hi jq b jr kt ju ku jx kv kb kw kf kx kj kp kq kr ks bi translated"><a class="ae jn" href="https://openjdk.java.net/jeps/385" rel="noopener ugc nofollow" target="_blank">不赞成为移除而激活RMI</a></li><li id="f66d" class="kk kl hi jq b jr kt ju ku jx kv kb kw kf kx kj kp kq kr ks bi translated">一个低暂停时间的垃圾收集器</li><li id="74c3" class="kk kl hi jq b jr kt ju ku jx kv kb kw kf kx kj kp kq kr ks bi translated">ZGC:一个可扩展的低延迟垃圾收集器</li><li id="4810" class="kk kl hi jq b jr kt ju ku jx kv kb kw kf kx kj kp kq kr ks bi translated"><a class="ae jn" href="https://openjdk.java.net/jeps/375" rel="noopener ugc nofollow" target="_blank">实例的模式匹配(第二次预览)</a></li><li id="537b" class="kk kl hi jq b jr kt ju ku jx kv kb kw kf kx kj kp kq kr ks bi translated"><a class="ae jn" href="https://openjdk.java.net/jeps/384" rel="noopener ugc nofollow" target="_blank">记录(第二次预览)</a></li><li id="1aec" class="kk kl hi jq b jr kt ju ku jx kv kb kw kf kx kj kp kq kr ks bi translated"><a class="ae jn" href="https://openjdk.java.net/jeps/383" rel="noopener ugc nofollow" target="_blank">外部存储器访问API(第二孵化器)</a></li></ul><p id="8e6c" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">下面我将讨论其中的一些重要特性。</p></div><div class="ab cl ky kz gp la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="hb hc hd he hf"><h2 id="6caa" class="lf lg hi bd lh li lj lk ll lm ln lo lp jx lq lr ls kb lt lu lv kf lw lx ly lz bi translated">JEP 339:爱德华曲线数字签名算法(EdDSA)</h2><p id="569e" class="pw-post-body-paragraph jo jp hi jq b jr ma ij jt ju mb im jw jx mc jz ka kb md kd ke kf me kh ki kj hb bi translated">EdDSA是一个数字签名系统，它是Schnorr的带有Edwards曲线的签名系统的变体。你可以在这里了解更多关于<a class="ae jn" href="https://tools.ietf.org/html/rfc8032" rel="noopener ugc nofollow" target="_blank">的信息。Java 15提供了这种签名方案，它优于JDK中现有的签名方案。</a></p><p id="98fb" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">Java增强建议(JEP)主要旨在实现RFC 8032中标准化的该方案，并开发与平台无关的EdDSA实现，其性能优于现有的ECDSA实现，并确保定时独立于所使用的秘密。</p><p id="564e" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">以下是摘自<a class="ae jn" href="https://openjdk.java.net/jeps/339" rel="noopener ugc nofollow" target="_blank"> JEP </a>的API用法示例。</p><pre class="iy iz ja jb fd mf mg mh mi aw mj bi"><span id="00e8" class="lf lg hi mg b fi mk ml l mm mn">// example: generate a key pair and sign<br/>KeyPairGenerator kpg = KeyPairGenerator.getInstance("Ed25519");<br/>KeyPair kp = kpg.generateKeyPair();<br/>// algorithm is pure Ed25519<br/>Signature sig = Signature.getInstance("Ed25519");<br/>sig.initSign(kp.getPrivate());<br/>sig.update(msg);<br/>byte[] s = sig.sign();<br/><br/>// example: use KeyFactory to contruct a public key<br/>KeyFactory kf = KeyFactory.getInstance("EdDSA");<br/>boolean xOdd = ...<br/>BigInteger y = ...<br/>NamedParameterSpec paramSpec = new NamedParameterSpec("Ed25519");<br/>EdECPublicKeySpec pubSpec = new EdECPublicKeySpec(paramSpec, new EdPoint(xOdd, y));<br/>PublicKey pubKey = kf.generatePublic(pubSpec);</span></pre><h2 id="67a9" class="lf lg hi bd lh li lj lk ll lm ln lo lp jx lq lr ls kb lt lu lv kf lw lx ly lz bi translated">JEP 360:密封类(预览)</h2><p id="3991" class="pw-post-body-paragraph jo jp hi jq b jr ma ij jt ju mb im jw jx mc jz ka kb md kd ke kf me kh ki kj hb bi translated">这只是Java 15中的一个预览特性。这里，我们可以通过对声明应用<em class="mo">密封的</em>修饰符来密封一个类/接口。这样，我们可以限制哪些其他类或接口可以扩展或实现它们。这样，我们将能够提供一种比访问修饰符更具声明性的方式来限制超类的使用。</p><p id="5575" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在以前的版本中，Java在这方面提供的工具非常有限。开发人员必须要么使一个类成为final，这样它就不能有任何子类，要么使一个类或它的构造函数成为package-private，这样它只能在同一个包中有子类。这些变通办法有其缺点。但是有了这个新特性，实现类限制就非常容易了。</p><pre class="iy iz ja jb fd mf mg mh mi aw mj bi"><span id="2de0" class="lf lg hi mg b fi mk ml l mm mn">public sealed class Shape<br/>    permits Circle, Rectangle, Square {...}</span></pre><h2 id="f3a7" class="lf lg hi bd lh li lj lk ll lm ln lo lp jx lq lr ls kb lt lu lv kf lw lx ly lz bi translated">JEP 371:隐藏的班级</h2><p id="8ef3" class="pw-post-body-paragraph jo jp hi jq b jr ma ij jt ju mb im jw jx mc jz ka kb md kd ke kf me kh ki kj hb bi translated">Java 15引入了不能被其他类的字节码直接使用的类。这些类旨在供在运行时生成类并通过反射间接使用它们的框架使用。</p><p id="50bd" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">该JEP的主要目标包括允许框架将类定义为框架的不可发现的实现细节，以便它们不能被其他类链接，也不能通过反射被发现，支持主动卸载不可发现的类，并反对非标准API，<em class="mo">misc . Unsafe::define anonymous class。</em></p><h2 id="7783" class="lf lg hi bd lh li lj lk ll lm ln lo lp jx lq lr ls kb lt lu lv kf lw lx ly lz bi translated">JEP 373:重新实现传统的DatagramSocket API</h2><p id="cbc3" class="pw-post-body-paragraph jo jp hi jq b jr ma ij jt ju mb im jw jx mc jz ka kb md kd ke kf me kh ki kj hb bi translated"><em class="mo"> java.net.DatagramSocket </em>和<em class="mo">Java . net . multicast socket</em>API的代码库都非常陈旧脆弱。这些API可以追溯到JDK 1.0，它们是遗留Java和C代码的混合，现在很难维护。并且多播套接字也是在IPv6开发时实现的。因此，它不太支持IPv6。此外，他们有一些并发问题，由于这些原因，这些实现将被更简单、更现代、更易于维护和调试的实现所取代。</p><h2 id="5eac" class="lf lg hi bd lh li lj lk ll lm ln lo lp jx lq lr ls kb lt lu lv kf lw lx ly lz bi translated">JEP 378:文本块</h2><p id="8b66" class="pw-post-body-paragraph jo jp hi jq b jr ma ij jt ju mb im jw jx mc jz ka kb md kd ke kf me kh ki kj hb bi translated">文本块是一种多行字符串文字，可以避免使用转义序列。从Java 12延续到Java 13和14，有很多关于多行字符串的实验。现在它正在成为Java 15中的一个永久特性。这样，表达跨越几行的字符串就非常容易使用，并且可读性也得到提高。现在，程序员可以轻松地将HTML、XML、SQL或JSON的片段嵌入到字符串文字中，这在以前需要使用连接和转义序列进行大量编辑。</p><p id="410e" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">文本块可以用三个”字符创建，也可以用同样的三个”字符结束。以下是摘自<a class="ae jn" href="https://openjdk.java.net/jeps/378" rel="noopener ugc nofollow" target="_blank"> OpenJDK网站的一个例子。</a></p><pre class="iy iz ja jb fd mf mg mh mi aw mj bi"><span id="0ca3" class="lf lg hi mg b fi mk ml l mm mn">String query = """<br/>               SELECT "EMP_ID", "LAST_NAME" FROM "EMPLOYEE_TB"<br/>               WHERE "CITY" = 'INDIANAPOLIS'<br/>               ORDER BY "EMP_ID", "LAST_NAME";<br/>               """;</span></pre><h2 id="0754" class="lf lg hi bd lh li lj lk ll lm ln lo lp jx lq lr ls kb lt lu lv kf lw lx ly lz bi translated">JEP 374:禁用和反对有偏向的锁定</h2><p id="7726" class="pw-post-body-paragraph jo jp hi jq b jr ma ij jt ju mb im jw jx mc jz ka kb md kd ke kf me kh ki kj hb bi translated">偏向锁定是HotSpot虚拟机中使用的一种优化技术，用于减少无竞争锁定的开销。但是随着现代先进计算机的发展，偏向锁的好处变得不那么重要了，因此Java 15中禁用了偏向锁。</p><p id="3ddc" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">但是由于一些Java应用程序可能会在禁用偏置锁定的情况下出现性能下降，程序员可以通过在命令行中设置<em class="mo"> XX:+UseBiasedLocking </em>来重新启用这种情况。</p><h2 id="7baa" class="lf lg hi bd lh li lj lk ll lm ln lo lp jx lq lr ls kb lt lu lv kf lw lx ly lz bi translated">JEP 377和JEP 379:垃圾收集者</h2><p id="42e8" class="pw-post-body-paragraph jo jp hi jq b jr ma ij jt ju mb im jw jx mc jz ka kb md kd ke kf me kh ki kj hb bi translated">ZGC是一个可伸缩的低延迟垃圾收集器，从Java 11开始就是一个实验性的特性，在Java 15中它变成了一个产品特性。Shenandoah GC也是自Java 12以来的一个实验性特性，它将成为Java 15中的一个产品特性。</p><h2 id="4cce" class="lf lg hi bd lh li lj lk ll lm ln lo lp jx lq lr ls kb lt lu lv kf lw lx ly lz bi translated">JEP 375:实例的模式匹配(第二次预览)</h2><p id="972e" class="pw-post-body-paragraph jo jp hi jq b jr ma ij jt ju mb im jw jx mc jz ka kb md kd ke kf me kh ki kj hb bi translated">这个特性的第一个预览版出现在Java 14中。这提供了一种简单有效的检查实例的方法。</p><pre class="iy iz ja jb fd mf mg mh mi aw mj bi"><span id="e7ff" class="lf lg hi mg b fi mk ml l mm mn">if (obj instanceof String s) {<br/>    // can use s here<br/>} else {<br/>    // can't use s here<br/>}</span></pre><p id="4d5b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">你可以通过<a class="ae jn" href="https://cr.openjdk.java.net/~briangoetz/amber/pattern-match.html" rel="noopener ugc nofollow" target="_blank">这里</a>阅读更多关于模式匹配的内容。</p><h2 id="e44c" class="lf lg hi bd lh li lj lk ll lm ln lo lp jx lq lr ls kb lt lu lv kf lw lx ly lz bi translated">JEP 384:记录(第二次预览)</h2><p id="d872" class="pw-post-body-paragraph jo jp hi jq b jr ma ij jt ju mb im jw jx mc jz ka kb md kd ke kf me kh ki kj hb bi translated">这也是Java 14中首次推出的预览版。记录是充当不可变数据的透明载体的类。</p><h2 id="e79a" class="lf lg hi bd lh li lj lk ll lm ln lo lp jx lq lr ls kb lt lu lv kf lw lx ly lz bi translated">JEP 383:外部内存访问API(第二个孵化器)</h2><p id="fb6b" class="pw-post-body-paragraph jo jp hi jq b jr ma ij jt ju mb im jw jx mc jz ka kb md kd ke kf me kh ki kj hb bi translated">这个API已经作为Java 14中的孵化模块交付了。孵化特性是实验性的API，以独立模块的形式发布，名称以“jdk.incubator”为前缀。</p><p id="54a7" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这个API允许Java程序安全有效地访问Java堆外的内存，重点是提供通用性、安全性、确定性和可用性。</p></div><div class="ab cl ky kz gp la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="hb hc hd he hf"><p id="c425" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">根据我的观点，上面描述的是一些重要的特征。希望我们能很快看到一个具有上述特性的改进的、高效的、无bug的版本。此外，如果你喜欢查看Java 15的早期开源版本，你可以下载并亲自测试。</p><p id="c7ad" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我的文章已经结束了，我希望你能从这次阅读中有所收获。感谢您的阅读。干杯。</p></div><div class="ab cl ky kz gp la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="hb hc hd he hf"><h2 id="4f67" class="lf lg hi bd lh li lj lk ll lm ln lo lp jx lq lr ls kb lt lu lv kf lw lx ly lz bi translated">资源</h2><ul class=""><li id="bc0c" class="kk kl hi jq b jr ma ju mb jx mp kb mq kf mr kj kp kq kr ks bi translated"><a class="ae jn" href="https://openjdk.java.net/projects/jdk/15/" rel="noopener ugc nofollow" target="_blank"> <em class="mo"> OpenJDK网站</em> </a></li><li id="a053" class="kk kl hi jq b jr kt ju ku jx kv kb kw kf kx kj kp kq kr ks bi translated"><a class="ae jn" href="https://www.infoworld.com/article/3534133/jdk-15-the-new-features-in-java-15.html#:~:text=The%20next%20version%20of%20standard,of%20pattern%20matching%20and%20records&amp;text=Java%20Development%20Kit%2015%2C%20Oracle's,the%20feature%20set%20now%20frozen" rel="noopener ugc nofollow" target="_blank"> <em class="mo"> InfoWorld科技博客</em> </a></li><li id="9969" class="kk kl hi jq b jr kt ju ku jx kv kb kw kf kx kj kp kq kr ks bi translated"><a class="ae jn" href="https://metebalci.com/blog/what-is-new-in-java-15/" rel="noopener ugc nofollow" target="_blank"> <em class="mo"> Metebalci技术博客</em> </a></li></ul></div></div>    
</body>
</html>