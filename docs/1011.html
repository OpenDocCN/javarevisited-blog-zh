<html>
<head>
<title>Spring Boot with Database and Redis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">拥有数据库和Redis的Spring Boot</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/how-to-use-database-and-redis-with-spring-boot-jpa-fdfac0789d10?source=collection_archive---------1-----------------------#2021-02-17">https://medium.com/javarevisited/how-to-use-database-and-redis-with-spring-boot-jpa-fdfac0789d10?source=collection_archive---------1-----------------------#2021-02-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><a href="https://www.java67.com/2018/06/5-best-courses-to-learn-spring-boot-in.html"><div class="er es if"><img src="../Images/7bad1bf102245b6103aa44bd9559806e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*8g0xLrOeMcei2lkZDUJG1w.png"/></div></a></figure><p id="d17c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">本文解释了如何使用带有多个数据源的spring boot应用程序。</p></div><div class="ab cl jk jl gp jm" role="separator"><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp"/></div><div class="hb hc hd he hf"><p id="5921" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我使用Spring Boot 2.3.0.RELEASE和数据库作为Postgres，先决条件是<a class="ae jr" rel="noopener" href="/javarevisited/7-best-free-postgresql-courses-for-beginners-to-learn-in-2021-3bf369d73794"> Postgres数据库</a>和Redis已经运行。</p><p id="fb41" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们从向pom.xml文件添加以下依赖项开始</p><figure class="js jt ju jv fd ij"><div class="bz dy l di"><div class="jw jx l"/></div></figure></div><div class="ab cl jk jl gp jm" role="separator"><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp"/></div><div class="hb hc hd he hf"><p id="0aa2" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">使用这些<a class="ae jr" href="https://www.java67.com/2019/01/top-5-spring-boot-annotations-java-programmers-should-know.html" rel="noopener ugc nofollow" target="_blank">注释</a>来注释spring boot应用程序类。</p><figure class="js jt ju jv fd ij"><div class="bz dy l di"><div class="jw jx l"/></div></figure><p id="ea09" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">rediskeyvalueadapter . enablekeyspaceevents .<em class="jy">ON _ STARTUP监听redis条目的到期事件。</em></p></div><div class="ab cl jk jl gp jm" role="separator"><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp"/></div><div class="hb hc hd he hf"><p id="739e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在<em class="jy"> application.yml </em>中配置您的数据源</p><figure class="js jt ju jv fd ij"><div class="bz dy l di"><div class="jw jx l"/></div></figure><p id="4c7d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">使用@Primary注释为<a class="ae jr" href="https://javarevisited.blogspot.com/2020/02/top-5-courses-to-learn-postgresql-in.html#axzz6ggCCT42g" rel="noopener ugc nofollow" target="_blank"> Postgres </a>创建一个数据源bean，告诉spring它是主数据源，如果spring在创建实体管理器bean时遇到异常，这个步骤会有所帮助。</p><figure class="js jt ju jv fd ij"><div class="bz dy l di"><div class="jw jx l"/></div></figure></div><div class="ab cl jk jl gp jm" role="separator"><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp jq"/><span class="jn bw bk jo jp"/></div><div class="hb hc hd he hf"><p id="3880" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们为Postgres和Redis创建实体POJO</p><figure class="js jt ju jv fd ij"><div class="bz dy l di"><div class="jw jx l"/></div></figure><p id="9bb0" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jy">redis实体的@Id </em>应该来自<em class="jy">org . spring framework . data . annotation . Id</em>而不是<em class="jy"> javax.persistence.Id </em></p><figure class="js jt ju jv fd ij"><div class="bz dy l di"><div class="jw jx l"/></div></figure><p id="d885" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们启动app，进入健康检查<a class="ae jr" href="http://localhost:8080/health" rel="noopener ugc nofollow" target="_blank"><em class="jy">http://localhost:8080/health</em></a><em class="jy">。</em>您可以编写JPA存储库类，并使用Postgres和Redis执行操作。</p><figure class="js jt ju jv fd ij"><div class="bz dy l di"><div class="jw jx l"/></div></figure><p id="2fa3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">你可以在这里访问完整的代码报告<a class="ae jr" href="https://github.com/shashikanth69/multiple-data-source-spring-boot.git" rel="noopener ugc nofollow" target="_blank">https://github . com/shashikanth 69/multiple-data-source-spring-boot . git</a></p><p id="e1cf" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">编码快乐！！</p></div></div>    
</body>
</html>