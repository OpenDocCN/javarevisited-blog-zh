<html>
<head>
<title>Intro to Nginx Web Server (Part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Nginx Web服务器介绍(第1部分)</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/intro-to-nginx-web-server-part-1-bb590fad7035?source=collection_archive---------1-----------------------#2022-02-03">https://medium.com/javarevisited/intro-to-nginx-web-server-part-1-bb590fad7035?source=collection_archive---------1-----------------------#2022-02-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><a href="https://www.java67.com/2016/06/3-difference-between-web-server-vs-application-server-vs-servlet-container.html"><div class="er es if"><img src="../Images/1d2a86ee924ccf1cba02a903b716001d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hXuuhny2NRwVopbkfz5caw.png"/></div></a></figure><h1 id="4305" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">介绍</h1><p id="4d90" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">今天我们将讨论Nginx，这是一个开源软件web服务器，也是Apache HTTP服务器的主要替代品/竞争对手。Nginx自诞生以来越来越受欢迎，广泛应用于web服务、反向代理、缓存、负载平衡、媒体流等等。</p><p id="ceab" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">类似“engine-ex”的Nginx是开源项目，可以提供管理保留代理、HTTP缓存和负载平衡器，Nginx比其他web服务更受青睐，因为Nginx解决了一个问题，这个问题说明我如何连接10000个并发连接</p><p id="6ed8" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">如今，网络中的连接数量没有限制。为了克服这个问题，Nginx引入了事件驱动的异步架构，这与传统的流程驱动架构完全不同。这就是为什么Nginx被认为是保持速度和可伸缩性的最可靠的服务器。</p><p id="d249" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">早些时候，Nginx的功能是HTTP web服务。但从那时起，它已经得到了发展，现在它还用作IAMP、POP3和SMTP的反向代理、HTTP负载平衡器、媒体流和电子邮件代理。Nginx是许多处理高流量网站的首选网络服务器之一，因为它能够以惊人的速度处理大量连接。它作为Apache HTTP服务器的重要竞争对手进入市场。</p><p id="5a20" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated"><strong class="jm hj">Nginx文章的所有部分:</strong></p><ul class=""><li id="3fa0" class="kn ko hi jm b jn ki jr kj jv kp jz kq kd kr kh ks kt ku kv bi translated">你是Nginx系列的第一部分</li><li id="98cc" class="kn ko hi jm b jn kw jr kx jv ky jz kz kd la kh ks kt ku kv bi translated"><a class="ae lb" rel="noopener" href="/javarevisited/installing-nginx-and-managed-by-command-part-2-b6b32b90b62d">安装Nginx并由命令管理(第二部分)</a></li><li id="7302" class="kn ko hi jm b jn kw jr kx jv ky jz kz kd la kh ks kt ku kv bi translated"><a class="ae lb" rel="noopener" href="/p/62e71ad1c3a0"> Nginx文件配置和日志(第三部分)</a></li></ul><h1 id="3974" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">Nginx是如何工作的？</h1><p id="4f4c" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">Nginx旨在提供更低的内存使用和高并发性</p><p id="0738" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">Nginx为每个web请求创建一个新的进程</p><p id="4de8" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">Nginx使用异步的、事件驱动的方法，其中请求在单线程中处理</p><p id="3265" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">Nginx有一个可以控制多个进程的主进程，主进程将维护工作进程</p><p id="ff33" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">工作进程将完成实际的工作</p><p id="2a4b" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">Nginx将没有任何阻塞地处理每个进程，因为这是异步的。</p><h1 id="7e3a" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">Nginx深感:</h1><h1 id="434f" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">Nginx对事件驱动工作的连接数没有限制。</h1><ul class=""><li id="172e" class="kn ko hi jm b jn jo jr js jv lc jz ld kd le kh ks kt ku kv bi translated">异步的</li><li id="a078" class="kn ko hi jm b jn kw jr kx jv ky jz kz kd la kh ks kt ku kv bi translated">事件驱动方法</li></ul><p id="c514" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">Nginx考虑了大多数web服务的可维护性、速度和可伸缩性。</p><p id="91b9" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">Nginx只是用来处理HTTP请求的，但是现在它可以提供以下服务</p><ul class=""><li id="3347" class="kn ko hi jm b jn ki jr kj jv kp jz kq kd kr kh ks kt ku kv bi translated">反向代理</li><li id="ef54" class="kn ko hi jm b jn kw jr kx jv ky jz kz kd la kh ks kt ku kv bi translated">HTTP负载平衡器</li><li id="4a0e" class="kn ko hi jm b jn kw jr kx jv ky jz kz kd la kh ks kt ku kv bi translated">媒体流</li><li id="f9b0" class="kn ko hi jm b jn kw jr kx jv ky jz kz kd la kh ks kt ku kv bi translated">IAMP、POP3和SMTP的电子邮件代理</li></ul><p id="3911" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">NGINX工作:</p><p id="d6ea" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">Nginx是一个提供HTTP请求的web服务，但是也可以提供反向代理和其他服务</p><p id="500e" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">nginx可以同时处理多个网络，因为它是异步架构</p><p id="c166" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">nginx可以帮助保护您的数据和何时接收网络之间的连接</p><h1 id="582e" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">nginx的优势是什么</h1><ul class=""><li id="fc37" class="kn ko hi jm b jn jo jr js jv lc jz ld kd le kh ks kt ku kv bi translated">编写的代码基础比其他替代方案更加一致。</li><li id="1466" class="kn ko hi jm b jn kw jr kx jv ky jz kz kd la kh ks kt ku kv bi translated">它提供了友好的配置格式，并且具有比任何其他web服务器替代方案都更现代的设计。</li><li id="ecf8" class="kn ko hi jm b jn kw jr kx jv ky jz kz kd la kh ks kt ku kv bi translated">它是基于事件的，允许您处理多个连接，而不会因为上下文切换而产生开销。</li><li id="cc00" class="kn ko hi jm b jn kw jr kx jv ky jz kz kd la kh ks kt ku kv bi translated">它使用较少的内存和资源。</li><li id="87cd" class="kn ko hi jm b jn kw jr kx jv ky jz kz kd la kh ks kt ku kv bi translated">NGINX使网站速度更快，并帮助他们获得更好的谷歌排名。</li><li id="8c8f" class="kn ko hi jm b jn kw jr kx jv ky jz kz kd la kh ks kt ku kv bi translated">它显示了与常用web应用程序的兼容性，如ruby、python、Joomla等。</li><li id="48fd" class="kn ko hi jm b jn kw jr kx jv ky jz kz kd la kh ks kt ku kv bi translated">它有助于将动态内容转换为静态内容。</li><li id="51ce" class="kn ko hi jm b jn kw jr kx jv ky jz kz kd la kh ks kt ku kv bi translated">它有助于同时处理数千个并发连接。</li></ul><p id="e2ba" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">但是每个优点也有缺点</p><ul class=""><li id="995f" class="kn ko hi jm b jn ki jr kj jv kp jz kq kd kr kh ks kt ku kv bi translated">与Apache相比，它的社区支持较少，但使用案例比<a class="ae lb" href="https://javarevisited.blogspot.com/2017/01/12-essential-apache-web-server-interview-questions-answers-java-linux.html#axzz5b2narrgt" rel="noopener ugc nofollow" target="_blank"> Apache </a>多。</li><li id="1e13" class="kn ko hi jm b jn kw jr kx jv ky jz kz kd la kh ks kt ku kv bi translated">与Apache相比，它没有提供很多模块和扩展。</li><li id="18f0" class="kn ko hi jm b jn kw jr kx jv ky jz kz kd la kh ks kt ku kv bi translated">由于社区支持少，它不太喜欢被偏爱</li></ul><h1 id="fd0e" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">NGINX如何处理请求:</h1><figure class="lg lh li lj fd ij er es paragraph-image"><a href="https://javarevisited.blogspot.com/2017/01/12-essential-apache-web-server-interview-questions-answers-java-linux.html#axzz5b2narrgt"><div class="er es lf"><img src="../Images/e454258d2decda0bda41ed0c9dab4eaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/format:webp/1*BGUphK5U8fWR-K-pcRV3jA.jpeg"/></div></a></figure><p id="4d30" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">在这一节中，我将编写一个简单的配置来解释如何处理请求，在下一篇文章中，我将解释如何安装Nginx。</p><p id="3493" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">NGINX配置文件必须包含至少一个服务器指令来定义虚拟服务器。当NGINX处理请求时，它首先选择服务请求的虚拟服务器。</p><p id="02d4" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">虚拟服务器由“http”上下文中的“server”指令定义，例如:</p><pre class="lg lh li lj fd lk ll lm ln aw lo bi"><span id="cf2f" class="lp in hi ll b fi lq lr l ls lt">server {<br/>}</span></pre><p id="7630" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">让我们从一个简单的配置开始，其中所有三台虚拟服务器都监听端口*:80:</p><pre class="lg lh li lj fd lk ll lm ln aw lo bi"><span id="f08a" class="lp in hi ll b fi lq lr l ls lt">server {<br/> listen  80;<br/> server_name example.org <a class="ae lb" href="http://www.example.org;" rel="noopener ugc nofollow" target="_blank">www.example.org;</a><br/> ...<br/>}<br/> <br/>server {<br/> listen  80;<br/> server_name example.net <a class="ae lb" href="http://www.example.net;" rel="noopener ugc nofollow" target="_blank">www.example.net;</a><br/> ...<br/>}<br/> <br/>server {<br/> listen  80;<br/> server_name example.com <a class="ae lb" href="http://www.example.com;" rel="noopener ugc nofollow" target="_blank">www.example.com;</a><br/> ...<br/>}</span></pre><p id="8cb9" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">在上面的配置中，所有的服务器监听端口80，但是具有不同的域，如果没有任何域存在的任何请求到来，Nginx将在默认情况下在第一个服务器中处理，将第一个服务器设置为主服务器，但是如果在服务器部分default_server附近编写此配置，我们可以更改它。查看下面的配置，了解如何设置default_server。</p><pre class="lg lh li lj fd lk ll lm ln aw lo bi"><span id="f544" class="lp in hi ll b fi lq lr l ls lt">server {<br/> listen  80 default_server;<br/> server_name example.org <a class="ae lb" href="http://www.example.org;" rel="noopener ugc nofollow" target="_blank">www.example.org;</a><br/> ...<br/>}</span></pre><blockquote class="lu lv lw"><p id="f8fa" class="jk jl lx jm b jn ki jp jq jr kj jt ju ly kk jx jy lz kl kb kc ma km kf kg kh hb bi translated"><em class="hi">default _ server参数从版本0.8.21开始可用。在早期版本中，应该使用默认参数。</em></p></blockquote><p id="1758" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">但是如果请求没有任何server_name，我们能做什么。</p><p id="d447" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">对于这种情况，我们可以在一个配置文件中定义新的服务器来捕捉任何没有server_name的请求。</p><p id="53d7" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">我们可以将其定义为以下配置</p><pre class="lg lh li lj fd lk ll lm ln aw lo bi"><span id="56b2" class="lp in hi ll b fi lq lr l ls lt">server {<br/> listen  80;<br/> server_name "";<br/> return  444;<br/>}</span></pre><h1 id="f39a" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">结论:</h1><p id="7aae" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">从以上我们可以得出结论，当进入Nginx时，任何请求都会检查配置文件来处理请求，并转到正确的路径和端口。</p><p id="f581" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">我们看到如何在config Nginx文件中定义服务器。</p><p id="71d8" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">而且我们知道为什么要用Nginx？</p><p id="d594" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">在下一篇文章中，我将在您的服务器中安装Nginx来处理您的应用程序。</p><p id="e5ec" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated"><strong class="jm hj">Nginx文章的所有部分:</strong></p><ul class=""><li id="06c3" class="kn ko hi jm b jn ki jr kj jv kp jz kq kd kr kh ks kt ku kv bi translated">你是Nginx系列的第一部分</li><li id="8a0c" class="kn ko hi jm b jn kw jr kx jv ky jz kz kd la kh ks kt ku kv bi translated"><a class="ae lb" rel="noopener" href="/javarevisited/installing-nginx-and-managed-by-command-part-2-b6b32b90b62d">安装Nginx并由命令管理(第二部分)</a></li><li id="d064" class="kn ko hi jm b jn kw jr kx jv ky jz kz kd la kh ks kt ku kv bi translated"><a class="ae lb" rel="noopener" href="/p/62e71ad1c3a0"> Nginx文件配置和日志(第三部分)</a></li></ul><blockquote class="lu lv lw"><p id="712c" class="jk jl lx jm b jn ki jp jq jr kj jt ju ly kk jx jy lz kl kb kc ma km kf kg kh hb bi translated"><strong class="jm hj">别忘了拍文章，每篇文章可以拍50次。</strong></p></blockquote><h1 id="ec78" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">参考资料:</h1><p id="f0d9" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><a class="ae lb" href="http://nginx.org/en/docs/http/request_processing.html#:~:text=In%20this%20configuration%20nginx%20tests,default%20server%20for%20this%20port" rel="noopener ugc nofollow" target="_blank">http://nginx . org/en/docs/http/request _ processing . html #:~:text = In % 20 this % 20 configuration % 20 nginx % 20 tests，默认% 20 server % 20 for % 20 this % 20 port</a>。</p><p id="0306" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated"><a class="ae lb" href="https://docs.nginx.com/nginx/admin-guide/web-server/web-server/" rel="noopener ugc nofollow" target="_blank">https://docs . nginx . com/nginx/admin-guide/we B- server/we B- server/</a></p></div></div>    
</body>
</html>