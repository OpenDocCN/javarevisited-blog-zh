<html>
<head>
<title>Improving the symmetry of converter methods in Eclipse Collections</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">改进Eclipse集合中转换器方法的对称性</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/improving-the-symmetry-of-converter-methods-in-eclipse-collections-922d74a3f065?source=collection_archive---------2-----------------------#2021-02-14">https://medium.com/javarevisited/improving-the-symmetry-of-converter-methods-in-eclipse-collections-922d74a3f065?source=collection_archive---------2-----------------------#2021-02-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="efd3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由对称性驱动的API的一致性、清晰性和便利性</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/d807b41c16d67c316385306ae1f0bd19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tOGnpwsGY4sV1G7J541qlA.jpeg"/></div></div><p class="jp jq et er es jr js bd b be z dx translated">旧金山湾的一扇窗户</p></figure><h1 id="f733" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">致力于API对称</h1><p id="6001" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">我们通过响应和满足在金融服务和其他行业的应用程序中遇到的真实用例的需求，推动了API在<a class="ae kw" href="https://github.com/eclipse/eclipse-collections" rel="noopener ugc nofollow" target="_blank"> Eclipse Collections </a>中的发展，这些应用程序是由开源社区的开发人员提供服务的。我们使用对称性来指导Eclipse集合的设计和实现。我们的集体经验告诉我们，对称是改进API设计的好向导。</p><h1 id="7f61" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">可变转换器方法</h1><p id="3c18" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">从该产品的1.0版本开始，Eclipse集合中就有了主要可变的<a class="ae kw" href="https://github.com/eclipse/eclipse-collections/blob/master/docs/guide.md#converting-collections" rel="noopener ugc nofollow" target="_blank">转换器方法</a>。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kx"><img src="../Images/7f714fe594c5355888e3069cd227bec5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*CjQSo1ZCvbcUYY4Ygshybw.png"/></div><p class="jp jq et er es jr js bd b be z dx translated">RichIterable上大多数可变的转换器方法(toString是一个不可变的异常)</p></figure><p id="4ab9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">除了可变的转换器方法，我们还有一个名为<code class="du ky kz la lb b">toImmutable</code>的转换器方法，可以用来将任何可变的集合类型转换为不可变的集合类型。</p><p id="e5f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看下面这个来自<a class="ae kw" href="https://github.com/BNYMellon/CodeKatas/tree/master/deck-of-cards-kata" rel="noopener ugc nofollow" target="_blank">卡式</a>的例子:</p><pre class="je jf jg jh fd lc lb ld le aw lf bi"><span id="98f4" class="lg ju hi lb b fi lh li l lj lk">private ImmutableList&lt;Card&gt; cards;<br/>private ImmutableListMultimap&lt;Suit, Card&gt; cardsBySuit;</span><span id="6544" class="lg ju hi lb b fi ll li l lj lk">public EclipseCollectionsDeckOfCardsAsList()<br/>{<br/>    this.cards = Card.<em class="lm">lazyCards</em>().toList().toImmutable();<br/>    this.cardsBySuit = this.cards.groupBy(Card::suit);<br/>}</span></pre><p id="e45f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个例子中，我们需要从一个<code class="du ky kz la lb b">LazyIterable&lt;Card&gt;</code>创建一个<code class="du ky kz la lb b">ImmutableList&lt;Card&gt;</code>，它是<code class="du ky kz la lb b">Rank</code>和<code class="du ky kz la lb b">Suit</code>的笛卡尔积。我们首先调用<code class="du ky kz la lb b">Card.lazyCards</code>，它返回一个<code class="du ky kz la lb b">LazyIterable&lt;Card&gt;</code>。然后我们调用返回一个<code class="du ky kz la lb b">MutableList&lt;Card&gt;</code>的<code class="du ky kz la lb b">toList</code>，最后我们调用返回一个<code class="du ky kz la lb b">ImmutableList&lt;Card&gt;</code>的<code class="du ky kz la lb b">toImmutable</code>。</p><p id="f2ea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">很长一段时间以来，我发现在Eclipse集合中从一种类型转换到另一种类型的不可变版本的两步过程是一个微小但持续的烦恼。我还必须向使用Eclipse集合的开发人员解释，没有名为<code class="du ky kz la lb b">toImmutableList</code>、<code class="du ky kz la lb b">toImmutableSet</code>、<code class="du ky kz la lb b">toImmutableBag</code>等的等价方法。</p><p id="3921" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将在Eclipse集合11.0中改变。我们现在将能够编写以下代码。</p><pre class="je jf jg jh fd lc lb ld le aw lf bi"><span id="d072" class="lg ju hi lb b fi lh li l lj lk">public EclipseCollectionsDeckOfCardsAsImmutableList()<br/>{<br/>    this.cards = Card.<em class="lm">lazyCards</em>().toImmutableList();<br/>    this.cardsBySuit = this.cards.groupBy(Card::suit);<br/>}</span></pre><p id="28ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Eclipse集合11.0中，我们将在<code class="du ky kz la lb b">RichIterable</code>上有<code class="du ky kz la lb b">toImmutableList</code>、<code class="du ky kz la lb b">toImmutableSet</code>和<code class="du ky kz la lb b">toImmutableBag</code>。这只是通往更好的对称之旅的开始。</p><h1 id="ce65" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">可视化转换器方法的对称性</h1><p id="fd28" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">下面是Eclipse Collections converter方法API将来的样子。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ln"><img src="../Images/b5288c94737933b7f2778952aa65b1b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RY8M-Jhoroux5mv6-LdbCQ.png"/></div></div><p class="jp jq et er es jr js bd b be z dx translated">转换器方法API的未来对称性</p></figure><p id="4bcd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">到目前为止，我已经在<code class="du ky kz la lb b">RichIterable</code>界面中添加了<code class="du ky kz la lb b">toImmutableList</code>、<code class="du ky kz la lb b">toImmutableSet</code>和<code class="du ky kz la lb b">toImmutableBag</code>。上图向我们展示了一条清晰的路径，我们必须在<code class="du ky kz la lb b">toImmutable</code>端遵循这条路径来改善转换器方法API的对称性。</p><h1 id="877c" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">走在路上</h1><blockquote class="lo lp lq"><p id="6a17" class="if ig lm ih b ii ij ik il im in io ip lr ir is it ls iv iw ix lt iz ja jb jc hb bi translated">我喜欢说对称就像重力。当我看到缺失或不相似的图案时，我感觉到对称的重量。这是一项尚未完成的工作。</p></blockquote><p id="0a39" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是我的第一个媒体博客中的一段话，标题是<a class="ae kw" href="https://donraab.medium.com/symmetric-sympathy-2c59d4541d60?source=friends_link&amp;sk=8b4083e03ea4a56a993328fe63ab2951" rel="noopener">对称同情</a>。虽然在一个像Eclipse集合那样丰富完整的API中拥有完美的对称性可能不太现实，但是当我们发现缺乏清晰性、一致性和便利性时，我们可以继续改进。这是在走自己的路。满足Eclipse集合用户社区的需求和期望是很重要的。我见过开发人员试图在Eclipse集合中的类型上调用<code class="du ky kz la lb b">toImmutableList</code>和<code class="du ky kz la lb b">toImmutableSet</code>，并发现对于不可变类型没有与<code class="du ky kz la lb b">to</code>(可变)方法等价的方法，这令人困惑。现在，他们一直在寻找的API将满足他们的期望。</p><p id="563e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请继续关注，对称性正在不断改善。</p><h1 id="46c2" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">招聘广告</h1><p id="a99f" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">如果您想在这个改进之旅中帮助我们，请加入我们的开源贡献者社区。下面是一个很棒的博客，作者是一个决定走自己的路，并首次对Eclipse集合做出开源贡献的开发人员。</p><div class="lu lv ez fb lw lx"><a href="https://mydeveloperplanet.com/2021/01/20/how-to-start-contributing-to-open-source/" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab dw"><div class="lz ab ma cl cj mb"><h2 class="bd hj fi z dy mc ea eb md ed ef hh bi translated">如何开始为开源做贡献</h2><div class="me l"><h3 class="bd b fi z dy mc ea eb md ed ef dx translated">每时每刻，为开源软件做贡献的想法都会出现在每个开发人员的脑海中。然而…</h3></div><div class="mf l"><p class="bd b fp z dy mc ea eb md ed ef dx translated">mydeveloperplanet.com</p></div></div><div class="mg l"><div class="mh l mi mj mk mg ml jn lx"/></div></div></a></div><p id="7fd0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个博客记录了一个开发者成为开源贡献者的历程。当其他开发人员开始或继续他们自己的旅程时，它可能是一个灵感和参考。</p><p id="027d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lm">我是</em><a class="ae kw" href="https://github.com/eclipse/eclipse-collections" rel="noopener ugc nofollow" target="_blank"><em class="lm">Eclipse Collections</em></a><em class="lm">OSS项目在</em><a class="ae kw" href="https://projects.eclipse.org/projects/technology.collections" rel="noopener ugc nofollow" target="_blank"><em class="lm">Eclipse Foundation</em></a><em class="lm">的项目负责人。</em> <a class="ae kw" href="https://github.com/eclipse/eclipse-collections" rel="noopener ugc nofollow" target="_blank"> <em class="lm">月食收藏</em> </a> <em class="lm">是开投</em> <a class="ae kw" href="https://github.com/eclipse/eclipse-collections/blob/master/CONTRIBUTING.md" rel="noopener ugc nofollow" target="_blank"> <em class="lm">投稿</em> </a> <em class="lm">。如果你喜欢这个库，你可以在GitHub上让我们知道。</em></p><p id="fd69" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">你可能喜欢的其他Java文章</strong></p><div class="lu lv ez fb lw lx"><a rel="noopener follow" target="_blank" href="/javarevisited/9-things-java-programmers-should-learn-in-2018-3f0b2207dfc4"><div class="ly ab dw"><div class="lz ab ma cl cj mb"><h2 class="bd hj fi z dy mc ea eb md ed ef hh bi translated">2021年Java程序员应该学会的11件事</h2><div class="me l"><h3 class="bd b fi z dy mc ea eb md ed ef dx translated">作为一名Java开发人员和Java博客的作者，我经常收到来自世界各地的Java程序员的请求…</h3></div><div class="mf l"><p class="bd b fp z dy mc ea eb md ed ef dx translated">medium.com</p></div></div><div class="mg l"><div class="mm l mi mj mk mg ml jn lx"/></div></div></a></div><div class="lu lv ez fb lw lx"><a rel="noopener follow" target="_blank" href="/javarevisited/5-essential-frameworks-every-java-developer-should-learn-6ed83315f1fb"><div class="ly ab dw"><div class="lz ab ma cl cj mb"><h2 class="bd hj fi z dy mc ea eb md ed ef hh bi translated">每个Java开发人员都应该学习的5个基本框架</h2><div class="me l"><h3 class="bd b fi z dy mc ea eb md ed ef dx translated">Spring、Hibernate、Spring Boot、Spring Securit和Spring Cloud是最基本的Java框架。</h3></div><div class="mf l"><p class="bd b fp z dy mc ea eb md ed ef dx translated">medium.com</p></div></div><div class="mg l"><div class="mn l mi mj mk mg ml jn lx"/></div></div></a></div><div class="lu lv ez fb lw lx"><a rel="noopener follow" target="_blank" href="/javarevisited/50-java-collections-interview-questions-for-beginners-and-experienced-programmers-4d2c224cc5ab"><div class="ly ab dw"><div class="lz ab ma cl cj mb"><h2 class="bd hj fi z dy mc ea eb md ed ef hh bi translated">50多个面向初学者和有经验的程序员的Java集合面试问题</h2><div class="me l"><h3 class="bd b fi z dy mc ea eb md ed ef dx translated">Java集合和泛型是Java面试的一个非常重要的话题。他们还提出了一些最困难的…</h3></div><div class="mf l"><p class="bd b fp z dy mc ea eb md ed ef dx translated">medium.com</p></div></div><div class="mg l"><div class="mo l mi mj mk mg ml jn lx"/></div></div></a></div></div></div>    
</body>
</html>