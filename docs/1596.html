<html>
<head>
<title>Optimizing AWS infrastructure</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">优化AWS基础设施</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/optimizing-aws-infrastructure-7a8744801284?source=collection_archive---------3-----------------------#2021-09-27">https://medium.com/javarevisited/optimizing-aws-infrastructure-7a8744801284?source=collection_archive---------3-----------------------#2021-09-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/3de6fb8df2b95a89c3480dfd90577bb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cl7FVAhHtMw2bGm2"/></div></div><p class="iq ir et er es is it bd b be z dx translated">亚历克斯·库利科夫在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="be3d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">通过维护AWS生产基础设施超过6个月获得的优化经验:</p><ol class=""><li id="3714" class="jt ju hi ix b iy iz jc jd jg jv jk jw jo jx js jy jz ka kb bi translated">在较低环境中关闭EC2和RDS:</li></ol><p id="a0cf" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">随用随付的定价模式是云相对于本地服务器的主要优势。为了利用这一点，我们编写了一个lambda，每天晚上由eventbridge cron触发。这个lambda将关闭我们的非prod帐户使用的所有EC2s和RDS实例。</p><p id="79e0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.参考<a class="ae iu" rel="noopener" href="/javarevisited/7-best-aws-ec2-amazon-elastic-compute-cloud-online-courses-for-beginners-in-2021-f7a1a55ea719"> EC2 </a>使用私有IP使得流量被限制在VPC境内:</p><p id="5c0c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">用EC2的公共IP而不是私有IP来指代EC2的天真错误导致流量通过互联网路由，从而增加了出站流量和NAT网关的使用成本。</p><p id="01d1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">3.为<a class="ae iu" rel="noopener" href="/javarevisited/7-best-aws-s3-and-dynamodb-courses-for-beginners-in-2021-a8a44b6066da"> S3 </a>、Cloudwatch和其他位于VPC之外的托管服务定义VPC端点</p><p id="dbc4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这有助于在VPC内保持流量私有，并降低NAT网关成本。</p><p id="caea" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">4.在ALB终止SSL</p><p id="e0d3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在典型的3层架构ALB-&gt;EC2 -&gt; RDS中，在ALB级别终止加密有助于节省EC2解密流量的计算成本。从ALB到EC2，SSL是冗余的，因为这是我们VPC内的私有流量。</p></div></div>    
</body>
</html>