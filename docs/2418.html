<html>
<head>
<title>How to create a case insensitive Bag using Eclipse Collections</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Eclipse集合创建不区分大小写的包</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/how-to-create-a-case-insensitive-bag-using-eclipse-collections-9dbc2495796c?source=collection_archive---------4-----------------------#2022-09-26">https://medium.com/javarevisited/how-to-create-a-case-insensitive-bag-using-eclipse-collections-9dbc2495796c?source=collection_archive---------4-----------------------#2022-09-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="6fb2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">学习如何在Java中计算字符串而不用担心它们的大小写。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/8f18a8e5e5d4e12c0014112122d81fbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qWLJffXJUOuF_8TjVQIjrg.png"/></div></div><p class="jp jq et er es jr js bd b be z dx translated">Eclipse集合中的HashingStrategyBags允许为对象定制HashingStrategy</p></figure><h1 id="a2f6" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">不考虑大小写如何计算字符串？</h1><p id="20d0" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">使用<code class="du kw kx ky kz b">HashingStrategyBags</code>工厂很容易构建<a class="ae la" href="https://github.com/eclipse/eclipse-collections" rel="noopener ugc nofollow" target="_blank"> Eclipse集合</a>中的<code class="du kw kx ky kz b">HashBagWithHashingStrategy</code>。上例中的<code class="du kw kx ky kz b">HashingStrategy</code>将基于方法引用<code class="du kw kx ky kz b">String::toLowerCase</code>指定的<code class="du kw kx ky kz b">Function</code>。然后，我们可以将<code class="du kw kx ky kz b">String</code>实例添加到<code class="du kw kx ky kz b">strings</code>变量中的<code class="du kw kx ky kz b">MutableBag</code>中，并在不考虑大小写的情况下查找它们的出现。<code class="du kw kx ky kz b">hashCode</code>和<code class="du kw kx ky kz b">equals</code>将以先转换每个<code class="du kw kx ky kz b">String</code>和<code class="du kw kx ky kz b">toLowerCase</code>为基础。</p><h2 id="6bba" class="lb ju hi bd jv lc ld le jz lf lg lh kd iq li lj kh iu lk ll kl iy lm ln kp lo bi translated">什么是哈希策略？</h2><p id="edec" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">一个<code class="du kw kx ky kz b">HashingStrategy</code>是一个接口，它可以被实现来为另一个对象指定一个<code class="du kw kx ky kz b">hashCode</code>和<code class="du kw kx ky kz b">equals</code>实现。<code class="du kw kx ky kz b">HashingStrategy</code>定义了两个必须实现的方法。</p><pre class="je jf jg jh fd lp kz lq lr aw ls bi"><span id="d543" class="lb ju hi kz b fi lt lu l lv lw">public interface HashingStrategy&lt;E&gt;<br/>{<br/><em class="lx">    </em>int computeHashCode(E object);<br/><br/><em class="lx">    </em>boolean equals(E object1, E object2);<br/>}</span></pre><h2 id="1fb5" class="lb ju hi bd jv lc ld le jz lf lg lh kd iq li lj kh iu lk ll kl iy lm ln kp lo bi translated">我如何定义哈希策略？</h2><p id="b11f" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">您可以使用名为<code class="du kw kx ky kz b">HashingStrategies</code>的工厂类从<code class="du kw kx ky kz b">Function</code>构建一个<code class="du kw kx ky kz b">HashingStrategy</code>。</p><pre class="je jf jg jh fd lp kz lq lr aw ls bi"><span id="f019" class="lb ju hi kz b fi lt lu l lv lw">HashingStrategy&lt;String&gt; hashingStrategy = <br/>        HashingStrategies.<em class="lx">fromFunction</em>(String::toLowerCase);</span></pre><p id="1e49" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是上面例子中的代码所做的。但是，您可能希望对实现有更多的控制，以减少潜在的垃圾生成。实现不区分大小写的<code class="du kw kx ky kz b">HashingStrategy</code>的另一种方法是生成更少的垃圾，如下所示。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ly"><img src="../Images/521b4f79ee76ed03fbf29101f3ff1857.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KWcB3BSKLdu6PX3rddSz9g.png"/></div></div><p class="jp jq et er es jr js bd b be z dx translated">使用实现HashingStrategy接口的记录创建HashingStrategyBag</p></figure><p id="c1bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个<code class="du kw kx ky kz b">HashingStrategy</code>将比基于<code class="du kw kx ky kz b">Function</code>的更有效，因为它不会转换<code class="du kw kx ky kz b">equals</code>方法中的两个<code class="du kw kx ky kz b">String</code>实例<code class="du kw kx ky kz b">toLowerCase</code>。相反，equals方法将基于<code class="du kw kx ky kz b">equalsIgnoreCase</code>方法。我将把它作为一个练习留给读者，让他们以更优化的方式实现<code class="du kw kx ky kz b">computeHashCode</code>。</p><p id="e659" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我希望你觉得这很有用。Eclipse集合也有基于<code class="du kw kx ky kz b">HashingStrategy</code>的<code class="du kw kx ky kz b">Sets</code>和<code class="du kw kx ky kz b">Maps</code>。您可以在下面的博客中找到更多关于这些鲜为人知的数据结构的信息。</p><div class="lz ma ez fb mb mc"><a rel="noopener follow" target="_blank" href="/javarevisited/the-missing-java-data-structures-no-one-ever-told-you-about-part-1-f45b6d0ee969"><div class="md ab dw"><div class="me ab mf cl cj mg"><h2 class="bd hj fi z dy mh ea eb mi ed ef hh bi translated">没有人告诉过你的缺失的Java数据结构—第1部分</h2><div class="mj l"><h3 class="bd b fi z dy mh ea eb mi ed ef dx translated">Eclipse Collections提供了JDK中没有的其他集合类型。</h3></div><div class="mk l"><p class="bd b fp z dy mh ea eb mi ed ef dx translated">medium.com</p></div></div><div class="ml l"><div class="mm l mn mo mp ml mq jn mc"/></div></div></a></div><p id="00ab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢您的阅读！</p><p id="3473" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lx">我是由</em><a class="ae la" href="https://projects.eclipse.org/projects/technology.collections" rel="noopener ugc nofollow" target="_blank"><em class="lx">Eclipse Foundation</em></a><em class="lx">管理的</em><a class="ae la" href="https://github.com/eclipse/eclipse-collections" rel="noopener ugc nofollow" target="_blank"><em class="lx">Eclipse Collections</em></a><em class="lx">OSS项目的创建者和提交者。Eclipse Collections为</em> <a class="ae la" href="https://github.com/eclipse/eclipse-collections/blob/master/CONTRIBUTING.md" rel="noopener ugc nofollow" target="_blank"> <em class="lx">投稿</em> </a> <em class="lx">打开。</em></p><h2 id="2bc5" class="lb ju hi bd jv lc ld le jz lf lg lh kd iq li lj kh iu lk ll kl iy lm ln kp lo bi translated">您可能喜欢的其他Java文章</h2><div class="lz ma ez fb mb mc"><a rel="noopener follow" target="_blank" href="/javarevisited/the-java-programmer-roadmap-f9db163ef2c2"><div class="md ab dw"><div class="me ab mf cl cj mg"><h2 class="bd hj fi z dy mh ea eb mi ed ef hh bi translated">2022年Java程序员路线图</h2><div class="mj l"><h3 class="bd b fi z dy mh ea eb mi ed ef dx translated">2022年成为Java开发人员的图解指南，包含相关课程的链接</h3></div><div class="mk l"><p class="bd b fp z dy mh ea eb mi ed ef dx translated">medium.com</p></div></div><div class="ml l"><div class="mr l mn mo mp ml mq jn mc"/></div></div></a></div><div class="lz ma ez fb mb mc"><a rel="noopener follow" target="_blank" href="/javarevisited/50-data-structure-and-algorithms-interview-questions-for-programmers-b4b1ac61f5b0"><div class="md ab dw"><div class="me ab mf cl cj mg"><h2 class="bd hj fi z dy mh ea eb mi ed ef hh bi translated">50大数据结构和算法程序员面试问题</h2><div class="mj l"><h3 class="bd b fi z dy mh ea eb mi ed ef dx translated">准备编程工作面试？这里有50多个数据结构和算法问题，你可以练习…</h3></div><div class="mk l"><p class="bd b fp z dy mh ea eb mi ed ef dx translated">medium.com</p></div></div></div></a></div><div class="lz ma ez fb mb mc"><a href="https://faun.pub/20-dynamic-programming-interview-questions-with-solutions-2a144b1a1e07" rel="noopener  ugc nofollow" target="_blank"><div class="md ab dw"><div class="me ab mf cl cj mg"><h2 class="bd hj fi z dy mh ea eb mi ed ef hh bi translated">20个动态规划面试问题及解答</h2><div class="mj l"><h3 class="bd b fi z dy mh ea eb mi ed ef dx translated">准备编码面试？这里有20个动态编程问题来测试你的技能，好好准备。</h3></div><div class="mk l"><p class="bd b fp z dy mh ea eb mi ed ef dx translated">faun.pub</p></div></div><div class="ml l"><div class="ms l mn mo mp ml mq jn mc"/></div></div></a></div></div></div>    
</body>
</html>