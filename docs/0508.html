<html>
<head>
<title>TDA(Tell Don’t Ask).</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TDA(告诉不要问)。</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/tda-tell-dont-ask-c42a9d6a592?source=collection_archive---------6-----------------------#2020-06-15">https://medium.com/javarevisited/tda-tell-dont-ask-c42a9d6a592?source=collection_archive---------6-----------------------#2020-06-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/836abbb41f6e42dbe1a223076c66233b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1310/format:webp/1*EFdXqQUq6c1xy2PjAOdTGA.png"/></div><p class="im in et er es io ip bd b be z dx translated">TDA(告诉不要问)</p></figure><p id="499c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我想简短地写一个小帖子，关于一个有趣而有特色的<a class="ae jo" rel="noopener" href="/javarevisited/10-oop-design-principles-you-can-learn-in-2020-f7370cccdd31">面向对象原则</a>，被称为TDA原则(<a class="ae jo" href="http://iamkoch.com/2013/10/oo-principles-tell-dont-ask/" rel="noopener ugc nofollow" target="_blank">告诉不要问</a>)。</p><p id="5bb8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">TDA鼓励<strong class="is hj">【不要】</strong>从对象中检索状态，<strong class="is hj">【如果】</strong>客户端代码将使用它来决定下一步做什么。</p><p id="5790" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在我看来，这一点之所以重要，是因为我们希望避免客户的决定依赖于一些不受他们控制的状态。同样，不必要地向客户端代码暴露对象的状态(除非<a class="ae jo" href="http://javarevisited.blogspot.sg/2013/03/how-to-create-immutable-class-object-java-example-tutorial.html" rel="noopener ugc nofollow" target="_blank">不可变</a>)可能并不总是令人满意的。我们应该尽可能地避免给客户代码关于他们正在调用的对象的状态的线索。</p><p id="5498" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们来看一个不太担心这个原则的例子(问而不说的方法——与告诉而不问相反):</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="57d8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">乍一看，这段代码看起来并没有错，但问题是，保镖对象的逻辑依赖于人的年龄。这种看不见的逻辑依赖，使软件不那么面向对象(不能自己做决定)。</p><p id="c25a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这听起来可能很滑稽，但在“告诉不要问”的场景中，这个人应该知道如果不满18岁就不能参加聚会。</p><p id="a6a5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我们可以通过“告诉不要问”来做同样的事情:</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="a463" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">可以有不同的实现方式，但是我喜欢“<a class="ae jo" href="http://www.fatagnus.com/program-to-an-interface-not-an-implementation/" rel="noopener ugc nofollow" target="_blank">编程到一个接口，而不是一个实现</a>”。如你所见，决定是由人做出的，我们避免给客户代码关于状态的线索。因此，基于它们调用的对象的状态的危险的客户端决策不再可能。</p><p id="584d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jv">最初发布于</em><a class="ae jo" href="http://javing.blogspot.com/2013/12/in-matters-of-style-swim-with-current.html" rel="noopener ugc nofollow" target="_blank">http://javing . blogspot . com/2013/12/in-matters-of-style-swim-with-current . html</a></p></div></div>    
</body>
</html>