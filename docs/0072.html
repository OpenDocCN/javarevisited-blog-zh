<html>
<head>
<title>How to Print Even and Odd numbers using threads in Java</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在 Java 中使用线程打印偶数和奇数</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/how-to-print-even-and-odd-numbers-using-threads-in-java-java2blog-3188249cb48f?source=collection_archive---------0-----------------------#2019-05-29">https://medium.com/javarevisited/how-to-print-even-and-odd-numbers-using-threads-in-java-java2blog-3188249cb48f?source=collection_archive---------0-----------------------#2019-05-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/b5f9acda2c1f6e8f1b5c386a23c0d57b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1VIu8KKR-XseqZB0"/></div></div><p class="iq ir et er es is it bd b be z dx translated">澳大利亚八月在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="1afe" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这篇文章中，我们将看到如何在 java 中使用<a class="ae iu" href="https://java2blog.com/java-thread-example/" rel="noopener ugc nofollow" target="_blank">线程</a>打印偶数和奇数。</p><p id="29f9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">参见:<a class="ae iu" href="https://www.java2blog.com/print-sequence-3-threads-java/" rel="noopener ugc nofollow" target="_blank">如何在 java 中使用 3 个线程打印序列</a></p><blockquote class="jt ju jv"><p id="1a3b" class="iv iw jw ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated">你有两条线索。你需要用一个线程打印奇数，用另一个线程打印偶数。您需要以自然顺序打印，直到最大值。<br/> <strong class="ix hj">例如:</strong> <br/>如果 MAX 为 10，则需要打印:</p><p id="10eb" class="iv iw jw ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated">因此 1 3 5 7 9 将由奇数线打印<br/> 2 4 6 8 10 将由偶数线打印。</p></blockquote><p id="2dc4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将使用 wait 和 notify 来解决如何在 java 中使用<a class="ae iu" href="https://javarevisited.blogspot.com/2018/07/java-multi-threading-interview-questions-answers-from-investment-banks.html" rel="noopener ugc nofollow" target="_blank">线程</a>打印偶数和奇数。</p><ul class=""><li id="7c94" class="ka kb hi ix b iy iz jc jd jg kc jk kd jo ke js kf kg kh ki bi translated">使用一个名为布尔<a class="ae iu" href="https://java2blog.com/even-odd-program-java/" rel="noopener ugc nofollow" target="_blank">奇数</a>的变量。如果你想打印奇数，它的值应该是真的，反之亦然。</li><li id="d569" class="ka kb hi ix b iy kj jc kk jg kl jk km jo kn js kf kg kh ki bi translated">创建两个方法(printOdd 和 printEven)，一个打印奇数，另一个打印偶数。</li><li id="5623" class="ka kb hi ix b iy kj jc kk jg kl jk km jo kn js kf kg kh ki bi translated">创建两个线程，一个用于奇数线程，一个用于偶数线程。</li><li id="b01a" class="ka kb hi ix b iy kj jc kk jg kl jk km jo kn js kf kg kh ki bi translated">t1 将调用 printEven 方法，t2 将同时调用 printOdd 方法。</li><li id="7c15" class="ka kb hi ix b iy kj jc kk jg kl jk km jo kn js kf kg kh ki bi translated">如果 printEven 方法中布尔奇数为真，t1 将等待。</li><li id="9d64" class="ka kb hi ix b iy kj jc kk jg kl jk km jo kn js kf kg kh ki bi translated">如果 printOdd 方法中的 boolean odd 为 false，t2 将等待。</li></ul><h1 id="c69f" class="ko kp hi bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">在 java 中使用线程打印偶数和奇数</h1><pre class="lm ln lo lp fd lq lr ls lt aw lu bi"><span id="9f9b" class="lv kp hi lr b fi lw lx l ly lz">package org.arpit.java2blog;<br/><br/>public class OddEvenPrintMain {<br/><br/>	boolean odd;<br/>	int count = 1;<br/>	int MAX = 20;<br/><br/>	public void printOdd() {<br/>		synchronized (this) {<br/>			while (count &lt; MAX) {<br/>				System.out.println("Checking odd loop");<br/><br/>				while (!odd) {<br/>					try {<br/>						System.out.println("Odd waiting : " + count);<br/>						wait();<br/>						System.out.println("Notified odd :" + count);<br/>					} catch (InterruptedException e) {<br/>						// TODO Auto-generated catch block<br/>						e.printStackTrace();<br/>					}<br/>				}<br/>				System.out.println("Odd Thread :" + count);<br/>				count++;<br/>				odd = false;<br/>				notify();<br/>			}<br/>		}<br/>	}<br/><br/>	public void printEven() {<br/><br/>		try {<br/>			Thread.sleep(1000);<br/>		} catch (InterruptedException e1) {<br/>			e1.printStackTrace();<br/>		}<br/>		synchronized (this) {<br/>			while (count &lt; MAX) {<br/>				System.out.println("Checking even loop");<br/><br/>				while (odd) {<br/>					try {<br/>						System.out.println("Even waiting: " + count);<br/>						wait();<br/>						System.out.println("Notified even:" + count);<br/>					} catch (InterruptedException e) {<br/>						e.printStackTrace();<br/>					}<br/>				}<br/>				System.out.println("Even thread :" + count);<br/>				count++;<br/>				odd = true;<br/>				notify();<br/><br/>			}<br/>		}<br/>	}<br/><br/>	public static void main(String[] args) {<br/><br/>		OddEvenPrintMain oep = new OddEvenPrintMain();<br/>		oep.odd = true;<br/>		Thread t1 = new Thread(new Runnable() {<br/><br/>			@Override<br/>			public void run() {<br/>				oep.printEven();<br/><br/>			}<br/>		});<br/>		Thread t2 = new Thread(new Runnable() {<br/><br/>			@Override<br/>			public void run() {<br/>				oep.printOdd();<br/><br/>			}<br/>		});<br/><br/>		t1.start();<br/>		t2.start();<br/><br/>		try {<br/>			t1.join();<br/>			t2.join();<br/>		} catch (InterruptedException e) {<br/>			e.printStackTrace();<br/>		}<br/><br/>	}<br/>}</span></pre><p id="721c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当您运行上面的程序时，您将得到下面的输出:</p><blockquote class="jt ju jv"><p id="f5ca" class="iv iw jw ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated">检查奇循环<br/>奇线程:1 <br/>检查奇循环<br/>奇等待:2 <br/>检查偶循环<br/>偶线程:2 <br/>检查偶循环<br/>偶等待:3 <br/>通知奇:3 <br/>奇线程:3 <br/>检查奇循环<br/>奇等待:4 <br/>通知偶:4 <br/>偶线程:4 <br/>检查偶循环<br/>偶等待:5 <br/>通知奇:5 <br/>奇线程:5 <br/>通知偶:6 <br/>偶线程:6 <br/>检查偶循环<br/>偶等待:7 <br/>通知奇:7 <br/>奇线程:7 <br/>检查奇循环<br/>奇等待:8 <br/>通知偶:8 <br/>检查偶循环<br/>偶等待:9 <br/>通知奇:9 <br/>奇线程:9 <br/>检查奇循环<br/>奇等待:10【T33 奇:11 <br/>奇线程:11 <br/>检查奇循环<br/>奇等待:12 <br/>通知偶:12 <br/>偶线程:12 <br/>检查偶循环<br/>偶等待:13 <br/>通知奇:13 <br/>奇线程:13 <br/>检查奇循环<br/>奇等待:14 <br/>通知偶:14 <br/>偶线程:14 <br/>检查偶循环<br/>偶 偶数:16 <br/>偶数线程:16 <br/>检查偶数循环<br/>偶数等待:17 <br/>通知奇数:17 <br/>奇数线程:17 <br/>检查奇数循环<br/>奇数等待:18 <br/>通知偶数:18 <br/>偶数线程:18 <br/>检查偶数循环<br/>偶数等待:19 <br/>通知奇数:19 <br/>奇数线程:</p></blockquote><p id="6b81" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你观察输出，你应该能够理解上述程序。</p><p id="418d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我来试着解释一下前几行:<br/> <strong class="ix hj">检查奇循环:</strong> t2 检查 printOdd 方法中的 while 条件<br/> <strong class="ix hj">奇线程:1 : </strong> t2 打印计数，加 1 并使 odd =false <br/> <strong class="ix hj">检查奇循环:</strong>检查 printOdd 方法中的 while 条件<br/> <strong class="ix hj">奇等待:2: </strong>既然 odd =false 现在， t2 将等待并释放锁<br/> <strong class="ix hj">检查偶数循环:</strong> t1 检查 printEven 方法中的 while 条件<br/> <strong class="ix hj">偶数线程:2 : </strong> t1 打印计数，递增 1 并使 odd =true <br/> <strong class="ix hj">检查偶数循环:</strong> t1 检查 printEven 方法中的 while 条件<br/> <strong class="ix hj">偶数等待:3: </strong>既然 odd =true，t1 将等待并释放锁【T94</p><p id="e3d7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所有其他步骤都会随之而来。</p><h1 id="c65a" class="ko kp hi bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">解决方案 2:使用余数</h1><p id="fba6" class="pw-post-body-paragraph iv iw hi ix b iy ma ja jb jc mb je jf jg mc ji jj jk md jm jn jo me jq jr js hb bi translated">你可以在这里使用余数<a class="ae iu" href="http://www.java67.com/2014/11/modulo-or-remainder-operator-in-java.html" rel="noopener ugc nofollow" target="_blank">的概念。</a></p><ul class=""><li id="ea01" class="ka kb hi ix b iy iz jc jd jg kc jk kd jo ke js kf kg kh ki bi translated">如果数字%2==1，Odd 将打印该数字并递增，否则将进入等待状态。</li><li id="5384" class="ka kb hi ix b iy kj jc kk jg kl jk km jo kn js kf kg kh ki bi translated">如果数字%2==0，Even 将打印该数字并递增，否则将进入等待状态。</li></ul><p id="145f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们借助例子来检查一下。</p><p id="1a3c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">创建一个名为“OddEvenRunnable”的类，并实现<a class="ae iu" href="https://www.java2blog.com/java-runnable-example/" rel="noopener ugc nofollow" target="_blank"> Runnable </a>接口。</p><pre class="lm ln lo lp fd lq lr ls lt aw lu bi"><span id="7802" class="lv kp hi lr b fi lw lx l ly lz">public class OddEvenRunnable implements Runnable{<br/><br/>	public int PRINT_NUMBERS_UPTO=10;<br/>	static int  number=1;<br/>	int remainder;<br/>	static Object lock=new Object();<br/><br/>	OddEvenRunnable(int remainder)<br/>	{<br/>		this.remainder=remainder;<br/>	}<br/><br/>	@Override<br/>	public void run() {<br/>		while (number &lt; PRINT_NUMBERS_UPTO) {<br/>			synchronized (lock) {<br/>				while (number % 2 != remainder) { // wait for numbers other than remainder<br/>					try {<br/>						lock.wait();<br/>					} catch (InterruptedException e) {<br/>						e.printStackTrace();<br/>					}<br/>				}<br/>				System.out.println(Thread.currentThread().getName() + " " + number);<br/>				number++;<br/>				lock.notifyAll();<br/>			}<br/>		}<br/>	}<br/>}</span></pre><p id="8dca" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">创建名为“PrintOddEvenMain”的主类</p><pre class="lm ln lo lp fd lq lr ls lt aw lu bi"><span id="f282" class="lv kp hi lr b fi lw lx l ly lz">public class PrintOddEvenMain {<br/>	public static void main(String[] args) {<br/><br/>		OddEvenRunnable oddRunnable=new OddEvenRunnable(1);<br/>		OddEvenRunnable evenRunnable=new OddEvenRunnable(0);<br/><br/>		Thread t1=new Thread(oddRunnable,"Odd");<br/>		Thread t2=new Thread(evenRunnable,"Even");<br/>		<br/>		t1.start();<br/>		t2.start();<br/><br/>	}<br/>}</span></pre><p id="a857" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当你运行上面的程序时，你会得到下面的输出</p><blockquote class="jt ju jv"><p id="66e3" class="iv iw jw ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated">奇数 1 <br/>偶数 2 <br/>奇数 3 <br/>偶数 4 <br/>奇数 5 <br/>偶数 6 <br/>奇数 7 <br/>偶数 8 <br/>奇数 9 <br/>偶数 10</p></blockquote><p id="fabb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这都是关于在 java 中使用线程打印偶数和奇数。解释不太清楚的请评论。</p><p id="141f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您可能还喜欢:</p><ul class=""><li id="4c5d" class="ka kb hi ix b iy iz jc jd jg kc jk kd jo ke js kf kg kh ki bi translated"><a class="ae iu" href="https://java2blog.com/java-multithreading-interview-questions-and-answers/" rel="noopener ugc nofollow" target="_blank"> Java 多线程面试问题</a>。</li><li id="749e" class="ka kb hi ix b iy kj jc kk jg kl jk km jo kn js kf kg kh ki bi translated"><a class="ae iu" href="https://java2blog.com/java-interview-questions/" rel="noopener ugc nofollow" target="_blank"> Java 面试问题</a></li><li id="98c3" class="ka kb hi ix b iy kj jc kk jg kl jk km jo kn js kf kg kh ki bi translated"><a class="ae iu" href="https://java2blog.com/java-interview-questions-for-5-years-experience/" rel="noopener ugc nofollow" target="_blank"> Java 面试题 5 年经验</a></li><li id="a1d0" class="ka kb hi ix b iy kj jc kk jg kl jk km jo kn js kf kg kh ki bi translated"><a class="ae iu" href="https://java2blog.com/java-collections-interview-questions/" rel="noopener ugc nofollow" target="_blank"> Java 集合面试问题</a></li><li id="4fb5" class="ka kb hi ix b iy kj jc kk jg kl jk km jo kn js kf kg kh ki bi translated"><a class="ae iu" href="https://java2blog.com/java-thread-example/" rel="noopener ugc nofollow" target="_blank"> Java 线程示例</a></li><li id="9772" class="ka kb hi ix b iy kj jc kk jg kl jk km jo kn js kf kg kh ki bi translated"><a class="ae iu" href="https://hackernoon.com/20-string-coding-interview-questions-for-programmers-6b6735b6d31c" rel="noopener ugc nofollow" target="_blank">字符串编码面试问题</a></li></ul><p id="d0ea" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="jw">原载于 2019 年 5 月 29 日</em><a class="ae iu" href="https://java2blog.com/print-even-odd-numbers-threads-java/" rel="noopener ugc nofollow" target="_blank"><em class="jw">https://java2blog.com</em></a><em class="jw">。</em></p></div><div class="ab cl mf mg gp mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="hb hc hd he hf"><p id="cc7e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">进一步学习</strong> <br/> <a class="ae iu" href="http://www.java67.com/2015/09/top-10-algorithm-books-every-programmer-read-learn.html" rel="noopener ugc nofollow" target="_blank"> 10 本算法书每个程序员都应该读的</a><br/><a class="ae iu" href="http://javarevisited.blogspot.sg/2016/05/5-free-data-structure-and-algorithm-books-in-java.html#axzz4uXETWjmV" rel="noopener ugc nofollow" target="_blank">Java 开发人员的前 5 本数据结构和算法书</a> <br/> <a class="ae iu" href="https://click.linksynergy.com/fs-bin/click?id=JVFxdTr9V80&amp;subid=0&amp;offerid=323058.1&amp;type=10&amp;tmpid=14538&amp;RD_PARM1=https%3A%2F%2Fwww.udemy.com%2Ffrom-0-to-1-data-structures%2F" rel="noopener ugc nofollow" target="_blank">从 0 到 1:数据结构&amp;Java 中的算法</a> <br/> <a class="ae iu" href="https://click.linksynergy.com/fs-bin/click?id=JVFxdTr9V80&amp;subid=0&amp;offerid=323058.1&amp;type=10&amp;tmpid=14538&amp;RD_PARM1=https%3A%2F%2Fwww.udemy.com%2Fdata-structure-and-algorithms-analysis%2F" rel="noopener ugc nofollow" target="_blank">数据结构和算法分析—求职面试</a> <br/> <a class="ae iu" href="https://dev.to/javinpaul/50-data-structure-and-algorithms-problems-from-coding-interviews-4lh2" rel="noopener ugc nofollow" target="_blank"> 50+程序员的数据结构和编码问题</a></p></div></div>    
</body>
</html>