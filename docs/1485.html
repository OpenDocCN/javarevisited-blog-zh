<html>
<head>
<title>How To Implement Apple Sign-In (Single Sign-On) Using Spring Boot</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Spring Boot实现苹果登录(单点登录)</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/how-to-implement-apple-sign-in-using-spring-boot-e4d3949b31e6?source=collection_archive---------0-----------------------#2021-08-20">https://medium.com/javarevisited/how-to-implement-apple-sign-in-using-spring-boot-e4d3949b31e6?source=collection_archive---------0-----------------------#2021-08-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="59aa" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">苹果登录</h2><div class=""/><p id="9fb5" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">你好，我是罗汉·卡达姆😊</p><p id="e558" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">大家好，我希望你们都过得很好。如今，开发人员已经广泛使用第三方登录来减少对密码保护的依赖。苹果和谷歌、脸书、推特等也开始提供同样的服务。</p><figure class="jo jp jq jr fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es jn"><img src="../Images/3805a96bec3a8e10eb3a6fdcfa5b0898.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zPkVfxmuM7axw0vItyR1VQ.jpeg"/></div></div><p class="jz ka et er es kb kc bd b be z dx translated">如何用<a class="ae jm" rel="noopener" href="/javarevisited/top-10-courses-to-learn-spring-boot-in-2020-best-of-lot-6ffce88a1b6e?source=---------39------------------"> Spring Boot </a>实现苹果签到？</p></figure><h2 id="c4fd" class="kd ke hi bd kf kg kh ki kj kk kl km kn iz ko kp kq jd kr ks kt jh ku kv kw ho bi translated"><strong class="ak">第一步:</strong>创建使用服务的苹果开发者账户。</h2><div class="kx ky ez fb kz la"><a href="https://developer.apple.com/" rel="noopener  ugc nofollow" target="_blank"><div class="lb ab dw"><div class="lc ab ld cl cj le"><h2 class="bd hs fi z dy lf ea eb lg ed ef hr bi translated">苹果开发者</h2><div class="lh l"><h3 class="bd b fi z dy lf ea eb lg ed ef dx translated">现在是开发苹果平台的最佳时机。</h3></div><div class="li l"><p class="bd b fp z dy lf ea eb lg ed ef dx translated">developer.apple.com</p></div></div><div class="lj l"><div class="lk l ll lm ln lj lo jx la"/></div></div></a></div><h2 id="f3d8" class="kd ke hi bd kf kg kh ki kj kk kl km kn iz ko kp kq jd kr ks kt jh ku kv kw ho bi translated"><strong class="ak">第二步:</strong>成功创建后，苹果开发者。</h2><ol class=""><li id="8586" class="lp lq hi iq b ir lr iv ls iz lt jd lu jh lv jl lw lx ly lz bi translated">证书(. p8)</li><li id="d10d" class="lp lq hi iq b ir ma iv mb iz mc jd md jh me jl lw lx ly lz bi translated">团队Id</li><li id="acbe" class="lp lq hi iq b ir ma iv mb iz mc jd md jh me jl lw lx ly lz bi translated">客户端Id</li><li id="539e" class="lp lq hi iq b ir ma iv mb iz mc jd md jh me jl lw lx ly lz bi translated">密钥Id</li></ol><p id="d7ea" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">这些都可以通过进入应用开发者账户apple中的keys and identifiers菜单来生成。</p><h2 id="c802" class="kd ke hi bd kf kg kh ki kj kk kl km kn iz ko kp kq jd kr ks kt jh ku kv kw ho bi translated">步骤3:使用Spring initializer创建一个Spring Boot项目。</h2><div class="kx ky ez fb kz la"><a href="https://start.spring.io/" rel="noopener  ugc nofollow" target="_blank"><div class="lb ab dw"><div class="lc ab ld cl cj le"><h2 class="bd hs fi z dy lf ea eb lg ed ef hr bi translated">弹簧初始化r</h2><div class="lh l"><h3 class="bd b fi z dy lf ea eb lg ed ef dx translated">Initializr生成的spring boot项目正好是你快速启动所需要的！</h3></div><div class="li l"><p class="bd b fp z dy lf ea eb lg ed ef dx translated">start.spring.io</p></div></div><div class="lj l"><div class="mf l ll lm ln lj lo jx la"/></div></div></a></div><h2 id="8f20" class="kd ke hi bd kf kg kh ki kj kk kl km kn iz ko kp kq jd kr ks kt jh ku kv kw ho bi translated">依赖性:-</h2><pre class="jo jp jq jr fd mg mh mi mj aw mk bi"><span id="f6a7" class="kd ke hi mh b fi ml mm l mn mo">&lt;dependency&gt;<br/>   &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;<br/>   &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;<br/>   &lt;version&gt;1.64&lt;/version&gt;<br/>&lt;/dependency&gt;</span><span id="bd09" class="kd ke hi mh b fi mp mm l mn mo">&lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt --&gt;<br/>&lt;dependency&gt;<br/>   &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;<br/>   &lt;artifactId&gt;jjwt&lt;/artifactId&gt;<br/>   &lt;version&gt;0.9.1&lt;/version&gt;<br/>&lt;/dependency&gt;</span></pre><h2 id="3346" class="kd ke hi bd kf kg kh ki kj kk kl km kn iz ko kp kq jd kr ks kt jh ku kv kw ho bi translated">第四步:为apple配置创建Application.yml。</h2><figure class="jo jp jq jr fd js"><div class="bz dy l di"><div class="mq mr l"/></div></figure><h2 id="c51b" class="kd ke hi bd kf kg kh ki kj kk kl km kn iz ko kp kq jd kr ks kt jh ku kv kw ho bi translated">步骤5:创建带有端点的Apple控制器。</h2><figure class="jo jp jq jr fd js"><div class="bz dy l di"><div class="mq mr l"/></div></figure><h2 id="b45e" class="kd ke hi bd kf kg kh ki kj kk kl km kn iz ko kp kq jd kr ks kt jh ku kv kw ho bi translated">步骤6:成功重定向后，我们会收到一个有效期仅为5分钟的代码。</h2><p id="18a2" class="pw-post-body-paragraph io ip hi iq b ir lr it iu iv ls ix iy iz ms jb jc jd mt jf jg jh mu jj jk jl hb bi translated">使用收到的代码，我们会生成一个令牌请求来获取令牌响应吗</p><p id="25f9" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">步骤1:- 创建一个GetTokenResponse.class</p><figure class="jo jp jq jr fd js"><div class="bz dy l di"><div class="mq mr l"/></div></figure><p id="0ff1" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated"><strong class="iq hs">第2步:</strong>为了获取响应(令牌)，我们将使用<a class="ae jm" href="https://javarevisited.blogspot.com/2017/02/how-to-consume-json-from-restful-web-services-Spring-RESTTemplate-Example.html" rel="noopener ugc nofollow" target="_blank"> rest模板</a>来完成同样的操作。</p><figure class="jo jp jq jr fd js"><div class="bz dy l di"><div class="mq mr l"/></div></figure><p id="7f98" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated"><strong class="iq hs">步骤3:- </strong>为了生成私有和公共密钥，我们将使用下面的方法来完成相同的任务。</p><figure class="jo jp jq jr fd js"><div class="bz dy l di"><div class="mq mr l"/></div></figure><p id="52be" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated"><strong class="iq hs">步骤4:- </strong>如果成功，HTTP状态码为200 (OK)并且<code class="du mv mw mx mh b"><a class="ae jm" href="https://developer.apple.com/documentation/sign_in_with_apple/jwkset/keys" rel="noopener ugc nofollow" target="_blank">JWKSet.Keys</a></code>对象包含苹果的公钥</p><figure class="jo jp jq jr fd js"><div class="bz dy l di"><div class="mq mr l"/></div></figure><p id="aef1" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated"><strong class="iq hs">第五步:- </strong>如果成功，我们将收到一个由用户信息和更多信息组成的令牌。</p><figure class="jo jp jq jr fd js"><div class="bz dy l di"><div class="mq mr l"/></div></figure><figure class="jo jp jq jr fd js er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es my"><img src="../Images/0d8ba0bb6c76c8909aa5000db0cedfc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f9TMjifJVReTlh93qJ845Q.png"/></div></div><p class="jz ka et er es kb kc bd b be z dx translated">谢谢观众们——罗汉·卡达姆</p></figure></div></div>    
</body>
</html>