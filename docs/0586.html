<html>
<head>
<title>Solr Search &amp; Querying using Java Spring Boot Application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Java Spring Boot应用程序进行Solr搜索和查询</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/solr-search-querying-using-java-spring-boot-application-81e4acf0ec?source=collection_archive---------3-----------------------#2020-07-14">https://medium.com/javarevisited/solr-search-querying-using-java-spring-boot-application-81e4acf0ec?source=collection_archive---------3-----------------------#2020-07-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/fdb399a2dee7bfa0d63083ae03bd847f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FMrjz8j30nkhkxsOOZI87g.png"/></div></div></figure><p id="7848" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">任何电子商务web应用程序的成功都依赖于快速可靠的搜索解决方案。Solr搜索是市场上最好的搜索解决方案。</p><p id="8bb4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们来探索Solr以及与Spring Boot应用程序的集成，它使您能够为您的网站设计一个有效的搜索功能。</p><h2 id="c3e8" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated"><strong class="ak"> <em class="kj">什么是Solr？</em>T3】</strong></h2><p id="042f" class="pw-post-body-paragraph iq ir hi is b it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj ko jl jm jn hb bi translated">Solr是Apache Lucene的一个开源搜索平台，它用于支持全球许多大型互联网网站的搜索和过滤功能，包括苹果、网飞、思科、Chegg、NASA和Goldmansachs。它的流行主要是由于它的高可靠性和容错特性。</p><p id="31a0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Solr通过为搜索查询提供分布式索引、复制、自动故障和恢复以及非常具体的过滤结果来提供高维护性。</p><h2 id="68ed" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated"><strong class="ak"> <em class="kj">启动Solr并与网站整合</em> </strong></h2><ul class=""><li id="4961" class="kp kq hi is b it kk ix kl jb kr jf ks jj kt jn ku kv kw kx bi translated">启动Solr之前的先决条件:机器上最新的JRE。</li><li id="7817" class="kp kq hi is b it ky ix kz jb la jf lb jj lc jn ku kv kw kx bi translated">Solr可以通过解包并归档到您选择的目录来下载和启动。</li><li id="15a2" class="kp kq hi is b it ky ix kz jb la jf lb jj lc jn ku kv kw kx bi translated">启动Solr:通过终端导航到Solr主文件夹</li></ul><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="b072" class="jo jp hi li b fi lm ln l lo lp">bin/solr start(Unix based machines)</span><span id="7cda" class="jo jp hi li b fi lq ln l lo lp">bin\solr.cmd start(windows machines)</span><span id="849a" class="jo jp hi li b fi lq ln l lo lp">bin\solr start(windows machines)</span></pre><figure class="ld le lf lg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/2b805b467db04a016af6d0578e23a344.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eMMOXukdxYwBqYlobPCTxg.png"/></div></div></figure><p id="0bc6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此外，您可以在云模式下启动Solr，通过ZooKeeper集成获得更灵活的分布式搜索，从而实现集群配置和维护以及高可用性</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="9d61" class="jo jp hi li b fi lm ln l lo lp">bin/solr start -e cloud</span></pre><p id="5f6f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上面的命令在云模式下启动Solr，使用Solr的内部Zookeeper来维护云节点</p><h2 id="8bc4" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated"><strong class="ak"> <em class="kj">带Solr的外部动物园管理员</em> </strong></h2><p id="5e64" class="pw-post-body-paragraph iq ir hi is b it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj ko jl jm jn hb bi translated">当在终端中启动Solr时，您可以通过定义zookeeper主机来使用外部zookeeper启动Solr</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="9b4b" class="jo jp hi li b fi lm ln l lo lp">bin/solr start -e cloud -z &lt;zookeeperIP&gt;:&lt;Port&gt;</span></pre><p id="609e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此外，您可以使用多个zoo keeper启动Solr，通过用逗号将zoo keeper分隔成一个集合来实现高维护性和容错性。</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="ad1d" class="jo jp hi li b fi lm ln l lo lp">bin/solr start -e cloud -z &lt;zookeeperIP1&gt;:&lt;Port&gt;,&lt;zookeeperIP2&gt;:&lt;Port&gt;,&lt;zookeeperIP3&gt;:&lt;Port&gt;</span></pre><p id="b37f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用示例配置集(在索引网站之前测试Solr的示例):</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="f708" class="jo jp hi li b fi lm ln l lo lp">bin/solr -e techproducts</span></pre><p id="5607" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里，Solr给出的一个示例配置集中的techproducts用来理解Solr中的查询</p><h2 id="d517" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated"><strong class="ak"> <em class="kj">整合Solr与Spring Boot </em> </strong></h2><ul class=""><li id="0ee5" class="kp kq hi is b it kk ix kl jb kr jf ks jj kt jn ku kv kw kx bi translated">使用带有依赖项的spring工具套件创建一个Spring启动的项目</li></ul><figure class="ld le lf lg fd ij"><div class="bz dy l di"><div class="ls lt l"/></div></figure><ul class=""><li id="54ea" class="kp kq hi is b it iu ix iy jb lu jf lv jj lw jn ku kv kw kx bi translated">使用@Field注释从Solr索引中获取字段:</li></ul><figure class="ld le lf lg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lx"><img src="../Images/dc67ec3c807aeca003ee0fbe9a504f9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u_ukT42FPFUXgCA80ryC1A.png"/></div></div></figure><p id="90b2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里，features和cat是Solr中的多值字段，因此我们将类型声明为字符串列表</p><ul class=""><li id="78f0" class="kp kq hi is b it iu ix iy jb lu jf lv jj lw jn ku kv kw kx bi translated">使用solrj在后端连接到Solr的控制器</li></ul><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="3d1d" class="jo jp hi li b fi lm ln l lo lp">SolrClient client = new HttpSolrClient<br/>        .Builder(“http://localhost:8983/solr/techproducts").build();</span></pre><p id="a6f2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">SolrClient是solrJ的一个类，它允许用户使用IP地址和端口在后端连接到Solr。</p><p id="06f5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要更好地了解控制器如何映射Solr并检索搜索查询，请访问:</p><p id="8991" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae ly" href="https://www.udemy.com/course/solr-search-querying-using-java-spring-boot-application/?referralCode=2509BA79BD800947E57F" rel="noopener ugc nofollow" target="_blank">https://www . udemy . com/course/Solr-search-query-using-Java-spring-boot-application/？referral code = 2509 ba 79 BD 800947 e57f</a></p></div></div>    
</body>
</html>