<html>
<head>
<title>Introduction to VLAN &amp; VTP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">VLAN 和 VTP 简介</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/introduction-to-vlan-vtp-8c4f990c633c?source=collection_archive---------0-----------------------#2019-01-07">https://medium.com/javarevisited/introduction-to-vlan-vtp-8c4f990c633c?source=collection_archive---------0-----------------------#2019-01-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="3129" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">IST 2019 年 1 月 6 日 18 时 27 分 30 秒</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/5cf2c84204da5b67c432e6e6224e7f5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/0*1mzIpY0N97CVeYnq"/></div></figure><blockquote class="jl jm jn"><p id="578e" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">跟随进场:</strong></p></blockquote><p id="ea26" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">概念——面临的问题——如何解决问题</p><blockquote class="jl jm jn"><p id="22bd" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">联网:</strong></p></blockquote><p id="f437" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过通信信道连接在一起的一组设备，用于共享资源和信息。</p><blockquote class="jl jm jn"><p id="f781" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">网络分类:</strong></p></blockquote><p id="631e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据区域覆盖范围，它分为</p><ol class=""><li id="59e4" class="js jt hi ih b ii ij im in iq ju iu jv iy jw jc jx jy jz ka bi translated">局域网—覆盖实验室、办公室或建筑</li><li id="b114" class="js jt hi ih b ii kb im kc iq kd iu ke iy kf jc jx jy jz ka bi translated">男人</li><li id="5ee7" class="js jt hi ih b ii kb im kc iq kd iu ke iy kf jc jx jy jz ka bi translated">广域网</li></ol><blockquote class="jl jm jn"><p id="8c82" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">简单局域网:</strong></p></blockquote><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kg"><img src="../Images/40042e33abb7bd45e2fef714c4ed65f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mTr0DsojTjBbf3A5s8M-nw.png"/></div></div><p class="kl km et er es kn ko bd b be z dx translated">高校局域网络</p></figure><blockquote class="jl jm jn"><p id="3a68" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">局域网中的问题:</strong></p></blockquote><p id="6432" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">缺乏隔离:</strong></p><p id="0b94" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jo">群组流量局限于局域网:</em></p><p id="c522" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">考虑电气工程中的系统 S1 向电气工程中的系统 S2 发送消息。现在不会涉及其他系统。</p><p id="5439" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jo">广播流量未本地化:</em></p><p id="1fdb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果 S1 系统想在局域网中广播一条消息，那么所有部门的所有系统都会收到这条消息。我们需要限制局域网中广播流量的范围，尤其是出于安全原因。</p><p id="b717" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">开关使用效率低下:</strong></p><p id="0380" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jo">场景:</em></p><p id="163a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">#部门&gt; #每个部门中的系统</p><p id="ead6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jo">效果说明:</em></p><p id="aa1b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所需的开关数量非常高，这确实是低效的。</p><p id="8471" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">用户管理:</strong></p><p id="adb0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当用户转到另一个部门时，他/她需要负责物理布线</p><blockquote class="jl jm jn"><p id="7a87" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">子网划分没有帮助:</strong></p></blockquote><p id="549a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以应用子网划分来解决上述局域网问题。</p><p id="6cdf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是，</p><p id="fd16" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1)不同物理位置的设备不能在同一个网络中</p><p id="646e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2)子网中的所有设备都应该连接到一台交换机，并且应该连接到路由器的一个端口</p><p id="2d91" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，子网划分不能有效解决 LAN 问题，我们选择 VLAN。</p><blockquote class="jl jm jn"><p id="a372" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">—<em class="hi">虚</em>兰:</strong></p></blockquote><p id="7d6d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虚拟的——实际上存在，但实际上并不存在。</p><p id="da8a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虚拟现实</p><p id="ebbf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可以在一个现有的物理局域网上定义多个 VLAN</p><blockquote class="jl jm jn"><p id="c581" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">类型:</strong></p></blockquote><p id="22a8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1)基于端口</p><p id="81df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2)基于 MAC 地址</p><p id="8b99" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3)基于网络层协议</p><blockquote class="jl jm jn"><p id="fa13" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">基于端口:</strong></p></blockquote><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kp"><img src="../Images/1b6986aa1ab7ca39cf15e8b73f65f079.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*1qaH0tAMeRCDe43_cFPJKw.png"/></div></div></figure><p id="d426" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">网络管理员使用交换机管理软件将交换机的端口或接口划分为 VLANs</p><p id="ddb1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">未申报的端口属于默认的 VLAN</p><blockquote class="jl jm jn"><p id="cb1d" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">VLAN 内部通信:</strong></p></blockquote><p id="97b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将端口 1(未配置)连接到外部路由器。</p><p id="2cd6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">来自电气部门的 IP 数据报到达路由器，然后路由器将数据报转发给计算机科学部门</p><p id="ef9f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如今，一台设备同时充当 VLAN 交换机和路由器</p><blockquote class="jl jm jn"><p id="ad74" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">互连 VLAN 开关:</strong></p></blockquote><p id="91b3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">需要:</strong></p><p id="2d9e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果用户不是 VLAN 的一部分，但他们想连接到它，我们需要连接两个 VLAN 交换机</p><p id="e04f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">如何:</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kp"><img src="../Images/ec98c72ecc4fdcbf610a307ab8e06ecc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*STTJtCSk7rwbUEee2EPuUA.png"/></div><p class="kl km et er es kn ko bd b be z dx translated">浅蓝色— VLAN1，深蓝色— VLAN2</p></figure><p id="466d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在每台交换机上，为每个 VLANs 分配不同的端口并互连它们</p><p id="e2e0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">问题:</strong></p><p id="edcf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所需端口数随 VLANs 数量而直接变化</p><p id="9fe5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了解决这个问题，我们选择了中继。</p><blockquote class="jl jm jn"><p id="5469" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">中继:</strong></p></blockquote><p id="3d54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">主干——系统的主要部分</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kq"><img src="../Images/83476d5c79947f2b6fdf6db2ee39af58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*LxIQNzOZunBHGo2QxIxSng.png"/></div></figure><p id="f267" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在每台交换机中，一个端口充当中继端口。它属于所有的 VLANs</p><blockquote class="jl jm jn"><p id="33e7" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">问题:</strong></p></blockquote><p id="ed35" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们只有一个端口，如何区分 VLANs？</p><blockquote class="jl jm jn"><p id="a601" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj"> VLAN 特异性:</strong></p></blockquote><p id="d8a6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">给框架添加一个 VLAN 标签</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kr"><img src="../Images/b7b07540efcc26db3e530ff30d9641f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hKSpu3Ia1-ALnk38eskXXg.png"/></div></div><p class="kl km et er es kn ko bd b be z dx translated">原始框架</p></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es ks"><img src="../Images/0d7187997befbf68ee0d7f9908520715.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kMqaeetYQP6Ky_oopQ5I_Q.png"/></div></div><p class="kl km et er es kn ko bd b be z dx translated">802.1 Q 标记的 VLAN 帧</p></figure><p id="e2cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">字段详细信息:</strong></p><p id="bc3a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">TPID —标签协议标识符字段</p><p id="944d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">TCID —标签控制信息字段</p><p id="8258" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2 字节字段，包含</p><ol class=""><li id="a82e" class="js jt hi ih b ii ij im in iq ju iu jv iy jw jc jx jy jz ka bi translated">12 位 VLAN ID(一个网络中最多只能有 4096 个 VLAN)</li><li id="738e" class="js jt hi ih b ii kb im kc iq kd iu ke iy kf jc jx jy jz ka bi translated">3 位优先级字段</li></ol><blockquote class="jl jm jn"><p id="219c" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">基于 MAC 地址的 VLAN: </strong></p></blockquote><p id="7701" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> MAC: </strong></p><p id="2e41" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">MAC —媒体访问控制</p><p id="ec6f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">分配给计算机 NIC(网络接口控制器)的唯一 ID</p><p id="38fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">也称为硬件/物理/以太网硬件地址</p><p id="3873" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">示例:0A:25:9D:12:34:5R</p><p id="6e8c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">网络管理员使用交换机管理软件根据 MAC 地址配置 VLANs</p><p id="c0d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">优势:</strong></p><p id="a609" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里不需要重新配置</p><p id="f996" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">缺点:</strong></p><p id="7804" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当交换机的单个端口上存在不同 VLAN 的成员时，就会出现问题</p><blockquote class="jl jm jn"><p id="613b" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">基于网络层协议的 VLAN: </strong></p></blockquote><p id="190d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">IP 是网络层协议</p><p id="f739" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> IP 地址:</strong></p><p id="8b13" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">分配给连接到使用 IP 进行通信的计算机网络的设备的数字标签</p><p id="ab76" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如:172.16.254.11</p><p id="9e84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">网络管理员使用交换机管理软件根据 IP 地址配置 VLAN</p><p id="2ed3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">优势:</strong></p><p id="fb4a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1)用户可以移动工作站</p><p id="758d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2)不需要帧标记</p><blockquote class="jl jm jn"><p id="bf88" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">对 VTP 的需求:</strong></p></blockquote><p id="b448" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们需要在交换机上手动创建 VLAN，以维护中继交换机之间的 VLAN 连通性</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kt"><img src="../Images/ac2ca3ce0acae7a45c3038dddfbdfb22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kzVDIsxEYd4AYxP6zIC5sA.png"/></div></div></figure><p id="3347" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">问题:</strong></p><p id="5dce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">手动配置既耗时又容易出错</p><p id="c417" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以，我们去 VTP</p><blockquote class="jl jm jn"><p id="b98a" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">VTP: </p></blockquote><p id="0de6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">VTP — VLAN 中继协议— L2 层协议—维护 VLAN 配置的一致性</p><p id="e701" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对单个 VTP 服务器交换机的更改会传播到所有中继连接的交换机</p><blockquote class="jl jm jn"><p id="e991" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">VTP 如何工作:</strong></p></blockquote><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es ku"><img src="../Images/557ba2a45c73eda2a60617fdb1d7545c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kCDMczBgeP-QcTiT3DebXA.png"/></div></div></figure><p id="09bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第一步:</strong></p><p id="1da5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">VLAN 配置在 VTP 交换机中</p><p id="1f5c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第二步:</strong></p><p id="adcb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它被发送到连接到 VTP 交换机的所有交换机</p><p id="3aba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第三步:</strong></p><p id="c857" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所有开关同步最新的 VLAN 信息</p><blockquote class="jl jm jn"><p id="2a30" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">VTP 开关的三种模式:</strong></p></blockquote><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kv"><img src="../Images/7e0941fefdc68f925e1eb94da2cdae94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zf7vNlJ-rLbNA9vyf3XXfg.png"/></div></div></figure><blockquote class="jl jm jn"><p id="d746" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj"> VTP 帧格式:</strong></p></blockquote><p id="cb62" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">广告—包含 VLAN 配置信息</p><p id="508a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">摘要广告:</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kw"><img src="../Images/282cad8b689ccf667278c772343756f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nEKBpBKJZ4Xg9IPPu_ihwA.png"/></div></div></figure><p id="1a2a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">什么？讲述有关发送设备的信息和有关 ad 的摘要信息</p><p id="d066" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">字段说明:</strong></p><p id="b872" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">关注者——关注的广告子集数量</p><p id="efe9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">更新者身份— IP 地址</p><p id="c998" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">更新时间戳—更新 CRN 的时间</p><p id="1d9e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">MD5 —整个 VLAN 的 MD5 摘要值</p><p id="f7c2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">管理域名—网络的名称</p><p id="a892" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">广告请求:</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kx"><img src="../Images/a073eaaef85fd9f6b8946aa5351ec6b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VISKSyNwydR2XwlNokZcKg.png"/></div></div></figure><p id="a7d4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">什么？请求 VLANs 的配置信息</p><p id="5dd5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">字段说明:</strong></p><p id="b8f8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">版本— VTP 版本</p><p id="deb6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">代码—帧格式</p><p id="4759" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">MDL—MDL 名称的长度</p><p id="e9bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">起始值—如果我们需要 n 个 VLAN 的信息，我们指定第一个 VLAN 的起始 ID</p><p id="361a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们需要所有 VLANs 的信息，我们需要将“0”作为起始值</p><p id="c3a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">子集广告:</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es ky"><img src="../Images/782e20010fe5d27fb8e3418779d0cc6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2dhof91pmyQ8eejDFSoNUg.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kz"><img src="../Images/b87e6f4abace5d30a30921acec929390.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7gSInEQbX9b02k93uiDLZQ.png"/></div></div></figure><p id="a690" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">什么？关于被通告的 VLANs 的信息</p><blockquote class="jl jm jn"><p id="1f06" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj"> VLAN 配置使用 VTP: </strong></p></blockquote><p id="4bab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1)每 5 分钟或当发生变化时，使用多播帧通过默认 VLAN 发送 VTP 广告</p><p id="847a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2)当收到 VTP 广告时，交换机检查管理域名和密码，然后检查配置修订号(CRN)</p><p id="dde7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3)如果接收的 CRN 大于其 CRN，则意味着已经进行了更新。因此，交换机相应地同步其配置</p><blockquote class="jl jm jn"><p id="da7a" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">参考文献:</strong></p></blockquote><p id="06e1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">计算机网络——自上而下的方法，第六版，Kurose 和 Ross</p></div></div>    
</body>
</html>