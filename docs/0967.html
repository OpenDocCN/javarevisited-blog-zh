<html>
<head>
<title>Coding Time: Folding Collections in Kotlin</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">编码时间:科特林的折叠收藏</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/coding-time-folding-collections-in-kotlin-88a132bda0a2?source=collection_archive---------5-----------------------#2021-02-01">https://medium.com/javarevisited/coding-time-folding-collections-in-kotlin-88a132bda0a2?source=collection_archive---------5-----------------------#2021-02-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/8e100881b901a3aec5a619cbc700d33b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wTlHaHGeIFB-FkHi"/></div></div><p class="iq ir et er es is it bd b be z dx translated">照片由<a class="ae iu" href="https://unsplash.com/@maxweisbecker?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">马克西米利安·魏斯贝克尔</a>在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="81fe" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最近，我和我的队友一起完成了一项任务，其中包括匹配不同列表中的值。在这个过程中，我意识到我并不熟悉<a class="ae iu" rel="noopener" href="/javarevisited/top-5-courses-to-learn-kotlin-in-2020-dfc3fa7706d8?source=---------16------------------"> Kotlin </a>中的<code class="du jt ju jv jw b">Iterable&lt;T&gt;.fold()</code>操作……嗯，我的队友意识到了这一点，并就此取笑了我一会儿。</p><p id="00eb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，第二天早上我做的第一件事就是打开<a class="ae iu" href="https://play.kotlinlang.org/koans/overview" rel="noopener ugc nofollow" target="_blank"> Kotlin Koan </a>进行<code class="du jt ju jv jw b">fold</code>操作！</p><h2 id="d7f3" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jg ki kj kk jk kl km kn jo ko kp kq kr bi translated"><strong class="ak">设置</strong></h2><p id="3bb4" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">有一个<code class="du jt ju jv jw b">Shop</code>跟踪它的<code class="du jt ju jv jw b">Customers</code>的历史，这些<code class="du jt ju jv jw b">Customers</code>有某些<code class="du jt ju jv jw b">Product</code>的<code class="du jt ju jv jw b">Order</code>:</p><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="lb lc l"/></div></figure><p id="9cc5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">任务是:对于给定的商店，获取每个顾客订购的产品列表。当然，使用<code class="du jt ju jv jw b">fold</code>功能。</p><h2 id="1bcb" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jg ki kj kk jk kl km kn jo ko kp kq kr bi translated">用我已经知道的知识解决问题</h2><p id="7693" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">我的第一步是简单地解决这个问题——我需要获得每个客户的订单列表，并找到这些列表的交集:</p><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="lb lc l"/></div></figure><p id="93d5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">a <code class="du jt ju jv jw b">List &lt;Customer&gt;</code>到<code class="du jt ju jv jw b">List&lt;List&lt;Product&gt;&gt;</code>的初始映射感觉没有必要，所以我把它去掉了。此外，我在<code class="du jt ju jv jw b">Customer</code>中添加了一个<code class="du jt ju jv jw b">getter</code>，返回该客户订购的所有<code class="du jt ju jv jw b">Product</code>。：</p><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="lb lc l"/></div></figure><p id="c0b4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这两个都通过了Koan测试，所以是时候使用<code class="du jt ju jv jw b">fold</code>函数了。</p><h2 id="55c2" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jg ki kj kk jk kl km kn jo ko kp kq kr bi translated">用<code class="du jt ju jv jw b">fold function</code>解决问题</h2><p id="bdbc" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">该函数的定义如下:</p><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="lb lc l"/></div></figure><p id="2cda" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">太好了，我的<code class="du jt ju jv jw b">initial</code>值将是第一个客户订购的产品，而<code class="du jt ju jv jw b">operation</code>与我一直使用的<code class="du jt ju jv jw b">intersect</code>相同:</p><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="lb lc l"/></div></figure><p id="eb7f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">看起来非常整洁简洁！让我们为客户列表为空的情况添加一个防护:</p><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="lb lc l"/></div></figure><h2 id="5c65" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jg ki kj kk jk kl km kn jo ko kp kq kr bi translated">与解决方案相比</h2><p id="753d" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">最后，科特林学院自己的解决方案:</p><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="lb lc l"/></div></figure><p id="30e8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">万岁，我真的很接近了！我的解决方案更加简洁，因为它没有第一次迭代就获得所有购买产品的列表。</p><p id="88ec" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我希望你觉得这很有趣！</p><p id="4f60" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你自己试一试怎么样？</p></div></div>    
</body>
</html>