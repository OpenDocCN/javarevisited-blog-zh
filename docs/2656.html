<html>
<head>
<title>finally Block in Exception (JAVA)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">异常中的最终阻塞(JAVA)</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/finally-block-in-exception-java-187cc87e69ce?source=collection_archive---------4-----------------------#2022-12-28">https://medium.com/javarevisited/finally-block-in-exception-java-187cc87e69ce?source=collection_archive---------4-----------------------#2022-12-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex if ig ih ii"><div class="bz dy l di"><div class="ij ik l"/></div></figure><p id="07c5" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">为了确保程序的所有状态都被执行，我们通过编写一个<a class="ae jj" href="https://javarevisited.blogspot.com/2013/03/0-exception-handling-best-practices-in-Java-Programming.html" rel="noopener ugc nofollow" target="_blank"> try-and-catch块来处理异常。</a></p><p id="1ba2" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">在某些情况下，catch块之后的语句不会被执行:</p><p id="c633" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">1.当try或catch块中有return语句时</p><p id="e015" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">2.当try块中发生异常并且匹配的catch块不可用时。</p><p id="98b4" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">3.当我们硬推代码从try块<a class="ae jj" href="https://javarevisited.blogspot.com/2014/11/dont-use-systemexit-on-java-web-application.html" rel="noopener ugc nofollow" target="_blank"> System.exit(0)执行时；</a></p><p id="22d2" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">当你想在catch块之后执行语句时，你必须把这些语句放在finally块中。</p><p id="6947" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">运行时系统总是执行<a class="ae jj" href="https://javarevisited.blogspot.com/2012/11/difference-between-final-finally-and-finalize-java.html" rel="noopener ugc nofollow" target="_blank"> finally块</a>中的语句，而不管try块中发生了什么</p><pre class="jk jl jm jn fd jo jp jq bn jr js bi"><span id="8152" class="jt ju hi jp b be jv jw l jx jy">public class TestFinallyBlock2{    <br/>      public static void main(String args[]){   <br/>  <br/>      try {    <br/>  <br/>        System.out.println("Inside try block");  <br/>  <br/>        //below code throws divide by zero exception  <br/>       int data=25/0;    <br/>       System.out.println(data);    <br/>      }   <br/>  <br/>      //handles the Arithmetic Exception / Divide by zero exception  <br/>      catch(ArithmeticException e){  <br/>        System.out.println("Exception handled");  <br/>        System.out.println(e);  <br/>      }   <br/>  <br/>      //executes regardless of exception occured or not   <br/>      finally {  <br/>        System.out.println("finally block is always executed");  <br/>      }    <br/>  <br/>      System.out.println("rest of the code...");    <br/>      }    <br/>    }  </span></pre><h1 id="ca4c" class="jz ju hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated"><strong class="ak"> System.exit(0) </strong></h1><p id="19fa" class="pw-post-body-paragraph il im hi in b io kw iq ir is kx iu iv iw ky iy iz ja kz jc jd je la jg jh ji hb bi translated"><code class="du lb lc ld jp b">System.exit(0)</code>是<code class="du lb lc ld jp b">java.lang.System</code>类中的一个方法，用于终止当前的Java虚拟机。它采用一个整数参数，表示虚拟机的退出状态。<code class="du lb lc ld jp b">0</code>状态表示虚拟机正常终止，而非零状态表示出现错误。</p><p id="9bd3" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">下面是一个如何在Java程序中使用<code class="du lb lc ld jp b">System.exit(0)</code>的例子:</p><pre class="jk jl jm jn fd jo jp jq bn jr js bi"><span id="7546" class="jt ju hi jp b be jv jw l jx jy">public class Main {<br/>  public static void main(String[] args) {<br/>    // some code here<br/>    System.exit(0);<br/>  }<br/>}</span></pre><p id="ba90" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">当调用<code class="du lb lc ld jp b">System.exit(0)</code>方法时，Java虚拟机将立即终止，并且不会执行<code class="du lb lc ld jp b">main</code>方法中的任何剩余代码。</p><p id="e402" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">需要注意的是，调用<code class="du lb lc ld jp b">System.exit(0)</code>也会导致虚拟机中运行的任何非守护线程突然停止。这可能会导致意外行为，应谨慎使用。</p><p id="ba77" class="pw-post-body-paragraph il im hi in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji hb bi translated">一般来说，建议只在万不得已的情况下使用<code class="du lb lc ld jp b">System.exit(0)</code>，因为某种原因需要终止虚拟机的时候。在大多数情况下，最好让虚拟机在<code class="du lb lc ld jp b">main</code>方法执行完毕后自然终止。</p><div class="jk jl jm jn fd ab cb"><figure class="le ii lf lg lh li lj paragraph-image"><img src="../Images/a7d8c1ca5201216f8856b10e902b2fba.png" data-original-src="https://miro.medium.com/v2/resize:fit:598/1*L2RLgwJSAbkkDfTKTb5G8A.gif"/></figure><figure class="le ii lm lg lh li lj paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><img src="../Images/2265d2aed53e42edf985e9e23b94fe05.png" data-original-src="https://miro.medium.com/v2/resize:fit:870/1*9jCsG81nxrMTn9cx_cCngw.gif"/></div></figure></div></div></div>    
</body>
</html>