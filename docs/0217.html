<html>
<head>
<title>What is New in Java 13</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Java 13 的新特性是什么</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/what-is-new-in-java-13-d3d7ae7fc741?source=collection_archive---------1-----------------------#2019-12-21">https://medium.com/javarevisited/what-is-new-in-java-13-d3d7ae7fc741?source=collection_archive---------1-----------------------#2019-12-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="8e04" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">久别重逢的问候。在这篇文章中，我将告诉你 Java 13 中的文本块(JEP 355)和开关表达式(JEP 354)。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/91a0e7583df5ff0ef528d6a45661007d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G1vYbqb1KCmxkNk_UEZNFQ.png"/></div></div><p class="jp jq et er es jr js bd b be z dx translated">Java 13</p></figure><p id="a17e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如您所看到的，下面列出了 Java 13 中的一些其他特性。您可以点击此<a class="ae jt" href="https://www.oracle.com/technetwork/java/13-relnote-issues-5460548.html#NewFeature" rel="noopener ugc nofollow" target="_blank">链接</a>了解关于这些功能的更多信息。</p><ul class=""><li id="eead" class="ju jv hi ih b ii ij im in iq jw iu jx iy jy jc jz ka kb kc bi translated">重新实现传统套接字 API — JEP 353</li><li id="a1ab" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">动态光盘存档— JEP 350</li><li id="c0b1" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">ZGC:取消提交未使用的内存— JEP 351</li><li id="075b" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">FileSystems.newFileSystem()方法</li><li id="4f44" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">支持 Unicode 12.1</li><li id="2f0e" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">支持名称空间的 DOM 和 SAX 工厂？</li></ul></div><div class="ab cl ki kj gp kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hb hc hd he hf"><h1 id="72de" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">如何启用对 Java 13 预览版特性的支持？</h1><p id="4c52" class="pw-post-body-paragraph if ig hi ih b ii ln ik il im lo io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated">文本块(JEP 355)和开关表达式(JEP 354)是 Java 13 的预览功能。您可以通过在项目中启用预览功能设置来使用这些功能。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ls"><img src="../Images/b59d42c7e23f89166ba38ee0cd3d1b53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7np62-S7yWwsdP7R"/></div></div><p class="jp jq et er es jr js bd b be z dx translated">马库斯·斯皮斯克在<a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="cd12" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您从命令行运行 java 程序，您可以使用<code class="du lt lu lv lw b">--enable-preview</code>开关启用它。您可以使用这个开关在启用预览功能的情况下启动 JShell。</p><pre class="je jf jg jh fd lx lw ly lz aw ma bi"><span id="3eb9" class="mb kq hi lw b fi mc md l me mf">$ jshell --enable-preview  <br/>$ java --enable-preview --source 13 Test.java</span></pre><p id="2be1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您使用的是 IntelliJ IDEA，您必须在项目结构设置中设置相应的语言级别，并安装 JDK 进行编译。</p><p id="5495" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您正在使用 Eclipse，您可以从 Java 编译器设置中启用预览功能。</p><h1 id="89b8" class="kp kq hi bd kr ks mg ku kv kw mh ky kz la mi lc ld le mj lg lh li mk lk ll lm bi translated">文本块</h1><p id="4d28" class="pw-post-body-paragraph if ig hi ih b ii ln ik il im lo io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated">使用这个预览功能可以很容易地创建多行字符串。多行字符串必须写在一对三重双引号内。</p><p id="7116" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以只使用这些引号来创建这些文本块，而不需要任何其他东西。</p><pre class="je jf jg jh fd lx lw ly lz aw ma bi"><span id="bdb5" class="mb kq hi lw b fi mc md l me mf">public class TextBlocks {<br/><br/>    <em class="ml">/**<br/>     * JEP 355: Preview Feature<br/>     */<br/>    </em>@SuppressWarnings("preview")<br/>    public static void main(String[] args) {<br/>        String textBlock = """<br/>            Hello<br/>            Java13<br/>            New Feature""";<br/><br/>        String str = "Hello\nJava13\nNew Feature";<br/><br/>        System.<em class="ml">out</em>.println("Text Block String:\n" + textBlock);<br/>        System.<em class="ml">out</em>.println("Normal String:\n" + str);<br/><br/>        System.<em class="ml">out</em>.println("Text Block and String Literal equals() Comparison: " + (textBlock.equals(str)));<br/>        System.<em class="ml">out</em>.println("Text Block and String Literal == Comparison: " + (textBlock == str));<br/>    }<br/><br/>}</span></pre><p id="f456" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输出:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mm"><img src="../Images/ae93566d2ac5ac19f0f8f70f3c259170.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MoP3wgsca_UP-MYUxxrq1Q.png"/></div></div><p class="jp jq et er es jr js bd b be z dx translated">文本块输出</p></figure><p id="3531" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用 Java 13 中的文本块，你也可以在 String 类中使用新的方法。比如<code class="du lt lu lv lw b">formatted(Object... args)</code>、<code class="du lt lu lv lw b">stripIndent()</code>、<code class="du lt lu lv lw b">translateEscapes()</code>。</p><h1 id="796b" class="kp kq hi bd kr ks mg ku kv kw mh ky kz la mi lc ld le mj lg lh li mk lk ll lm bi translated">切换表达式</h1><p id="db0b" class="pw-post-body-paragraph if ig hi ih b ii ln ik il im lo io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated">在 Java 12 版本中，开关表达式作为预览特性被添加进来。我已经在这里提到了<a class="ae jt" rel="noopener" href="/@yigitcannalci/how-to-use-new-switch-expressions-in-java-12-8510ab9f83c3?source=friends_link&amp;sk=da9966b5f3af9fc37cafea0f0b762574">如何在 Java 12 中使用它们</a>。</p><p id="2e44" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">除了<code class="du lt lu lv lw b">yield</code>，Java 12 版本和 Java 13 几乎一样。在 Java 13 中，<code class="du lt lu lv lw b">break</code>语句被替换为<code class="du lt lu lv lw b">yield</code>。</p><pre class="je jf jg jh fd lx lw ly lz aw ma bi"><span id="e772" class="mb kq hi lw b fi mc md l me mf">public class SwitchExpressions {<br/><br/>    @SuppressWarnings("preview")<br/>    public static void main(String[] args) {<br/>        Day day = Day.<em class="ml">WEDNESDAY</em>;<br/><br/>        switch (day) {<br/>            case <em class="ml">MONDAY</em>:<br/>            case <em class="ml">FRIDAY</em>:<br/>            case <em class="ml">SUNDAY</em>:<br/>                System.<em class="ml">out</em>.println(6);<br/>                break;<br/>            case <em class="ml">TUESDAY</em>:<br/>                System.<em class="ml">out</em>.println(7);<br/>                break;<br/>            case <em class="ml">THURSDAY</em>:<br/>            case <em class="ml">SATURDAY</em>:<br/>                System.<em class="ml">out</em>.println(8);<br/>                break;<br/>            case <em class="ml">WEDNESDAY</em>:<br/>                System.<em class="ml">out</em>.println(9);<br/>                break;<br/>            default:<br/>                System.<em class="ml">out</em>.println(-1);<br/>        }<br/><br/>        // from java 13 onwards - multi-label case statements<br/>        switch (day) {<br/>            case <em class="ml">MONDAY</em>, <em class="ml">FRIDAY</em>, <em class="ml">SUNDAY</em>:<br/>                System.<em class="ml">out</em>.println(6);<br/>                break;<br/>            case <em class="ml">TUESDAY</em>:<br/>                System.<em class="ml">out</em>.println(7);<br/>                break;<br/>            case <em class="ml">THURSDAY</em>, <em class="ml">SATURDAY</em>:<br/>                System.<em class="ml">out</em>.println(8);<br/>                break;<br/>            case <em class="ml">WEDNESDAY</em>:<br/>                System.<em class="ml">out</em>.println(9);<br/>                break;<br/>            default:<br/>                System.<em class="ml">out</em>.println(-1);<br/>        }<br/><br/>        // switch expressions, use yield to return, in Java 12 it was break<br/>        int x = switch (day) {<br/>            case <em class="ml">MONDAY</em>, <em class="ml">FRIDAY</em>, <em class="ml">SUNDAY</em>:<br/>                yield 6;<br/>            case <em class="ml">TUESDAY</em>:<br/>                yield 7;<br/>            case <em class="ml">THURSDAY</em>, <em class="ml">SATURDAY</em>:<br/>                yield 8;<br/>            case <em class="ml">WEDNESDAY</em>:<br/>                yield 9;<br/>            default:<br/>                yield -1;<br/>        };<br/>        System.<em class="ml">out</em>.println("x = " + x);<br/><br/>    }<br/><br/>    enum Day {<br/>        <em class="ml">MONDAY</em>, <em class="ml">TUESDAY</em>, <em class="ml">WEDNESDAY</em>, <em class="ml">THURSDAY</em>, <em class="ml">FRIDAY</em>, <em class="ml">SATURDAY</em>, <em class="ml">SUNDAY</em>;<br/>    }</span></pre><p id="6b8d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输出:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mm"><img src="../Images/1da061b691cea3b92bb2a0b71ae7b2a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I445HsQvV5BA1YZ5fi7wIw.png"/></div></div><p class="jp jq et er es jr js bd b be z dx translated">开关表达式输出</p></figure></div><div class="ab cl ki kj gp kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hb hc hd he hf"><p id="d142" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>你可以用这个<a class="ae jt" href="https://github.com/ragcrix/Java13Features" rel="noopener ugc nofollow" target="_blank">链接</a>从 Github 下载源代码。</p><p id="dcab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">学习 Java 的其他<strong class="ih hj">有用资源</strong>你可能喜欢的<br/><a class="ae jt" href="https://javarevisited.blogspot.com/2017/12/10-things-java-programmers-should-learn.html#axzz5atl0BngO" rel="noopener ugc nofollow" target="_blank">Java 程序员 2020 年应该学习的 10 件事</a> <br/> <a class="ae jt" href="http://www.java67.com/2018/08/top-10-free-java-courses-for-beginners-experienced-developers.html" rel="noopener ugc nofollow" target="_blank">从头开始学习 Java 的 10 门免费课程</a> <br/> <a class="ae jt" href="https://medium.freecodecamp.org/must-read-books-to-learn-java-programming-327a3768ea2f" rel="noopener ugc nofollow" target="_blank">深入学习 Java 的 10 本书</a> <br/> <a class="ae jt" href="http://www.java67.com/2018/04/10-tools-java-developers-should-learn.html" rel="noopener ugc nofollow" target="_blank">每个 Java 开发人员都应该知道的 10 种工具</a> <br/> <a class="ae jt" href="http://javarevisited.blogspot.sg/2013/04/10-reasons-to-learn-java-programming.html" rel="noopener ugc nofollow" target="_blank">学习 Java 编程语言的 10 个理由</a><br/><a class="ae jt" href="http://javarevisited.blogspot.sg/2018/01/10-frameworks-java-and-web-developers-should-learn.html" rel="noopener ugc nofollow" target="_blank">2020 年 Java 和 Web 开发人员应该学习的 10 个框架</a> 成为 2020 年更优秀的 Java 开发者<br/><a class="ae jt" href="http://javarevisited.blogspot.sg/2018/04/top-5-java-frameworks-to-learn-in-2018_27.html" rel="noopener ugc nofollow" target="_blank">2020 年要学习的 5 大 Java 框架</a> <br/> <a class="ae jt" href="https://javarevisited.blogspot.sg/2018/01/10-unit-testing-and-integration-tools-for-java-programmers.html" rel="noopener ugc nofollow" target="_blank">每个 Java 开发者都应该知道的 10 个测试库</a></p><div class="mn mo ez fb mp mq"><a href="https://javarevisited.blogspot.com/2019/10/the-java-developer-roadmap.html#123" rel="noopener  ugc nofollow" target="_blank"><div class="mr ab dw"><div class="ms ab mt cl cj mu"><h2 class="bd hj fi z dy mv ea eb mw ed ef hh bi translated">2020 年 Java 开发者路线图</h2><div class="mx l"><h3 class="bd b fi z dy mv ea eb mw ed ef dx translated">大家好，首先祝大家 2020 新年快乐。我已经分享了很多成为网络的路线图…</h3></div><div class="my l"><p class="bd b fp z dy mv ea eb mw ed ef dx translated">javarevisited.blogspot.com</p></div></div><div class="mz l"><div class="na l nb nc nd mz ne jn mq"/></div></div></a></div></div><div class="ab cl ki kj gp kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hb hc hd he hf"><h1 id="b757" class="kp kq hi bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">感谢您的阅读！🙏你的想法对我很有价值。请随意分享。😄</h1></div></div>    
</body>
</html>