<html>
<head>
<title>Deploying a Springboot application in Docker using Jenkins CICD</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用詹金斯CICD在Docker中部署Springboot应用程序</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/deploying-a-springboot-application-in-docker-using-jenkins-cicd-2489bfe752c3?source=collection_archive---------1-----------------------#2021-08-08">https://medium.com/javarevisited/deploying-a-springboot-application-in-docker-using-jenkins-cicd-2489bfe752c3?source=collection_archive---------1-----------------------#2021-08-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="5419" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个自由式项目被用来生成war文件/使用运行在EC2服务器上的docker实例进行构建和部署。使用Git在中央存储库中维护代码，构建分三个阶段生成:</p><ol class=""><li id="3c4d" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">部署应用程序的war文件是使用以maven为目标的清理和安装目标创建的。</li><li id="da7e" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">运行一个CMD脚本，该脚本将收集生成的war文件，然后将其推送到包含<a class="ae jr" rel="noopener" href="/javarevisited/why-and-how-to-learn-docker-and-kubernetes-1dcbe8679792"> Docker </a>安装的远程服务器，该服务器也将用于托管项目。</li><li id="b043" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">使用ssh在远程服务器上执行一个shell脚本来创建Docker映像，部署它并将副本推送到docker hub。</li></ol><p id="1739" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个过程将在最后详细解释。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><a href="https://javarevisited.blogspot.com/2019/05/top-5-courses-to-learn-docker-and-kubernetes-for-devops.html"><div class="er es js"><img src="../Images/9c1602303eb35a4d653927c83acfb67d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d2j7VOZNHzT1cJIqPcKKMg.png"/></div></a><p class="ka kb et er es kc kd bd b be z dx translated"><strong class="bd ke"> CICD管道</strong></p></figure><h1 id="de44" class="kf kg hi bd ke kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">先决条件:</h1><ol class=""><li id="c680" class="jd je hi ih b ii lc im ld iq le iu lf iy lg jc ji jj jk jl bi translated">一个单独的<a class="ae jr" rel="noopener" href="/javarevisited/7-best-courses-to-learn-jenkins-and-ci-cd-for-devops-engineers-and-software-developers-df2de8fe38f3">詹金斯</a>服务器或詹金斯的本地安装。</li><li id="9ef6" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">安装了docker且必须支持ssh连接的远程服务器。本例中使用了Amazon Linux的一个<a class="ae jr" rel="noopener" href="/javarevisited/7-best-aws-ec2-amazon-elastic-compute-cloud-online-courses-for-beginners-in-2021-f7a1a55ea719?source=rss-bb36d8439904------2"> AWS EC2 </a>实例。</li><li id="0386" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated">Git Hub帐户或任何其他版本控制工具来维护代码。</li></ol><h1 id="e156" class="kf kg hi bd ke kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">必需的设置:</h1><h2 id="7807" class="lh kg hi bd ke li lj lk kk ll lm ln ko iq lo lp ks iu lq lr kw iy ls lt la lu bi translated">设置EC2实例</h2><p id="c668" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq lv is it iu lw iw ix iy lx ja jb jc hb bi translated">1.在AWS控制台的EC2服务选项下，单击<em class="ly">启动实例</em>按钮。它将加载选项来创建一个新实例。选择所需的实例类型以及所需的存储和安全组。将有选项来选择不同类型的实例。本例中使用了具有<strong class="ih hj"> t2.micro </strong>实例类型和<strong class="ih hj"> 8 GB </strong>根存储的<strong class="ih hj"> Amazon Linux 2 AMI </strong>。</p><p id="ed02" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">还修改了安全组，以提供对特定端口的访问。所需端口:</p><ul class=""><li id="2f85" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc lz jj jk jl bi translated">8080(这将由docker中运行的应用程序使用)</li><li id="3992" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc lz jj jk jl bi translated">22(建立<strong class="ih hj"> ssh </strong>连接)</li><li id="ab09" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc lz jj jk jl bi translated">8081(这可用于测试目的——可以使用此端口启动和测试war文件)</li></ul><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es ma"><img src="../Images/9a23d574b25eee968215a43d6e62e693.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZukZlPdJraQnzMbxl5obxQ.png"/></div></div></figure><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mf"><img src="../Images/b9dce8dc1012e22e770217f38899bb93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qHucgJVxLXC6dLyNDTy3vQ.png"/></div></div></figure><p id="b2e1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在创建实例时，我们将获得一个密钥对，可以用来连接到<a class="ae jr" href="https://javarevisited.blogspot.com/2020/08/top-5-courses-to-learn-amazon-aws-ec-2.html" rel="noopener ugc nofollow" target="_blank"> EC2实例</a>。</p><p id="1f1e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.<strong class="ih hj">连接到实例:</strong>我们可以使用ssh连接到实例，或者使用<strong class="ih hj"> EC2实例连接</strong>。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><a href="https://javarevisited.blogspot.com/2020/08/top-5-courses-to-learn-amazon-aws-ec-2.html"><div class="er es mg"><img src="../Images/8a1505888c90b84b1b838f5bfead1890.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hkYqiVZU2EXgULmI4uaxiw.png"/></div></a></figure><p id="e2d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">远程服务器中为此项目维护的文件夹结构是:</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mh"><img src="../Images/887d7075ca9b9ce50b7ffd04b3e1543e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DZuPteH6YZM_jdgQuonO8w.png"/></div></div></figure><ol class=""><li id="5153" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated"><strong class="ih hj">Jenkins/tmp _ Build:</strong>war文件在生成后最初会被移动到这个文件夹中。</li><li id="d540" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><strong class="ih hj">Jenkins/build/spring boot v1:</strong>这是docker图像将生成的位置。</li><li id="05ac" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><strong class="ih hj"> Jenkins/backups: </strong>这将包含war文件，作为文件夹内的备份，以格式{ commit-id }-c {提交id的构建计数}-{备份日期&amp;时间}命名</li></ol><h2 id="3a93" class="lh kg hi bd ke li lj lk kk ll lm ln ko iq lo lp ks iu lq lr kw iy ls lt la lu bi translated">设置Docker:</h2><p id="e234" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq lv is it iu lw iw ix iy lx ja jb jc hb bi translated">通过依次执行以下命令，可以将<a class="ae jr" rel="noopener" href="/javarevisited/5-best-docker-courses-for-java-and-spring-boot-developers-bbf01c5e6542"> docker </a>安装到Amazon Linux 2中。</p><ul class=""><li id="8915" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc lz jj jk jl bi translated">使用<strong class="ih hj"> sudo yum update -y </strong>更新软件包</li><li id="1f51" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc lz jj jk jl bi translated">Docker可以用这个命令安装:<strong class="ih hj"> sudo amazon-linux-extras安装docker </strong></li><li id="fa17" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc lz jj jk jl bi translated">启动docker实例:<strong class="ih hj"> sudo服务docker启动</strong></li><li id="0d94" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc lz jj jk jl bi translated">安装docker后，<strong class="ih hj"> ec2用户</strong>将无法使用sudo执行docker命令。必须执行以下命令，以提供对ec2-user的访问，从而运行<strong class="ih hj"> docker </strong>命令:<strong class="ih hj">sudo usermod-a-G docker ec2-user</strong></li><li id="7755" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc lz jj jk jl bi translated">注销并使用<strong class="ih hj"> ssh </strong>重新连接到实例，以使更改生效。尝试在获取<em class="ly">权限被拒绝</em>错误信息时重启系统。</li><li id="885c" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc lz jj jk jl bi translated">您可以通过执行<strong class="ih hj"> docker info </strong>来检查<a class="ae jr" rel="noopener" href="/javarevisited/10-free-courses-to-learn-docker-and-devops-for-frontend-developers-691ac7652cee"> docker </a>是否在系统中运行</li></ul><figure class="jt ju jv jw fd jx er es paragraph-image"><a href="https://www.java67.com/2018/02/5-free-docker-courses-for-java-and-DevOps-engineers.html"><div class="er es mh"><img src="../Images/251ad9ae284364b147f1c2d4ec5de93c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rZtClnkfVjX0BCc2oIBr9A.png"/></div></a></figure><h2 id="d5f6" class="lh kg hi bd ke li lj lk kk ll lm ln ko iq lo lp ks iu lq lr kw iy ls lt la lu bi translated">Jenkins安装和设置:</h2><p id="60ea" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq lv is it iu lw iw ix iy lx ja jb jc hb bi translated">1.<strong class="ih hj">安装詹金斯:</strong>詹金斯战争文件可以从官方网站<a class="ae jr" href="https://www.jenkins.io/download/" rel="noopener ugc nofollow" target="_blank">https://www.jenkins.io/download/</a>下载。在使用单独的Jenkins服务器的情况下，可以使用Tomcat部署war文件。对于本地部署，可以使用命令启动它:<strong class="ih hj"> java -jar jenkins.war </strong></p><p id="4af5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Jenkins将在端口8080启动，并使用URL<a class="ae jr" href="http://localhost:8080/" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">http://localhost:8080/</strong></a>进行访问。它将提示您使用创建一个新的管理员凭据，然后安装建议的插件。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><a href="https://javarevisited.blogspot.com/2018/09/top-5-jenkins-courses-for-java-and-DevOps-Programmers.html"><div class="er es mh"><img src="../Images/d3abbfd553208ac520e19ffd3f11b0cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H3t7c05ynFJDBynU_PEuTA.png"/></div></a></figure><p id="4e5d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.<strong class="ih hj">安装ssh插件并设置远程服务器的凭证:</strong>安装ssh插件的路径:<strong class="ih hj">仪表板&gt; &gt;管理Jenkins &gt; &gt;管理插件&gt; &gt; SSH ( </strong>在搜索栏中查找可用插件<strong class="ih hj"> ) </strong></p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mh"><img src="../Images/d9be9cdceff6af32287037567a1995eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jMM3pI54AFnFRlfzKHcmIQ.png"/></div></div></figure><p id="3131" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">安装<strong class="ih hj">通过SSH发布</strong>(【https://plugins.jenkins.io/publish-over-ssh/】T2)。这可用于在远程服务器上执行脚本。</p><p id="4719" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，可以在路径<strong class="ih hj">仪表板&gt; &gt;管理詹金斯&gt; &gt;配置系统&gt; &gt;通过SSH发布</strong>配置访问服务器的密钥</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mh"><img src="../Images/dbe46aa9e73d7c3c6f40ce61e865ec16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lk3UWZqgcqvaMONHiIXjhg.png"/></div></div></figure><p id="a038" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">添加密码、密钥/密钥路径、主机名、用户名和远程目录。</p><h2 id="d46a" class="lh kg hi bd ke li lj lk kk ll lm ln ko iq lo lp ks iu lq lr kw iy ls lt la lu bi translated">集中式Github Repo</h2><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mi"><img src="../Images/9a01e63cfbf2001f7ebc772717a58f48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PJeK8aUqHhQDClCfqvfaVQ.png"/></div></div></figure><p id="6c33" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里使用的项目存储在GitHub repo @<a class="ae jr" href="https://github.com/Vicky-cmd/Springboot-V1" rel="noopener ugc nofollow" target="_blank">https://github.com/Vicky-cmd/Springboot-V1</a>中。</p></div><div class="ab cl mj mk gp ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="hb hc hd he hf"><h1 id="9ebf" class="kf kg hi bd ke kh mq kj kk kl mr kn ko kp ms kr ks kt mt kv kw kx mu kz la lb bi translated">詹金斯·CICD工作</h1><ol class=""><li id="839b" class="jd je hi ih b ii lc im ld iq le iu lf iy lg jc ji jj jk jl bi translated">创建新的Jenkins自由式项目</li></ol><p id="08f0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">名称</strong> : <a class="ae jr" href="http://localhost:8080/job/SpringbootV1/" rel="noopener ugc nofollow" target="_blank">跳靴V1 </a></p><p id="e52b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">项目类型</strong>:自由式项目</p><p id="575b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在项目配置中，给出的Git URL以及身份验证，如果在源代码管理选项下的话。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mh"><img src="../Images/94b0c84e1c6c3750945218b625b3b1dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LkYUDi4xEbR4tJOrW8LH2g.png"/></div></div></figure><p id="ac3e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，构建过程分为三个阶段，配置在<em class="ly">构建</em>部分。它们是:</p><ol class=""><li id="435d" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated">首先，选择<strong class="ih hj">调用顶级Maven目标</strong>选项。将<strong class="ih hj"><em class="ly"><br/></em></strong>和<strong class="ih hj"> <em class="ly">安装</em> </strong>目标作为输入给出。</li></ol><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mv"><img src="../Images/327b1f18bbf4e6d15113f39c6144ce6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XI3ojUK3SFOe7QASEcQd3w.png"/></div></div></figure><p id="2789" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将从存储库中清除克隆的项目，然后创建war文件。执行的命令:<a class="ae jr" href="https://javarevisited.blogspot.com/2017/06/10-maven-tips-java-developer-should-know.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> mvn清理</strong></a><strong class="ih hj">&amp;&amp;</strong><a class="ae jr" href="https://javarevisited.blogspot.com/2016/10/difference-between-mvn-install-release-and-deploy-in-Maven.html" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">mvn安装</strong> </a></p><p id="d3fc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.接下来，选择<strong class="ih hj">执行窗口批处理命令</strong>选项。这用于执行批处理文件，该文件将:</p><ul class=""><li id="a79a" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc lz jj jk jl bi translated">获取当前提交id并将其存储在<strong class="ih hj"> version.txt </strong>中。</li><li id="ee07" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc lz jj jk jl bi translated">将构建(war)文件复制到一个公共文件夹中。</li><li id="7dd8" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc lz jj jk jl bi translated">然后使用<strong class="ih hj"> scp </strong>命令将war文件和version.txt文件移动到远程服务器。</li></ul><p id="9b14" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用的批处理文件是:</p><figure class="jt ju jv jw fd jx"><div class="bz dy l di"><div class="mw mx l"/></div></figure><p id="ad33" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3接下来，选择<strong class="ih hj">通过ssh发送文件或执行命令</strong>选项，通过SSH在远程服务器上执行脚本。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es my"><img src="../Images/6273a0ee7e9414890232f815dc474fa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_oL6jMt1376QW12dAhyCUg.png"/></div></div></figure><p id="b774" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该脚本用于:</p><ul class=""><li id="8710" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc lz jj jk jl bi translated">使用version.txt和当前日期时间中的提交id创建一个备份文件夹，并将war文件的副本移动到该文件夹中。</li><li id="66aa" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc lz jj jk jl bi translated">将war文件从临时位置复制到带有Dockerfile文件的构建位置</li><li id="80b9" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc lz jj jk jl bi translated">执行<strong class="ih hj"> Docker Build </strong>命令，为项目创建一个名为<strong class="ih hj"> infotrends </strong>的新图像。</li><li id="f3e8" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc lz jj jk jl bi translated">使用<strong class="ih hj"> docker容器stop </strong>和<strong class="ih hj"> docker容器rm </strong>命令停止并删除当前运行的项目实例。</li><li id="0829" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc lz jj jk jl bi translated">该映像被部署到一个同名的新docker容器中。</li></ul><figure class="jt ju jv jw fd jx"><div class="bz dy l di"><div class="mw mx l"/></div></figure><p id="40d4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用于创建docker映像的docker文件是:</p><pre class="jt ju jv jw fd mz na nb nc aw nd bi"><span id="f50d" class="lh kg hi na b fi ne nf l ng nh">FROM adoptopenjdk/openjdk11:jre-11.0.6_10-alpine    </span><span id="cc3f" class="lh kg hi na b fi ni nf l ng nh">EXPOSE 8080:8081 <br/>RUN addgroup -S spring &amp;&amp; adduser -S spring -G spring <br/>USER spring:spring  </span><span id="fe50" class="lh kg hi na b fi ni nf l ng nh">COPY SpringbootV1-0.0.1-SNAPSHOT.war SpringbootV1-0.0.1-SNAPSHOT.war ENTRYPOINT ["java","-jar","/SpringbootV1-0.0.1-SNAPSHOT.war"]</span></pre><p id="15f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> docker ps </strong>命令可用于检查应用程序状态。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es nj"><img src="../Images/bd4e9fdc983eb8b6bc4f31ac718869e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FTMmXoLzrZ28jQ4uMj-8JA.png"/></div></div></figure><p id="6dba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Docker端口8081映射到服务器的8080端口。因此，我们将能够使用这个端口为请求提供服务——我们已经在EC2的安全规则的入站规则中打开了这个端口。</p><p id="5ccb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">服务器现在将把来自这个端口的请求转发给docker实例内部运行的应用程序。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mh"><img src="../Images/b9e3b857ae9b4500ecbe258bd1b10369.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AeGdzGYEMFb8mIqhtUxpEw.png"/></div></div></figure></div></div>    
</body>
</html>