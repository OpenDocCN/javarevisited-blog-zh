<html>
<head>
<title>Singleton Design Pattern for Beginners</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">适用于初学者的单例设计模式</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/singleton-design-pattern-for-beginners-3ababda0fe8c?source=collection_archive---------3-----------------------#2021-01-13">https://medium.com/javarevisited/singleton-design-pattern-for-beginners-3ababda0fe8c?source=collection_archive---------3-----------------------#2021-01-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/7b1c300dd2e6a3c858cf838141601302.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zsQwe3VA4Qc0qt-TOOlSIw.jpeg"/></div></div><p class="iq ir et er es is it bd b be z dx translated">照片由<a class="ae iu" href="https://unsplash.com/@dkosta4?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">迪帕克·科斯塔</a>在<a class="ae iu" href="https://unsplash.com/s/photos/architecture-indian?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="5125" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Singleton是Java中创造性的设计模式之一。创造性设计模式是那些用于创建对象的模式。</p><p id="85dc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在单例设计模式的帮助下，我们可以将对象创建限制在一个实例中。一旦对象被实例化，同一个对象将在整个应用程序中被重用。</p><p id="827e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">单体设计模式也是<a class="ae iu" rel="noopener" href="/javarevisited/21-spring-mvc-rest-interview-questions-answers-for-beginners-and-experienced-developers-21ad3d4c9b82">访谈</a>的热门话题之一。从初学者到有经验的人，你应该会发现关于这种设计模式的问题。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="6ad2" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">履行</h1><p id="1231" class="pw-post-body-paragraph iv iw hi ix b iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo lc jq jr js hb bi translated">让我们看看<a class="ae iu" href="https://www.java67.com/2020/05/5-ways-to-implement-singleton-design.html" rel="noopener ugc nofollow" target="_blank">单例设计模式</a>是如何实现的。为了实现Singleton，我们需要将类的构造函数设为私有，对象实例从静态<code class="du ld le lf lg b">getInstance()</code>方法返回。</p><p id="bd35" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">基本上有三种方法来实现单例设计模式。</p><h2 id="fcd0" class="lh kb hi bd kc li lj lk kg ll lm ln kk jg lo lp ko jk lq lr ks jo ls lt kw lu bi translated">急切实例化:</h2><p id="bea4" class="pw-post-body-paragraph iv iw hi ix b iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo lc jq jr js hb bi translated">这里，对象是在声明的瞬间创建的。由于这种方法，内存被不必要地消耗了。从应用程序执行开始，内存就一直被占用，即使<a class="ae iu" href="https://javarevisited.blogspot.com/2011/03/10-interview-questions-on-singleton.html" rel="noopener ugc nofollow" target="_blank">单例对象</a>在后面的部分被使用。这基本上是一种耗费内存的方法，可能会导致<a class="ae iu" rel="noopener" href="/javarevisited/7-best-courses-to-learn-jvm-garbage-collection-and-performance-tuning-for-experienced-java-331705180686">性能</a>下降。</p><pre class="lv lw lx ly fd lz lg ma mb aw mc bi"><span id="330a" class="lh kb hi lg b fi md me l mf mg">public class SingletonEagerInstantiationExample {<br/>    private static final SingletonEagerInstantiationExample <em class="mh">instance </em>= new SingletonEagerInstantiationExample();<br/><br/>    private SingletonEagerInstantiationExample() {<br/>    }<br/><br/>    public SingletonEagerInstantiationExample getInstance() {<br/>        return <em class="mh">instance</em>;<br/>    }<br/>}</span></pre><h2 id="089c" class="lh kb hi bd kc li lj lk kg ll lm ln kk jg lo lp ko jk lq lr ks jo ls lt kw lu bi translated">惰性实例化:</h2><p id="13b5" class="pw-post-body-paragraph iv iw hi ix b iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo lc jq jr js hb bi translated">顾名思义，只有在调用<code class="du ld le lf lg b"> getInstance() </code>方法时，对象才会被实例化。这是内存高效的方法。它确保只有在需要执行时才使用内存。</p><pre class="lv lw lx ly fd lz lg ma mb aw mc bi"><span id="d37e" class="lh kb hi lg b fi md me l mf mg">public class SingletonLazyInstantiationExample {<br/>    private static SingletonLazyInstantiationExample <em class="mh">instance </em>= null;<br/><br/>    private SingletonLazyInstantiationExample() {}<br/><br/>    private static SingletonLazyInstantiationExample getInstance() {<br/>        if (<em class="mh">instance </em>== null) {<br/>            <em class="mh">instance </em>= new SingletonLazyInstantiationExample();<br/>        }<br/>        return <em class="mh">instance</em>;<br/>    }<br/>}</span></pre><p id="66af" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当涉及到<a class="ae iu" href="https://www.java67.com/2015/09/thread-safe-singleton-in-java-using-double-checked-locking-pattern.html" rel="noopener ugc nofollow" target="_blank">线程安全</a>时，上面的惰性实例化效率不高。多线程可以创建多个对象，这可能会否定使用单例方法的想法。因此，为了线程安全，又多了一种Singleton方法。</p><pre class="lv lw lx ly fd lz lg ma mb aw mc bi"><span id="5901" class="lh kb hi lg b fi md me l mf mg">public class ThreadSafeSingleton {<br/>    private static volatile ThreadSafeSingleton <em class="mh">threadSafeSingleton</em>;<br/><br/>    private ThreadSafeSingleton() {}<br/><br/>    synchronized public static ThreadSafeSingleton getInstance() {<br/>        if (<em class="mh">threadSafeSingleton </em>== null) {<br/>            <em class="mh">threadSafeSingleton </em>= new ThreadSafeSingleton();<br/>        }<br/>        return <em class="mh">threadSafeSingleton</em>;<br/>    }<br/>}</span></pre><p id="052e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里使用关键字<a class="ae iu" href="https://javarevisited.blogspot.com/2011/06/volatile-keyword-java-example-tutorial.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj"> <em class="mh"> volatile </em> </strong> </a>是为了以防万一，如果任何线程对对象进行了任何更改，该更改会在所有线程中得到反映。</p><p id="8fa3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">就这样，伙计们！！</p></div></div>    
</body>
</html>