<html>
<head>
<title>Spring Boot Application as a Windows Service</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">作为Windows服务的Spring Boot应用程序</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/spring-boot-application-as-a-windows-service-4c775556518e?source=collection_archive---------1-----------------------#2020-01-01">https://medium.com/javarevisited/spring-boot-application-as-a-windows-service-4c775556518e?source=collection_archive---------1-----------------------#2020-01-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="e9f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇文章中，我将与你分享如何运行Spring Boot应用程序作为一个Windows服务。</p><p id="98fa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些情况对于Spring Boot应用程序来说非常罕见，但是你可以像这样面对。要做到这一点，你应该仔细阅读我写的东西；).</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/a0a35466e40bd8da9f7c3c2063bce908.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ivTyXqjqxyOLuCkw"/></div></div><p class="jp jq et er es jr js bd b be z dx translated">卡斯帕·卡米尔·鲁宾在<a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="1a51" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要将您的应用程序作为Windows服务运行，您应该执行几个步骤。</p><h1 id="e074" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">Maven配置</h1><p id="b8ab" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">您可以将应用程序打包成JAR或WAR。这是由<strong class="ih hj"> <em class="kx"> pom.xml </em> </strong>文件配置的，如下图。对于这个主题，我们继续讨论JAR打包。</p><pre class="je jf jg jh fd ky kz la lb aw lc bi"><span id="c342" class="ld jv hi kz b fi le lf l lg lh">&lt;packaging&gt;jar&lt;/packaging&gt;</span></pre><p id="aaa4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后你应该添加<strong class="ih hj"><em class="kx">spring-boot-maven-plugin</em></strong>工件到你的<strong class="ih hj"> <em class="kx"> pom.xml </em> </strong>。</p><pre class="je jf jg jh fd ky kz la lb aw lc bi"><span id="a857" class="ld jv hi kz b fi le lf l lg lh">&lt;build&gt;<br/>    &lt;plugins&gt;<br/>        &lt;plugin&gt;<br/>            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br/>            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;<br/>            &lt;configuration&gt;<br/>                &lt;executable&gt;true&lt;/executable&gt;<br/>            &lt;/configuration&gt;<br/>        &lt;/plugin&gt;<br/>    &lt;/plugins&gt;<br/>&lt;/build&gt;</span></pre><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="li lj l"/></div><p class="jp jq et er es jr js bd b be z dx translated">pom.xml</p></figure><p id="731d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如上所示，<code class="du lk ll lm kz b">&lt;executable&gt;</code>参数为真。<strong class="ih hj"> <em class="kx">昭然若揭。MF </em> </strong>文件用此参数添加到JAR包中。这个清单包含一个<em class="kx"> Main-Class </em>条目，指定哪个类定义了应用程序的Main方法。如果你不了解Maven，想了解一下，也可以看看这些<a class="ae jt" href="https://dev.to/javinpaul/10-free-devops-courses-to-learn-jenkins-docker-and-maven-for-programmers-ohp" rel="noopener ugc nofollow" target="_blank"> Maven课程</a></p><div class="ln lo ez fb lp lq"><a href="https://javarevisited.blogspot.com/2019/03/top-5-course-to-learn-apache-maven-for.html" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab dw"><div class="ls ab lt cl cj lu"><h2 class="bd hj fi z dy lv ea eb lw ed ef hh bi translated">Java开发人员学习Apache Maven的前5门课程——最好的</h2><div class="lx l"><h3 class="bd b fi z dy lv ea eb lw ed ef dx translated">Apache Maven或通常称为“Maven”，是Java程序员的一个基本工具。它允许您构建…</h3></div><div class="ly l"><p class="bd b fp z dy lv ea eb lw ed ef dx translated">javarevisited.blogspot.com</p></div></div><div class="lz l"><div class="ma l mb mc md lz me jn lq"/></div></div></a></div><p id="4699" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">完成这些配置后，您应该编写下面的命令来将您的应用程序打包成JAR。</p><pre class="je jf jg jh fd ky kz la lb aw lc bi"><span id="9be6" class="ld jv hi kz b fi le lf l lg lh">$ mvn clean package</span></pre><p id="f755" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，您可以用下面的命令测试您的应用程序的JAR包。</p><pre class="je jf jg jh fd ky kz la lb aw lc bi"><span id="b93c" class="ld jv hi kz b fi le lf l lg lh">$ java -jar yourApp.jar</span></pre><h1 id="9542" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">Windows服务包装程序(WinSW)</h1><p id="4640" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">为了将Java应用程序作为Windows服务运行，我们需要一个名为Windows服务包装器(WinSW)的工具。你可以从这个<a class="ae jt" href="https://github.com/kohsuke/winsw/releases/tag/winsw-v2.1.2" rel="noopener ugc nofollow" target="_blank">链接</a>下载这个工具。也<strong class="ih hj">。对于WinSW，您的计算机中必须安装. Net Framework 4 </strong>。</p><p id="fa95" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下载WinSW后，必须按照以下步骤操作。</p><ul class=""><li id="75c8" class="mf mg hi ih b ii ij im in iq mh iu mi iy mj jc mk ml mm mn bi translated">将JAR文件、WinSW可执行文件和配置文件放在同一个文件夹中。</li><li id="10b9" class="mf mg hi ih b ii mo im mp iq mq iu mr iy ms jc mk ml mm mn bi translated">WinSW-xxx.xml文件需要正确配置，如下所示。</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mt"><img src="../Images/c7a28e98b5ce4207adc9e39f3299db8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/format:webp/1*h-Ap_vsTZk0HPNhuBg8DEg.png"/></div><p class="jp jq et er es jr js bd b be z dx translated">WinSW目录</p></figure><ul class=""><li id="e1ec" class="mf mg hi ih b ii ij im in iq mh iu mi iy mj jc mk ml mm mn bi translated">最后两个标签可以保持不变。出于我们的目的，我们只想执行java -jar。/XXX.jar。</li></ul><pre class="je jf jg jh fd ky kz la lb aw lc bi"><span id="9a62" class="ld jv hi kz b fi le lf l lg lh">&lt;configuration&gt;<br/>&lt;!-- ID of the service. It should be unique accross the Windows system--&gt;<br/>&lt;id&gt;RC-XXX-SERVICE&lt;/id&gt;<br/>&lt;!-- Display name of the service --&gt;<br/>&lt;name&gt;My Spring Boot App&lt;/name&gt;<br/>&lt;!-- Service description --&gt;<br/>&lt;description&gt;Spring Boot Service&lt;/description&gt;<br/><br/>&lt;!-- we need to execute java -jar ./XXX.jar --&gt;<br/>&lt;executable&gt;java&lt;/executable&gt;<br/>&lt;arguments&gt;-jar "%BASE%\YOUR-APP.jar&lt;/arguments&gt;<br/>&lt;/configuration&gt;</span></pre><h1 id="13ad" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">将Spring Boot应用程序作为Windows服务安装</h1><ul class=""><li id="8fc8" class="mf mg hi ih b ii ks im kt iq mu iu mv iy mw jc mk ml mm mn bi translated">配置XML文件后，您必须以管理员身份打开Windows CLI。您连续运行以下两个命令。</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mx"><img src="../Images/a07f7bf94fe6fbe959427aedf657f1b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a_HuBBFBGqlQu76o7X1XXA.png"/></div></div><p class="jp jq et er es jr js bd b be z dx translated">作为Windows服务安装的应用程序</p></figure><pre class="je jf jg jh fd ky kz la lb aw lc bi"><span id="958f" class="ld jv hi kz b fi le lf l lg lh">$ winsw-2.2.0-net4.exe install<br/>$ net start RC-XXX-SERVICE</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es my"><img src="../Images/14cfa446b58d17911b011a5ad4b4829d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B1-BKqA1QPvi-DFdTyj6NA.png"/></div></div><p class="jp jq et er es jr js bd b be z dx translated">作为Windows服务的Spring Boot应用</p></figure><ul class=""><li id="b832" class="mf mg hi ih b ii ij im in iq mh iu mi iy mj jc mk ml mm mn bi translated">我们用第一个命令安装应用程序。第二个命令启动应用程序。此外，您可以从Windows服务启动该应用程序。</li></ul></div><div class="ab cl mz na gp nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="hb hc hd he hf"><h1 id="dce6" class="ju jv hi bd jw jx ng jz ka kb nh kd ke kf ni kh ki kj nj kl km kn nk kp kq kr bi translated">感谢您的阅读！🙏你的想法对我很有价值。请随意分享。😄</h1></div><div class="ab cl mz na gp nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="hb hc hd he hf"><p id="7251" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可能喜欢的其他<strong class="ih hj"> Java和Spring文章</strong></p><ul class=""><li id="fda5" class="mf mg hi ih b ii ij im in iq mh iu mi iy mj jc mk ml mm mn bi translated">每个Java开发者都应该知道的5个Spring Boot特性(<a class="ae jt" href="https://javarevisited.blogspot.com/2018/11/top-5-spring-boot-features-java.html#axzz5YFjHrt5j" rel="noopener ugc nofollow" target="_blank">特性</a>)</li><li id="2e24" class="mf mg hi ih b ii mo im mp iq mq iu mr iy ms jc mk ml mm mn bi translated">学习春天和Spring Boot的五大免费课程(<a class="ae jt" href="http://www.java67.com/2017/11/top-5-free-core-spring-mvc-courses-learn-online.html" rel="noopener ugc nofollow" target="_blank">课程</a>)</li><li id="e11f" class="mf mg hi ih b ii mo im mp iq mq iu mr iy ms jc mk ml mm mn bi translated">掌握Spring Boot在线课程(<a class="ae jt" href="https://javarevisited.blogspot.com/2018/05/top-5-courses-to-learn-spring-boot-in.html" rel="noopener ugc nofollow" target="_blank">课程</a>)</li><li id="f770" class="mf mg hi ih b ii mo im mp iq mq iu mr iy ms jc mk ml mm mn bi translated">Java开发人员应该学习的10件事(<a class="ae jt" href="https://javarevisited.blogspot.com/2017/12/10-things-java-programmers-should-learn.html#axzz5atl0BngO" rel="noopener ugc nofollow" target="_blank">目标</a>)</li><li id="439b" class="mf mg hi ih b ii mo im mp iq mq iu mr iy ms jc mk ml mm mn bi translated">Java开发人员在日常生活中使用的10个工具(<a class="ae jt" href="http://javarevisited.blogspot.sg/2017/03/10-tools-used-by-java-programming-Developers.html#axzz55lrMRnNC" rel="noopener ugc nofollow" target="_blank">工具</a>)</li><li id="e954" class="mf mg hi ih b ii mo im mp iq mq iu mr iy ms jc mk ml mm mn bi translated">成为更好的Java开发人员的10个技巧</li><li id="5380" class="mf mg hi ih b ii mo im mp iq mq iu mr iy ms jc mk ml mm mn bi translated">学习Java微服务的Top 5课程？(<a class="ae jt" rel="noopener" href="/javarevisited/top-5-courses-to-learn-microservices-in-java-and-spring-framework-e9fed1ba804d">课程</a>)</li><li id="a34d" class="mf mg hi ih b ii mo im mp iq mq iu mr iy ms jc mk ml mm mn bi translated">Java程序员可以从Spring学习的3个最佳实践(<a class="ae jt" href="https://javarevisited.blogspot.com/2018/06/3-best-practices-java-programmers-can-learn-from-spring-framework.html#axzz5K0PIOpHD" rel="noopener ugc nofollow" target="_blank">最佳实践</a>)</li><li id="5ac4" class="mf mg hi ih b ii mo im mp iq mq iu mr iy ms jc mk ml mm mn bi translated">学习Spring Boot和春云的5门课程(<a class="ae jt" href="https://javarevisited.blogspot.com/2018/07/top-5-books-to-learn-spring-boot-and-spring-cloud-java.html" rel="noopener ugc nofollow" target="_blank">门课程</a>)</li><li id="780a" class="mf mg hi ih b ii mo im mp iq mq iu mr iy ms jc mk ml mm mn bi translated">改变Spring Boot Tomcat端口的3种方法(<a class="ae jt" href="https://www.java67.com/2019/07/spring-boot-3-ways-to-change-port-of-tomcat.html" rel="noopener ugc nofollow" target="_blank">教程</a>)</li><li id="968c" class="mf mg hi ih b ii mo im mp iq mq iu mr iy ms jc mk ml mm mn bi translated">Java程序员的10门高级Spring Boot课程(<a class="ae jt" rel="noopener" href="/javarevisited/10-advanced-spring-boot-courses-for-experienced-java-developers-5e57606816bd">课程</a>)</li><li id="c632" class="mf mg hi ih b ii mo im mp iq mq iu mr iy ms jc mk ml mm mn bi translated">Java开发者应该学习的10个Spring MVC注解(<a class="ae jt" href="https://www.java67.com/2019/04/top-10-spring-mvc-and-rest-annotations-examples-java.html" rel="noopener ugc nofollow" target="_blank">注解</a>)</li><li id="dcd8" class="mf mg hi ih b ii mo im mp iq mq iu mr iy ms jc mk ml mm mn bi translated">15 Spring Boot Java程序员面试问题(<a class="ae jt" href="https://www.java67.com/2018/06/top-15-spring-boot-interview-questions-answers-java-jee-programmers.html" rel="noopener ugc nofollow" target="_blank">问题</a>)</li></ul><p id="4237" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢您阅读本文。如果你觉得这篇文章有用，那么请与你的朋友和同事分享。如果您有任何问题或反馈，请留言。</p></div></div>    
</body>
</html>