<html>
<head>
<title>Linear programming in Java</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Java中的线性编程</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/linear-programming-in-java-ab2289c72df9?source=collection_archive---------1-----------------------#2021-04-26">https://medium.com/javarevisited/linear-programming-in-java-ab2289c72df9?source=collection_archive---------1-----------------------#2021-04-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="eaff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">网上有很多学习资料，也有很多博客描述什么是线性编程以及线性编程的应用。我在这里尝试的是用“ojalgo”JAVA库来解释或讨论JAVA中的线性编程。</p><h1 id="ec9d" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">下面讨论的主题是:</h1><ol class=""><li id="f148" class="kb kc hi ih b ii kd im ke iq kf iu kg iy kh jc ki kj kk kl bi translated">线性规划的简要基础</li><li id="3970" class="kb kc hi ih b ii km im kn iq ko iu kp iy kq jc ki kj kk kl bi translated">问题描述示例</li><li id="0b43" class="kb kc hi ih b ii km im kn iq ko iu kp iy kq jc ki kj kk kl bi translated">java编程解决方案</li><li id="2d9d" class="kb kc hi ih b ii km im kn iq ko iu kp iy kq jc ki kj kk kl bi translated">估价</li><li id="5b44" class="kb kc hi ih b ii km im kn iq ko iu kp iy kq jc ki kj kk kl bi translated">摘要</li></ol><h1 id="f02a" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">线性规划的简要基础</h1><p id="e94a" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">线性规划是一种基本技术，我们使用线性函数来表示复杂的关系，以找到最佳点。详情见<a class="ae ku" href="https://www.analyticsvidhya.com/blog/2017/02/lintroductory-guide-on-linear-programming-explained-in-simple-english/" rel="noopener ugc nofollow" target="_blank">链接</a>。</p><p id="a2b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">线性规划中常用的术语有:</p><ol class=""><li id="522a" class="kb kc hi ih b ii ij im in iq kv iu kw iy kx jc ki kj kk kl bi translated">决定变量:决定产出的实际变量。</li><li id="8d6c" class="kb kc hi ih b ii km im kn iq ko iu kp iy kq jc ki kj kk kl bi translated">目标函数:做出决策的函数。</li><li id="4807" class="kb kc hi ih b ii km im kn iq ko iu kp iy kq jc ki kj kk kl bi translated">约束:讨论变量的限制。</li><li id="f2fb" class="kb kc hi ih b ii km im kn iq ko iu kp iy kq jc ki kj kk kl bi translated">非负限制:线性函数应该有非负值。</li></ol><h1 id="c6e4" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">问题描述示例</h1><p id="9662" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">让我们看一个例子，这个例子取自<a class="ae ku" href="https://www.analyticsvidhya.com/blog/2017/02/lintroductory-guide-on-linear-programming-explained-in-simple-english/" rel="noopener ugc nofollow" target="_blank">链接</a>。一个农民有110公顷土地。在那块土地上，他决定种植小麦和大麦。给定价格、净收入和劳动力需求，如下表所示。他想知道如何在100公顷的土地上种植每个品种，他也有10，000美元和1200人工日的可用性。他想知道最优解和最优值。</p><figure class="kz la lb lc fd ld er es paragraph-image"><div class="er es ky"><img src="../Images/8548851033765adbb29a25a3764f25f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1270/format:webp/1*uclP4-itzCxrHp40V9oX_w.png"/></div></figure><p id="a309" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用数学(线性)形式表示它</p><p id="be50" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">决策变量:</strong></p><ol class=""><li id="355e" class="kb kc hi ih b ii ij im in iq kv iu kw iy kx jc ki kj kk kl bi translated">让种植小麦的总面积= <em class="lg"> X公顷</em></li><li id="8c3e" class="kb kc hi ih b ii km im kn iq ko iu kp iy kq jc ki kj kk kl bi translated">让种植大麦的总面积= Y公顷</li></ol><p id="ee2b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">目标函数</strong></p><p id="78b1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">农民每公顷小麦净赚50美元，每公顷大麦净赚120美元。农民的目标将是最大化他的全部作物的利润。</p><p id="ef6c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，目标函数为<em class="lg"> Max Z = 50X + 120Y </em></p><p id="f0f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">约束</strong></p><ol class=""><li id="cc55" class="kb kc hi ih b ii ij im in iq kv iu kw iy kx jc ki kj kk kl bi translated">农民的总体预算是10，000美元，因为我们从表中知道每公顷种植小麦和大麦的成本。我们必须限制开支。</li></ol><p id="dacb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可以表示为，<em class="lg">100 x+200y≤10000</em></p><p id="b053" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2 </strong>。总共有1200个人工日。表中给出了小麦和大麦每公顷的人工日。</p><p id="fd3d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可以表示为，<em class="lg"> 10X + 20Y ≤ 1200 </em></p><p id="32d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 3 </strong>。可供使用的土地总面积为110公顷。</p><p id="0344" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以下面是等式:<em class="lg"> X + Y ≤ 110 </em></p><p id="e5ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 4 </strong>。非负约束是，X≥ 0，Y ≥0</p><h1 id="d354" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">java编程解决方案</h1><p id="7429" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">虽然有很多java库可以用java解决线性编程问题，但我只是展示了一个使用“<a class="ae ku" href="http://ojalgo.org/" rel="noopener ugc nofollow" target="_blank"> Ojalgo </a>”库的例子。你可以免费查看下面显示的其他库。</p><ul class=""><li id="7547" class="kb kc hi ih b ii ij im in iq kv iu kw iy kx jc lh kj kk kl bi translated">【http://scpsolver.org/ T2】号</li><li id="a30d" class="kb kc hi ih b ii km im kn iq ko iu kp iy kq jc lh kj kk kl bi translated">【http://javailp.sourceforge.net/ T4】</li><li id="f4f9" class="kb kc hi ih b ii km im kn iq ko iu kp iy kq jc lh kj kk kl bi translated"><a class="ae ku" href="http://www.joptimizer.com/linearProgramming.html" rel="noopener ugc nofollow" target="_blank">http://www.joptimizer.com/linearProgramming.html</a></li><li id="fc29" class="kb kc hi ih b ii km im kn iq ko iu kp iy kq jc lh kj kk kl bi translated"><a class="ae ku" href="http://www.win-vector.com/blog/2012/11/yet-another-java-linear-programming-library/" rel="noopener ugc nofollow" target="_blank">http://www . win-vector . com/blog/2012/11/yet-another-Java-linear-programming-library/</a></li><li id="fb1d" class="kb kc hi ih b ii km im kn iq ko iu kp iy kq jc lh kj kk kl bi translated"><a class="ae ku" href="http://commons.apache.org/math/userguide/optimization.html" rel="noopener ugc nofollow" target="_blank">http://commons.apache.org/math/userguide/optimization.html</a></li><li id="cc0d" class="kb kc hi ih b ii km im kn iq ko iu kp iy kq jc lh kj kk kl bi translated"><a class="ae ku" href="http://ojalgo.org/" rel="noopener ugc nofollow" target="_blank">http://ojalgo.org/</a></li></ul><p id="a7f8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">“ojalgo”库需要一个“ExpressionBasedModel”对象来定义变量和约束。</p><pre class="kz la lb lc fd li lj lk ll aw lm bi"><span id="16c3" class="ln je hi lj b fi lo lp l lq lr">ExpressionsBasedModel model = new ExpressionsBasedModel();</span></pre><ol class=""><li id="c518" class="kb kc hi ih b ii ij im in iq kv iu kw iy kx jc ki kj kk kl bi translated">定义变量</li></ol><pre class="kz la lb lc fd li lj lk ll aw lm bi"><span id="7238" class="ln je hi lj b fi lo lp l lq lr">//<em class="lg">Max Z = 50X + 120Y</em><br/>Variable X = model.addVariable("Area for Wheat").weight(50);<br/>Variable Y = model.addVariable("Area for barley").weight(120);</span></pre><p id="6a50" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.限制</p><pre class="kz la lb lc fd li lj lk ll aw lm bi"><span id="3c2e" class="ln je hi lj b fi lo lp l lq lr">//<em class="lg">100X + 200Y ≤ 10000</em><br/>Expression cost = model.addExpression("Cost")//<br/>.upper(10000)//<br/>.lower(0);<br/>cost.set(X, 100).set(Y, 200);</span><span id="1c6c" class="ln je hi lj b fi ls lp l lq lr"><em class="lg">//10X + 20Y ≤ 1200<br/></em>Expression manDays = model.addExpression("ManDays")//<br/>.upper(1200)//<br/>.lower(0);<br/>manDays.set(X, 10).set(Y, 30);</span><span id="7d39" class="ln je hi lj b fi ls lp l lq lr"><em class="lg">//X + Y ≤ 110</em><br/>Expression totalArea = model.addExpression("TotalArea")//<br/>.upper(110)//<br/>.lower(0);<br/>totalArea.set(X, 1).set(Y, 1);</span></pre><p id="b4b3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.最大化Z</p><p id="bb25" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">关于<a class="ae ku" rel="noopener" href="/javarevisited/20-essential-java-libraries-and-apis-every-programmer-should-learn-5ccd41812fc7">库</a>中使用的解算器类型的详细信息和文档可在<a class="ae ku" href="http://ojalgo.org/" rel="noopener ugc nofollow" target="_blank">链接</a>中找到。</p><pre class="kz la lb lc fd li lj lk ll aw lm bi"><span id="e60b" class="ln je hi lj b fi lo lp l lq lr">Optimisation.Result result = model.maximise();</span><span id="f73d" class="ln je hi lj b fi ls lp l lq lr">OPTIMAL 5399.999999999999 @ { 60.00000000000001, 19.99999999999999 }</span><span id="1e0b" class="ln je hi lj b fi ls lp l lq lr">############################################<br/>Area for Wheat: 60 (50)<br/>Area for barley: 20 (120)<br/>0 &lt;= TotalArea: 80.0 &lt;= 110<br/>0 &lt;= ManDays: 1200.0 &lt;= 1200<br/>0 &lt;= Cost: 10000.0 &lt;= 10000<br/>############################################</span></pre><p id="3d42" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最优值是5399.99几乎等于5400美元；可行的方案是在60公顷土地上种植小麦，在20公顷土地上种植大麦</p><h1 id="e0ba" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">估价</h1><p id="26ea" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">求解线性规划有许多方法，其中一种方法是图解法。在<a class="ae ku" href="https://www.analyticsvidhya.com/blog/2017/02/lintroductory-guide-on-linear-programming-explained-in-simple-english/" rel="noopener ugc nofollow" target="_blank">链接</a>中用图解法解决了上述问题。通过比较图解法和ojalgo java库解法。两种方法的最优值是相似的。</p><h1 id="d980" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">摘要</h1><p id="874b" class="pw-post-body-paragraph if ig hi ih b ii kd ik il im ke io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">正如我之前所说的，我正在试验用于线性编程的“ojalgo”Java库。这也让我更容易学习线性编程。我需要进一步研究优化器和求解器。快乐阅读的家伙:)<a class="ae ku" href="https://github.com/pooran-c/linearProgrammingJava" rel="noopener ugc nofollow" target="_blank"> github链接</a></p></div></div>    
</body>
</html>