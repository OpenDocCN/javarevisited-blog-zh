<html>
<head>
<title>How to Use New Switch Expressions in Java 12</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在 Java 12 中使用新的开关表达式</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/how-to-use-new-switch-expressions-in-java-12-8510ab9f83c3?source=collection_archive---------1-----------------------#2019-09-15">https://medium.com/javarevisited/how-to-use-new-switch-expressions-in-java-12-8510ab9f83c3?source=collection_archive---------1-----------------------#2019-09-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="ce57" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然我之前做过一些 Java 12 的练习，但是现在已经可以写了。在本帖中，我将告诉你<a class="ae jd" href="https://www.oracle.com/technetwork/java/javase/downloads/jdk12-downloads-5295953.html" rel="noopener ugc nofollow" target="_blank"> Java 12 </a>中的一些特别之处。Tataaaaaa:)新增<em class="je">开关表情。</em></p><figure class="jg jh ji jj fd jk er es paragraph-image"><a href="https://medium.com/javarevisited/top-5-courses-to-learn-new-features-of-java-8-to-java-13-107eb51d2a13?source=collection_home---4------4-----------------------"><div class="er es jf"><img src="../Images/7f46bc0420b1dff5c292bf2c2d0dd1a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1234/format:webp/1*eIlD-lAiqKct7xFQ_6iOlg.jpeg"/></div></a><p class="jn jo et er es jp jq bd b be z dx translated">Java 12</p></figure><p id="4d3e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们开始我们的话题，不要再浪费时间了。</p></div><div class="ab cl jr js gp jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="hb hc hd he hf"><h1 id="dfad" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">Java 12 想用 Switch 表达式做什么？</h1><p id="3308" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">在<strong class="ih hj"> JEP </strong> ( <a class="ae jd" href="https://openjdk.java.net/jeps/325" rel="noopener ugc nofollow" target="_blank"> 325 </a>)中列出的目的如下:</p><ul class=""><li id="38c3" class="lb lc hi ih b ii ij im in iq ld iu le iy lf jc lg lh li lj bi translated">扩展开关，使它们可以是语句或表达式。</li><li id="1880" class="lb lc hi ih b ii lk im ll iq lm iu ln iy lo jc lg lh li lj bi translated">允许“传统”或“简化”的范围/控制流行为。</li><li id="f9f6" class="lb lc hi ih b ii lk im ll iq lm iu ln iy lo jc lg lh li lj bi translated">帮助准备例如模式匹配(<strong class="ih hj">JEP</strong>T13】305)。</li></ul><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es lp"><img src="../Images/26f0b090fa8ff807ed8ed5272849cc2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*H3tgCcNJF-EM7X0hjo2EEw.jpeg"/></div><p class="jn jo et er es jp jq bd b be z dx translated">switch 语句流程图</p></figure><h1 id="76ed" class="jy jz hi bd ka kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv bi translated">添加了什么？</h1><ul class=""><li id="2637" class="lb lc hi ih b ii kw im kx iq lv iu lw iy lx jc lg lh li lj bi translated"><code class="du ly lz ma mb b">case L -&gt; expression;</code>的表达式标签</li></ul><p id="57db" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以使用新的开关标签“<code class="du ly lz ma mb b">case L -&gt;</code>”来表示如果标签匹配，则只执行标签右边的代码，而不必区分不同的大小写。您可以用它来编写更清晰、更易读的代码。此外，你不必担心忘记写声明的<code class="du ly lz ma mb b">break</code>。</p><p id="ac9c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个例子是:</p><pre class="jg jh ji jj fd mc mb md me aw mf bi"><span id="806f" class="mg jz hi mb b fi mh mi l mj mk">switch (day) {<br/>    case MONDAY:<br/>    case FRIDAY:<br/>    case SUNDAY:<br/>        System.out.println(6);<br/>        break;<br/>    case TUESDAY:<br/>        System.out.println(7);<br/>        break;<br/>    case THURSDAY:<br/>    case SATURDAY:<br/>        System.out.println(8);<br/>        break;<br/>    case WEDNESDAY:<br/>        System.out.println(9);<br/>        break;<br/>}</span></pre><p id="e1e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如上所述，这是一个传统的 switch 语句。它在 Java 12 中变成了新的 switch 表达式，如下所示。</p><pre class="jg jh ji jj fd mc mb md me aw mf bi"><span id="8ee5" class="mg jz hi mb b fi mh mi l mj mk">switch (day) {<br/>    case MONDAY, FRIDAY, SUNDAY -&gt; System.out.println(6);<br/>    case TUESDAY                -&gt; System.out.println(7);<br/>    case THURSDAY, SATURDAY     -&gt; System.out.println(8);<br/>    case WEDNESDAY              -&gt; System.out.println(9);<br/>}</span></pre><p id="c23b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">也可以从 Java 12 中的 switch 语句返回值。</p><pre class="jg jh ji jj fd mc mb md me aw mf bi"><span id="a630" class="mg jz hi mb b fi mh mi l mj mk">int j = switch (day) {<br/>    case MONDAY  -&gt; 0;<br/>    case TUESDAY -&gt; 1;<br/>    default      -&gt; {<br/>        int k = day.toString().length();<br/>        int result = f(k);<br/>        break result;<br/>    }<br/>};</span></pre><p id="ad34" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在 Java 12 发布之前，不能在两种完全不同的情况下使用相同的变量名。</p><pre class="jg jh ji jj fd mc mb md me aw mf bi"><span id="59b8" class="mg jz hi mb b fi mh mi l mj mk">int j = switch (day) {<br/><strong class="mb hj">  </strong>case MONDAY:<br/><strong class="mb hj">    </strong>String temp1 = "first";<br/><strong class="mb hj">    </strong>break temp1.length();<br/><strong class="mb hj">  </strong>case TUESDAY:<br/><strong class="mb hj">    </strong>String temp2 = "second";<br/><strong class="mb hj">    </strong>break temp2.length();<br/><strong class="mb hj">  </strong>default:<br/><strong class="mb hj">    </strong>String defaultTemp = "none";<br/><strong class="mb hj">    </strong>break defaultTemp.length();<br/>}</span></pre><p id="345a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在可以在 case 级别使用作用域，这意味着您可以为不同的 case 使用相同的变量名。</p><pre class="jg jh ji jj fd mc mb md me aw mf bi"><span id="c915" class="mg jz hi mb b fi mh mi l mj mk">int j = switch (day) {<br/><strong class="mb hj">  </strong>case MONDAY:<br/><strong class="mb hj">    </strong>String temp = "first";<br/><strong class="mb hj">    </strong>break temp.length();<br/><strong class="mb hj">  </strong>case TUESDAY:<br/><strong class="mb hj">    </strong>String temp = "second";<br/><strong class="mb hj">    </strong>break temp.length();<br/><strong class="mb hj">  </strong>default:<br/><strong class="mb hj">    </strong>String temp = "none";<br/><strong class="mb hj">    </strong>break temp.length();<br/>}</span></pre></div><div class="ab cl jr js gp jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="hb hc hd he hf"><p id="9810" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>本教程重点介绍 Java 12 中新的 switch 表达式。你可以从<a class="ae jd" href="https://openjdk.java.net/projects/jdk/12/" rel="noopener ugc nofollow" target="_blank">这里</a>阅读 Java 12 的其他变化。此外，代码样本取自此处的<a class="ae jd" href="https://openjdk.java.net/jeps/325" rel="noopener ugc nofollow" target="_blank">和</a>。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es ml"><img src="../Images/d0242144df60d1a871060d4f41beafcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:582/format:webp/1*_CgZcI5scXpql-oIpbl0eg.jpeg"/></div><p class="jn jo et er es jp jq bd b be z dx translated">shutterstock/斯蒂芬石膏</p></figure></div><div class="ab cl jr js gp jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="hb hc hd he hf"><h1 id="82df" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">感谢您的阅读！🙏你的想法对我很有价值。请随意分享。😄</h1></div><div class="ab cl jr js gp jt" role="separator"><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw jx"/><span class="ju bw bk jv jw"/></div><div class="hb hc hd he hf"><p id="73d8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">而且，如果你想了解 JDK 8 和 JDK 13 之间增加的所有新功能，那么看看这个<a class="ae jd" href="https://www.java67.com/2018/02/5-online-courses-to-learn-java-9-better.html" rel="noopener ugc nofollow" target="_blank">课程列表</a>:</p><div class="mm mn ez fb mo mp"><a rel="noopener follow" target="_blank" href="/javarevisited/top-5-courses-to-learn-new-features-of-java-8-to-java-13-107eb51d2a13"><div class="mq ab dw"><div class="mr ab ms cl cj mt"><h2 class="bd hj fi z dy mu ea eb mv ed ef hh bi translated">学习 Java 8 到 Java 13 新特性的前 5 门课程</h2><div class="mw l"><h3 class="bd b fi z dy mu ea eb mv ed ef dx translated">从 Java 8 到 Java 13 引入了许多有用的特性，如 lambda 表达式、流 API、新日期和…</h3></div><div class="mx l"><p class="bd b fp z dy mu ea eb mv ed ef dx translated">medium.com</p></div></div><div class="my l"><div class="mz l na nb nc my nd jl mp"/></div></div></a></div></div></div>    
</body>
</html>