<html>
<head>
<title>Adding some CI to your Github project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">向Github项目添加一些配置项</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/adding-some-ci-to-your-github-project-a10953dacfd7?source=collection_archive---------5-----------------------#2022-01-26">https://medium.com/javarevisited/adding-some-ci-to-your-github-project-a10953dacfd7?source=collection_archive---------5-----------------------#2022-01-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="f539" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">走向持续集成之路</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/1129cf011bac3076fa0b7b503c24d167.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zwQUbRaPUvbnpX9z"/></div></div></figure></div><div class="ab cl jj jk gp jl" role="separator"><span class="jm bw bk jn jo jp"/><span class="jm bw bk jn jo jp"/><span class="jm bw bk jn jo"/></div><div class="hb hc hd he hf"><h1 id="30aa" class="jq jr hi bd js jt ju jv jw jx jy jz ka io kb ip kc ir kd is ke iu kf iv kg kh bi translated">我们将做什么</h1><p id="8870" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq kr ks kt ku kv kw kx ky kz la lb lc ld hb bi translated">在前面的步骤中<a class="ae le" href="https://letutour-e.medium.com/what-can-i-do-with-api-2c0ea1b7ed36" rel="noopener">创建了我们的API之后，我们现在将在Github项目中添加一些持续集成。<br/>这可以用以下工作流程来描述:</a></p><ul class=""><li id="54da" class="lf lg hi kk b kl lh ko li kr lj kv lk kz ll ld lm ln lo lp bi translated"><strong class="kk hj">本地运行测试:</strong> CI旨在与通过<a class="ae le" href="https://en.wikipedia.org/wiki/Test-driven_development" rel="noopener ugc nofollow" target="_blank">测试驱动开发</a>的实践编写的自动化单元测试结合使用。这是通过在提交到主线之前，在开发人员的本地<a class="ae le" href="https://en.wikipedia.org/wiki/Deployment_environment" rel="noopener ugc nofollow" target="_blank">环境</a>中运行并通过所有单元测试来完成的。</li><li id="71bc" class="lf lg hi kk b kl lq ko lr kr ls kv lt kz lu ld lm ln lo lp bi translated"><strong class="kk hj">在CI中编译代码:</strong>构建服务器定期地或者甚至在每次提交之后编译代码，并将结果报告给开发人员。</li><li id="6135" class="lf lg hi kk b kl lq ko lr kr ls kv lt kz lu ld lm ln lo lp bi translated"><strong class="kk hj">在CI中运行测试:</strong>除了自动化的单元测试之外，使用CI的组织通常使用构建服务器来实现<em class="lv">连续的</em>应用<a class="ae le" href="https://en.wikipedia.org/wiki/Quality_control" rel="noopener ugc nofollow" target="_blank">质量控制</a>的过程——小部分工作，经常应用。除了运行单元测试和集成测试之外，这些过程还运行额外的静态分析，测量和分析性能，从源代码中提取和格式化文档，并简化手动<a class="ae le" href="https://en.wikipedia.org/wiki/Quality_assurance" rel="noopener ugc nofollow" target="_blank"> QA </a>过程。</li></ul><h1 id="3606" class="jq jr hi bd js jt lw jv jw jx lx jz ka io ly ip kc ir lz is ke iu ma iv kg kh bi translated">它会是什么样子</h1><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mb"><img src="../Images/6281454ec8e6ba74656aabd3ab8c1e30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vLVRwuKyhjVlMx3LmuHIHw.png"/></div></div></figure><p id="5066" class="pw-post-body-paragraph ki kj hi kk b kl lh ij kn ko li im kq kr mc kt ku kv md kx ky kz me lb lc ld hb bi translated">不是很令人印象深刻，但是对于那些将你的项目传递给他们的人来说非常有用，告诉他们项目的状态，它是否构建，代码覆盖率，以及最后的代码质量。</p><p id="9d74" class="pw-post-body-paragraph ki kj hi kk b kl lh ij kn ko li im kq kr mc kt ku kv md kx ky kz me lb lc ld hb bi translated">在本文中，我将向您展示如何使用3个工具来给出这些指示(请注意，还有许多其他工具，您也可以自由测试) :</p><ul class=""><li id="4a52" class="lf lg hi kk b kl lh ko li kr lj kv lk kz ll ld lm ln lo lp bi translated"><a class="ae le" href="https://www.travis-ci.com/" rel="noopener ugc nofollow" target="_blank"> Travis CI </a>委托构建</li><li id="a2e4" class="lf lg hi kk b kl lq ko lr kr ls kv lt kz lu ld lm ln lo lp bi translated"><a class="ae le" href="https://app.codecov.io/gh" rel="noopener ugc nofollow" target="_blank"> Codecov </a>为覆盖范围</li><li id="aa18" class="lf lg hi kk b kl lq ko lr kr ls kv lt kz lu ld lm ln lo lp bi translated"><a class="ae le" href="https://www.codacy.com/" rel="noopener ugc nofollow" target="_blank">编码质量</a></li></ul><p id="904e" class="pw-post-body-paragraph ki kj hi kk b kl lh ij kn ko li im kq kr mc kt ku kv md kx ky kz me lb lc ld hb bi translated">要使用它们，你只需要用你的Github证书登录。</p><h1 id="925c" class="jq jr hi bd js jt lw jv jw jx lx jz ka io ly ip kc ir lz is ke iu ma iv kg kh bi translated">安装Travis</h1><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mf"><img src="../Images/3f801069d83f165c55b7b6b2bc7d0d9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1284/format:webp/0*ufyplIPmhQU8qpjv.png"/></div></figure><p id="d4a1" class="pw-post-body-paragraph ki kj hi kk b kl lh ij kn ko li im kq kr mc kt ku kv md kx ky kz me lb lc ld hb bi translated">为了将我们项目的构建委托给travis，我们需要两件东西:</p><ul class=""><li id="b1d4" class="lf lg hi kk b kl lh ko li kr lj kv lk kz ll ld lm ln lo lp bi translated">在您的项目中添加一个配置文件<em class="lv"> .travis.yml </em>，并提交+推送。</li><li id="61bd" class="lf lg hi kk b kl lq ko lr kr ls kv lt kz lu ld lm ln lo lp bi translated">登录网站找到您的回购，然后触发构建(触发构建是可选的，因为文件的提交应该会触发它)。</li></ul><h2 id="eb87" class="mg jr hi bd js mh mi mj jw mk ml mm ka kr mn mo kc kv mp mq ke kz mr ms kg mt bi translated">Travis配置文件</h2><p id="0a1d" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq kr ks kt ku kv kw kx ky kz la lb lc ld hb bi translated">这是一个配置文件的例子</p><pre class="iy iz ja jb fd mu mv mw mx aw my bi"><span id="0a85" class="mg jr hi mv b fi mz na l nb nc">language: java<br/>jdk: oraclejdk11<br/>dist: trusty<br/><br/>install: true<br/>script: mvn clean install<br/><br/>after_success:<br/>  - bash &lt;(curl -s https://codecov.io/bash)</span></pre><p id="2ce2" class="pw-post-body-paragraph ki kj hi kk b kl lh ij kn ko li im kq kr mc kt ku kv md kx ky kz me lb lc ld hb bi translated">正如你所看到的，里面描述道:</p><ul class=""><li id="7f8d" class="lf lg hi kk b kl lh ko li kr lj kv lk kz ll ld lm ln lo lp bi translated">项目的语言</li><li id="6955" class="lf lg hi kk b kl lq ko lr kr ls kv lt kz lu ld lm ln lo lp bi translated">使用的语言版本</li><li id="061a" class="lf lg hi kk b kl lq ko lr kr ls kv lt kz lu ld lm ln lo lp bi translated">将运行的脚本</li><li id="2fe7" class="lf lg hi kk b kl lq ko lr kr ls kv lt kz lu ld lm ln lo lp bi translated">成功后做什么</li></ul><p id="46f6" class="pw-post-body-paragraph ki kj hi kk b kl lh ij kn ko li im kq kr mc kt ku kv md kx ky kz me lb lc ld hb bi translated">关于更多的配置和选项，我推荐你阅读文档:<a class="ae le" href="https://docs.travis-ci.com/user/for-beginners/" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><h2 id="4c17" class="mg jr hi bd js mh mi mj jw mk ml mm ka kr mn mo kc kv mp mq ke kz mr ms kg mt bi translated">Travis CI界面</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nd"><img src="../Images/84a6dec39517381b03b02af784a4d82e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GTZMrAP0UR-WL0eYOQlBOw.png"/></div></div></figure><p id="62e4" class="pw-post-body-paragraph ki kj hi kk b kl lh ij kn ko li im kq kr mc kt ku kv md kx ky kz me lb lc ld hb bi translated"><strong class="kk hj">崔维斯CI </strong>的界面分为两部分<strong class="kk hj"> : </strong></p><ul class=""><li id="df59" class="lf lg hi kk b kl lh ko li kr lj kv lk kz ll ld lm ln lo lp bi translated">每个项目的构建历史</li><li id="d405" class="lf lg hi kk b kl lq ko lr kr ls kv lt kz lu ld lm ln lo lp bi translated">所选版本的详细信息</li></ul><p id="92dc" class="pw-post-body-paragraph ki kj hi kk b kl lh ij kn ko li im kq kr mc kt ku kv md kx ky kz me lb lc ld hb bi translated">在“更多选项”中，您可以访问更多设置，允许您添加一些环境变量并使用cron触发构建。</p><p id="de14" class="pw-post-body-paragraph ki kj hi kk b kl lh ij kn ko li im kq kr mc kt ku kv md kx ky kz me lb lc ld hb bi translated">单击您的回购名称旁边的徽章，您还可以获得一个降价链接，以添加到README页面，该页面将在每次构建后更新。</p><h1 id="11ef" class="jq jr hi bd js jt lw jv jw jx lx jz ka io ly ip kc ir lz is ke iu ma iv kg kh bi translated">Codecov</h1><p id="615d" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq kr ks kt ku kv kw kx ky kz la lb lc ld hb bi translated">在我的travis配置文件中，我已经指出在成功之后，它应该向codecov上传一个覆盖报告。为了生成这个报告，我们需要将jacoco maven插件添加到pom.xml中(如果您使用maven的话)。</p><p id="ae3e" class="pw-post-body-paragraph ki kj hi kk b kl lh ij kn ko li im kq kr mc kt ku kv md kx ky kz me lb lc ld hb bi translated">自然，代码覆盖需要测试，没有测试就没有代码覆盖，测试我们的代码应该是正常的。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="ne nf l"/></div></figure><p id="f06c" class="pw-post-body-paragraph ki kj hi kk b kl lh ij kn ko li im kq kr mc kt ku kv md kx ky kz me lb lc ld hb bi translated">这样，Travis的每个远程构建都会向codecov上传一个新报告。</p><h2 id="12bd" class="mg jr hi bd js mh mi mj jw mk ml mm ka kr mn mo kc kv mp mq ke kz mr ms kg mt bi translated">Codecov接口</h2><p id="2d4f" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq kr ks kt ku kv kw kx ky kz la lb lc ld hb bi translated">像以前一样，我们将使用Github凭据登录。</p><p id="3249" class="pw-post-body-paragraph ki kj hi kk b kl lh ij kn ko li im kq kr mc kt ku kv md kx ky kz me lb lc ld hb bi translated">通常会显示您的回购列表。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ng"><img src="../Images/1a26aadd9b63096f3ecab12fb3fa5be1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XxXKnRHcMzH3hy1BQcqlkg.png"/></div></div></figure><p id="92a2" class="pw-post-body-paragraph ki kj hi kk b kl lh ij kn ko li im kq kr mc kt ku kv md kx ky kz me lb lc ld hb bi translated">你只需要找到应该上传报告的地方，点击它就可以看到更多的细节。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nh"><img src="../Images/bfc4bc21f1061ef713fe2e08cce5f191.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0JCXVTqHtYOlRh4dcdFoiA.png"/></div></div></figure><p id="6299" class="pw-post-body-paragraph ki kj hi kk b kl lh ij kn ko li im kq kr mc kt ku kv md kx ky kz me lb lc ld hb bi translated">旭日图是你的项目覆盖范围的一个全局指示器，并且是交互式的，如果你点击一个条纹，你会进入你的项目树的更深处。</p><p id="5c79" class="pw-post-body-paragraph ki kj hi kk b kl lh ij kn ko li im kq kr mc kt ku kv md kx ky kz me lb lc ld hb bi translated">你也可以使用底部的文件浏览器来获得每个文件的更多信息。</p><p id="d14c" class="pw-post-body-paragraph ki kj hi kk b kl lh ij kn ko li im kq kr mc kt ku kv md kx ky kz me lb lc ld hb bi translated">要获得您的覆盖范围统计徽章，只需转到您的回购设置并以降价格式获取，然后将其添加到您的自述文件中。与Travis的版本一样，这个版本也会在每次上传报告后更新。</p><h1 id="a757" class="jq jr hi bd js jt lw jv jw jx lx jz ka io ly ip kc ir lz is ke iu ma iv kg kh bi translated">Codacy</h1><p id="a326" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq kr ks kt ku kv kw kx ky kz la lb lc ld hb bi translated">不，是时候对我们的代码进行质量检查了。</p><p id="0e9d" class="pw-post-body-paragraph ki kj hi kk b kl lh ij kn ko li im kq kr mc kt ku kv md kx ky kz me lb lc ld hb bi translated">像其他工具一样，我们也将使用Github凭证登录。<br/>为了对您的代码进行质量检查，您需要在您的帐户中添加您的库。要做到这一点，只需点击按钮</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ni"><img src="../Images/07e3f5303591fb170e3f47e1d8f1df05.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*ZDiCb8ZUsI1IoTzTGIFNlQ.png"/></div></figure><p id="da78" class="pw-post-body-paragraph ki kj hi kk b kl lh ij kn ko li im kq kr mc kt ku kv md kx ky kz me lb lc ld hb bi translated">然后在显示的列表中选择它。<br/>第一次添加项目时，可能需要一些时间来运行检查。</p><p id="2f9e" class="pw-post-body-paragraph ki kj hi kk b kl lh ij kn ko li im kq kr mc kt ku kv md kx ky kz me lb lc ld hb bi translated">运行结束后，您可以访问存储库仪表板</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nj"><img src="../Images/681b9a42d197f55f0f0a1a329ca23b99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mImotA9uvcuQMe6W8qZWPg.png"/></div></div></figure><p id="c5fe" class="pw-post-body-paragraph ki kj hi kk b kl lh ij kn ko li im kq kr mc kt ku kv md kx ky kz me lb lc ld hb bi translated">仪表板主图表允许您跟踪代码质量随时间的演变，以及:</p><ul class=""><li id="3af8" class="lf lg hi kk b kl lh ko li kr lj kv lk kz ll ld lm ln lo lp bi translated">代码发布的数量</li><li id="779d" class="lf lg hi kk b kl lq ko lr kr ls kv lt kz lu ld lm ln lo lp bi translated">你的代码的复杂性</li><li id="b80b" class="lf lg hi kk b kl lq ko lr kr ls kv lt kz lu ld lm ln lo lp bi translated">代码重复的百分比</li><li id="4b84" class="lf lg hi kk b kl lq ko lr kr ls kv lt kz lu ld lm ln lo lp bi translated">覆盖范围(再次是)</li></ul><p id="10f6" class="pw-post-body-paragraph ki kj hi kk b kl lh ij kn ko li im kq kr mc kt ku kv md kx ky kz me lb lc ld hb bi translated">在<em class="lv">问题分解</em>部分，您可以看到代码中不同类型的问题。<br/>如果您点击该号码，您将被重定向到“问题”面板，在该面板中您会看到有关该号码的详细信息</p><ul class=""><li id="039b" class="lf lg hi kk b kl lh ko li kr lj kv lk kz ll ld lm ln lo lp bi translated">文件受到影响</li><li id="ec94" class="lf lg hi kk b kl lq ko lr kr ls kv lt kz lu ld lm ln lo lp bi translated">问题的类型</li><li id="a215" class="lf lg hi kk b kl lq ko lr kr ls kv lt kz lu ld lm ln lo lp bi translated">严重性</li><li id="9880" class="lf lg hi kk b kl lq ko lr kr ls kv lt kz lu ld lm ln lo lp bi translated">如何解决</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nk"><img src="../Images/bdfaf737ba8eba3fb5ed8b68c4d4a9d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7LSVZ28s2d1M5MNCt04pOA.png"/></div></div></figure><p id="0b26" class="pw-post-body-paragraph ki kj hi kk b kl lh ij kn ko li im kq kr mc kt ku kv md kx ky kz me lb lc ld hb bi translated">要将徽章添加到您的存储库中，请转到设置面板，并在底部复制降价链接。您也可以单击一个按钮，向您的回购协议打开一个拉取请求来添加它。</p></div><div class="ab cl jj jk gp jl" role="separator"><span class="jm bw bk jn jo jp"/><span class="jm bw bk jn jo jp"/><span class="jm bw bk jn jo"/></div><div class="hb hc hd he hf"><p id="78d8" class="pw-post-body-paragraph ki kj hi kk b kl lh ij kn ko li im kq kr mc kt ku kv md kx ky kz me lb lc ld hb bi translated">感谢您的阅读时间，和以前一样，本教程中使用的代码可以在<a class="ae le" href="https://github.com/ErwanLT/HumanCloningFacilities" rel="noopener ugc nofollow" target="_blank">Github资源库</a>中找到</p></div></div>    
</body>
</html>