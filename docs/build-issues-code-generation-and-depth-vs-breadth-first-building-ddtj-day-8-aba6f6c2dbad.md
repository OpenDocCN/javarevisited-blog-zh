# 构建问题、代码生成和深度与广度优先—构建 DDTJ 第 8 天

> 原文：<https://medium.com/javarevisited/build-issues-code-generation-and-depth-vs-breadth-first-building-ddtj-day-8-aba6f6c2dbad?source=collection_archive---------3----------------------->

![](img/0d5812a8312ff4e73195512c4456060b.png)

昨天[我取得了实质性的进展](https://dev.to/codenameone/60x-performance-improvement-moving-on-fullstack-building-ddtj-day-7-2c92)，所以很自然地，我今天大部分时间都在泥里旋转着我的象征性轮子…

我终于进入了从数据中生成单元测试源代码的阶段。我希望这是一次顺利的经历，但我担心它不会是微不足道的。当我这样做的时候，我在代码中遇到了很多边缘情况和有问题的行为。如果我采用深度优先的方法，并致力于让代码在 Spring Boot 工作，我可能会错过许多这些重要的修复。我确信让代码在 Spring Boot 工作会暴露出许多其他问题，但我认为它们只是标准的错误，而不是像我现在正在做的那些更大的改变。

平心而论，我昨天合并了一个小问题。主要是为了提高代码覆盖率。虽然 PR 的覆盖率超过了 80%,但是代码却下降到了 79%。解决方案是添加一个小测试，进一步扩大覆盖率。

我现在遇到的大多数问题都与我没有存储或没有存储在正确位置的数据有关。但是我昨天和今天在一些无聊的事情上浪费了很多时间。

# 不可达控制器

我添加了一个 Spring Boot MVC 控制器和一个 Freemarker 模板。我过去做过很多次的事情。不是太难的事。

得了 404 分…

一定是配置中遗漏了什么…重新做一遍。回顾，谷歌搜索([或者是 Ecosiaing？](https://ecosia.org/))，重复冲洗。

什么都没出现。

我试着缩小问题的范围。重命名类，添加虚拟服务只是为了看看一个非 MVC 调用是否有效(它没有)。

# 解决办法

当我将版本更改为 0.0.5 时，在构建和它与 IDE 的关系中一定有什么地方出了问题。我仍然不知道那是什么。但是几个恰当的“干净包”调用解决了这个问题。

我花了太长的时间去尝试那件相当尴尬的事。我想我的心思在别处。希望这段弯路不会让我偏离太远，无法在周末前完成。

# 代码生成

一旦我解决了这个问题，代码生成的过程就变成了从模型中获取数据并使其适应源代码的机械过程。不幸的是，许多数据仍然缺失，所以这就是我目前的困境。我希望我能在周末之前找到一份像样的工作。

Freemarker 代码非常容易使用，Spring MVC 也是如此。我已经打印了一个测试用例，但还不够。没有模仿，对象初始化被证明是非常棘手的。

我仍然没有进入整个“异常”处理复杂性或声明检查异常。这些并不太难，我现在只想保持专注。希望它们不会成为未来的主要障碍。

# 明天

我保持这篇文章简短，这样我就可以专注于工作。今天和明天是至关重要的两天，将决定我是否能通过终点线。我想这可能很接近了，所以我要 100%的努力。

在这个系列中，我还有 3 篇博文要写。在我完成第 10 次后，我计划做一个总结/事后分析，看看什么有效，什么无效。

如果你想了解这个系列和我从事的许多其他事情的最新进展，那么[在 twitter 上关注我](https://twitter.com/debugagent)。