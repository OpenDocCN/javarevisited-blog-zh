<html>
<head>
<title>Valet Key Design Pattern in 30 Seconds</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">30秒内完成钥匙设计图案</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/valet-key-design-pattern-in-30-seconds-4ab0715c7416?source=collection_archive---------1-----------------------#2021-11-18">https://medium.com/javarevisited/valet-key-design-pattern-in-30-seconds-4ab0715c7416?source=collection_archive---------1-----------------------#2021-11-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="6ea4" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">不要在大上传上浪费你的应用资源。</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/a81568fb6908d488b8e83371d7aa214a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VCTMbAPumFQnIiEHfRwa0g.jpeg"/></div></div><p class="jj jk et er es jl jm bd b be z dx translated"><a class="ae jn" href="https://unsplash.com/@moneyphotos?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">老钱</a>在<a class="ae jn" href="https://unsplash.com/s/photos/key?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="9a4f" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">通过应用程序路由大量的上传和下载会消耗宝贵的资源，如带宽和CPU时间。在服务验证了上传请求后，它会将数据上传到存储系统，如亚马逊S3或谷歌云存储。认证很快。<strong class="jq hj">服务在等待存储系统保存文件时浪费了大部分时间。</strong></p><figure class="iy iz ja jb fd jc er es paragraph-image"><a href="https://www.java67.com/2018/05/top-20-system-design-interview-questions-answers-programming.html"><div class="er es kk"><img src="../Images/c6c490447dbb88115310c0afd9a0bf6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*YgXElATpbbp92oNdIYUseQ.png"/></div></a><p class="jj jk et er es jl jm bd b be z dx translated">该服务在等待存储系统保存文件时浪费了大部分时间。通过服务上传锁定资源。</p></figure><p id="da32" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">为什么要浪费这么多宝贵的时间？代客钥匙模式为这个问题创造了一个补救措施。</p><div class="kl km ez fb kn ko"><a href="https://verbosemode.dev/membership" rel="noopener  ugc nofollow" target="_blank"><div class="kp ab dw"><div class="kq ab kr cl cj ks"><h2 class="bd hj fi z dy kt ea eb ku ed ef hh bi translated">通过我的推荐链接- Mirco加入媒体</h2><div class="kv l"><h3 class="bd b fi z dy kt ea eb ku ed ef dx translated">对技术感兴趣吗？订阅Medium！你的会员费直接支持我和其他作家你…</h3></div><div class="kw l"><p class="bd b fp z dy kt ea eb ku ed ef dx translated">verbosemode.dev</p></div></div><div class="kx l"><div class="ky l kz la lb kx lc jh ko"/></div></div></a></div><p id="7c29" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">客户不再调用你的服务来上传东西。他们只调用您的服务来获得一个具有有限有效性的专用密钥。然后，他们使用此密钥将数据直接上传到存储系统。存储系统必须能够验证密钥是否有效。这样，您的应用程序就不必等待上传。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><a href="https://www.java67.com/2019/09/top-5-courses-to-learn-system-design.html"><div class="er es ld"><img src="../Images/c1a3187edee5563b920b5ea125198c91.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*prEaN8gejARdz0xLxPOa9Q.png"/></div></a><p class="jj jk et er es jl jm bd b be z dx translated">使用代客钥匙模式来减少系统负荷。</p></figure><p id="7900" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">不利的一面是，您失去了对存储系统的一些控制。您必须确保该键具有尽可能小的范围。限制最大上传大小、密钥的可重用性及其有效性。如果可能的话，让客户端在上传完成后通知您，这样您就可以马上使密钥失效。</p><p id="554c" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在使用之前，不要忘记验证和清理所有上传的数据。你可以通过自己的服务来实现这一点，该服务会定期扫描所有新上传的内容。</p><p id="1b16" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">仅当客户端必须经常上传大量文件时，才使用此模式。这会节省你的资源。这将节省你的钱。</p></div><div class="ab cl le lf gp lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="hb hc hd he hf"><p id="fe54" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><em class="ll">想了解更多关于云设计模式的知识吗？看看这些文章:</em></p><div class="kl km ez fb kn ko"><a rel="noopener follow" target="_blank" href="/javarevisited/fabulous-claim-check-design-pattern-explained-in-just-one-minute-5bac14df0edc"><div class="kp ab dw"><div class="kq ab kr cl cj ks"><h2 class="bd hj fi z dy kt ea eb ku ed ef hh bi translated">神话般的索赔检查设计模式在短短一分钟内解释完毕</h2><div class="kv l"><h3 class="bd b fi z dy kt ea eb ku ed ef dx translated">不要阻塞你的消息总线。套用这个模式！</h3></div><div class="kw l"><p class="bd b fp z dy kt ea eb ku ed ef dx translated">medium.com</p></div></div><div class="kx l"><div class="lm l kz la lb kx lc jh ko"/></div></div></a></div><div class="kl km ez fb kn ko"><a rel="noopener follow" target="_blank" href="/javarevisited/circuit-breaker-pattern-in-30-seconds-79166ddedaed"><div class="kp ab dw"><div class="kq ab kr cl cj ks"><h2 class="bd hj fi z dy kt ea eb ku ed ef hh bi translated">30秒后断路器模式</h2><div class="kv l"><h3 class="bd b fi z dy kt ea eb ku ed ef dx translated">不要浪费资源调用死服务。</h3></div><div class="kw l"><p class="bd b fp z dy kt ea eb ku ed ef dx translated">medium.com</p></div></div><div class="kx l"><div class="ln l kz la lb kx lc jh ko"/></div></div></a></div><div class="kl km ez fb kn ko"><a rel="noopener follow" target="_blank" href="/javarevisited/4-really-helpful-and-important-cloud-design-patterns-explained-in-short-time-4b087bebb97b"><div class="kp ab dw"><div class="kq ab kr cl cj ks"><h2 class="bd hj fi z dy kt ea eb ku ed ef hh bi translated">在短时间内解释4+1有用且重要的云设计模式</h2><div class="kv l"><h3 class="bd b fi z dy kt ea eb ku ed ef dx translated">迁移到云并不是一项简单的任务。你必须将旧的服务分解成新的…</h3></div><div class="kw l"><p class="bd b fp z dy kt ea eb ku ed ef dx translated">medium.com</p></div></div><div class="kx l"><div class="lo l kz la lb kx lc jh ko"/></div></div></a></div></div></div>    
</body>
</html>