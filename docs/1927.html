<html>
<head>
<title>Installing Nginx And Managed By Command (Part 2)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">安装Nginx并通过命令管理(第2部分)</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/installing-nginx-and-managed-by-command-part-2-b6b32b90b62d?source=collection_archive---------2-----------------------#2022-02-05">https://medium.com/javarevisited/installing-nginx-and-managed-by-command-part-2-b6b32b90b62d?source=collection_archive---------2-----------------------#2022-02-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/f2a8b7908b7fedec6d07c2a65a6c64f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*PTBCkH0TBSF8CmRVZsSNtg.png"/></div></figure><h1 id="df0d" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">介绍</h1><p id="9bce" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">在本文中，我将在一台机器上安装Nginx，在本系列的第3部分中，您将解释关于Nginx文件系统的内容，以便进行成功的配置，并查看任何请求或错误的Nginx日志。</p><p id="ca21" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">我们需要在本地机器或虚拟服务器上安装Nginx来处理HTTP请求，并对我们的服务进行配置。</p><p id="b276" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">在本文中，我们将看到Nginx以及在哪里可以找到配置文件。</p><p id="44ab" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">我们可以通过docker把Nginx作为一个容器来安装，但是这篇文章将会谈到在Ubuntu 20.04 LTS操作系统中安装原始的应用程序。</p><p id="5463" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated"><strong class="jm hj">Nginx文章的所有部分:</strong></p><ul class=""><li id="e5da" class="kn ko hi jm b jn ki jr kj jv kp jz kq kd kr kh ks kt ku kv bi translated"><a class="ae kw" rel="noopener" href="/javarevisited/intro-to-nginx-web-server-part-1-bb590fad7035">Nginx Web服务器介绍(第一部分)</a></li><li id="7ef4" class="kn ko hi jm b jn kx jr ky jv kz jz la kd lb kh ks kt ku kv bi translated">这是Nginx系列的第二部分</li><li id="e1c8" class="kn ko hi jm b jn kx jr ky jv kz jz la kd lb kh ks kt ku kv bi translated"><a class="ae kw" rel="noopener" href="/p/62e71ad1c3a0"> Nginx文件配置和日志(第三部分)</a></li></ul><h1 id="f0e7" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">安装Nginx</h1><p id="768c" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">让我们开始在我们的机器上安装Nginx。</p><p id="7a62" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">Ubuntu中有Nginx，这意味着我们可以使用apt来安装它。</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="635e" class="ll in hi lh b fi lm ln l lo lp">sudo apt updat<br/>sudo apt install nginxe</span></pre><h1 id="e9a2" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">我们需要调整防火墙</h1><p id="dbd9" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">防火墙软件需要调整以允许访问该服务，Nginx在安装时将自己注册为ufw的服务。</p><p id="55a0" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">现在我们需要使用“ufw”的列表配置。</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="8c8d" class="ll in hi lh b fi lm ln l lo lp">sudo ufw app list</span></pre><p id="113f" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">在那之后你必须看到这个结果。</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="1ff2" class="ll in hi lh b fi lm ln l lo lp">Output</span><span id="bf67" class="ll in hi lh b fi lq ln l lo lp">Available applications:<br/> Nginx Full<br/> Nginx HTTP<br/> Nginx HTTPS<br/> xOpenSSH</span></pre><p id="0d34" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">从这个结果中，您可以看到Nginx提供了三个配置文件。</p><ol class=""><li id="0256" class="kn ko hi jm b jn ki jr kj jv kp jz kq kd kr kh lr kt ku kv bi translated">Nginx Full:此配置文件使用端口80(正常、未加密的web流量)和端口443 (TLS/SSL加密的流量)打开</li><li id="5341" class="kn ko hi jm b jn kx jr ky jv kz jz la kd lb kh lr kt ku kv bi translated">Nginx HTTP:这个配置文件只开放80端口</li><li id="e51f" class="kn ko hi jm b jn kx jr ky jv kz jz la kd lb kh lr kt ku kv bi translated">Nginx HTTPS:此配置文件只开放端口443 (TLS/SSL加密流量)</li></ol><h1 id="bca2" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">我如何通过Ubuntu使用nginx启用配置文件</h1><p id="54e3" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">您可以在终端中编写以下代码</p><ul class=""><li id="8405" class="kn ko hi jm b jn ki jr kj jv kp jz kq kd kr kh ks kt ku kv bi translated">启用配置文件。</li></ul><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="ef49" class="ll in hi lh b fi lm ln l lo lp">sudo ufw allow 'Nginx HTTP'</span></pre><ul class=""><li id="be1a" class="kn ko hi jm b jn ki jr kj jv kp jz kq kd kr kh ks kt ku kv bi translated">我们需要通过下面的代码来改变。</li></ul><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="89f0" class="ll in hi lh b fi lm ln l lo lp">You can verify the change by typing:</span></pre><ul class=""><li id="178b" class="kn ko hi jm b jn ki jr kj jv kp jz kq kd kr kh ks kt ku kv bi translated">写完上面的代码后，你必须显示这个结果</li></ul><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="c211" class="ll in hi lh b fi lm ln l lo lp">Output<br/>Status: active<br/> <br/>To              Action  From<br/>--              ------  ----<br/>OpenSSH         ALLOW   Anywhere         <br/>Nginx HTTP      ALLOW   Anywhere         <br/>OpenSSH (v6)    ALLOW   Anywhere (v6)      <br/>Nginx HTTP (v6) ALLOW   Anywhere (v6)</span></pre><h1 id="78d8" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">现在我们需要检查一下网络服务器</h1><p id="a03d" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">在这个过程中，必须显示Nginx已经启动并准备好，但是我们需要通过下面的代码来检查它是否启动并准备好。</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="525d" class="ll in hi lh b fi lm ln l lo lp">systemctl status nginx</span></pre><p id="0fe7" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">写完上面的代码后，你会看到下面的结果</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="7157" class="ll in hi lh b fi lm ln l lo lp">Output<br/>● nginx.service - A high performance web server and a reverse proxy server<br/> Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled)<br/> Active: active (running) since Fri 2020-04-20 16:08:19 UTC; 3 days ago<br/>  Docs: man:nginx(8)<br/> Main PID: 2369 (nginx)<br/> Tasks: 2 (limit: 1153)<br/> Memory: 3.5M<br/> CGroup: /system.slice/nginx.service<br/>     ├─2369 nginx: master process /usr/sbin/nginx -g daemon on; master_process on;<br/>     └─2380 nginx: worker process</span></pre><p id="b2fe" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">现在，服务已经成功启动，没有任何问题</p><p id="8857" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">但是我们需要更多的检查，如果Nginx准备好了，我们可以在Nginx中调用任何页面时完成这个过程</p><h1 id="5979" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">如何在Nginx中向默认登录页面发送请求？</h1><p id="99e1" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">您可以通过向您的IP地址发送请求来访问默认的登录页面，以检查Nginx启动是否没有任何问题</p><p id="ae93" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">如果不知道您的服务IP地址，您可以编写以下代码</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="8106" class="ll in hi lh b fi lm ln l lo lp">curl -4 icanhazip.com</span></pre><blockquote class="ls lt lu"><p id="9d1b" class="jk jl lv jm b jn ki jp jq jr kj jt ju lw kk jx jy lx kl kb kc ly km kf kg kh hb bi translated"><em class="hi">icanhazip.com是工具提供商你的公共IP地址</em></p></blockquote><p id="f087" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">当编写上述代码时，您可以从浏览器向以下地址发送请求</p><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="8d81" class="ll in hi lh b fi lm ln l lo lp"><a class="ae kw" href="http://your_server_ip" rel="noopener ugc nofollow" target="_blank">http://your_server_ip</a></span></pre><p id="3e40" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">之后，你必须显示这一页。</p><figure class="lc ld le lf fd ij er es paragraph-image"><div class="er es lz"><img src="../Images/d8f5b2cd9c54bacd4e318bc7fe1d8d52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/format:webp/1*dUdwg6qW_UIIEZcwLLmuWA.png"/></div></figure><p id="27a9" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">现在Nginx运行没有任何问题</p><p id="8ec5" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">如何通过命令行管理Nginx:</p><p id="535a" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">当在您的终端中应用命令时，我们可以管理Nginx进程</p><ul class=""><li id="f5dc" class="kn ko hi jm b jn ki jr kj jv kp jz kq kd kr kh ks kt ku kv bi translated">要在启动后停止Nginx，请编写以下命令</li></ul><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="26ee" class="ll in hi lh b fi lm ln l lo lp">sudo systemctl stop nginx</span></pre><ul class=""><li id="aa1c" class="kn ko hi jm b jn ki jr kj jv kp jz kq kd kr kh ks kt ku kv bi translated">要在停止后启动Nginx，请编写以下命令。</li></ul><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="c933" class="ll in hi lh b fi lm ln l lo lp">sudo systemctl start nginx</span></pre><ul class=""><li id="2f4e" class="kn ko hi jm b jn ki jr kj jv kp jz kq kd kr kh ks kt ku kv bi translated">要重启Nginx，请编写以下代码</li></ul><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="e34a" class="ll in hi lh b fi lm ln l lo lp">sudo systemctl restart nginx</span></pre><ul class=""><li id="6bcc" class="kn ko hi jm b jn ki jr kj jv kp jz kq kd kr kh ks kt ku kv bi translated">如果您有新的配置并想要应用它，您可以使用以下命令。</li></ul><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="9ff2" class="ll in hi lh b fi lm ln l lo lp">sudo systemctl reload nginx</span></pre><ul class=""><li id="66ad" class="kn ko hi jm b jn ki jr kj jv kp jz kq kd kr kh ks kt ku kv bi translated">默认情况下，Nginx在启动web服务时启动配置。如果不需要或不想运行配置，您可以在应用此命令时禁用配置。</li></ul><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="8075" class="ll in hi lh b fi lm ln l lo lp">sudo systemctl disable nginx</span></pre><ul class=""><li id="5dbe" class="kn ko hi jm b jn ki jr kj jv kp jz kq kd kr kh ks kt ku kv bi translated">但是，如果我们已经重新启用了配置，我们可以使用此命令来完成</li></ul><pre class="lc ld le lf fd lg lh li lj aw lk bi"><span id="210a" class="ll in hi lh b fi lm ln l lo lp">sudo systemctl enable nginx</span></pre><h1 id="38ba" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">结论:</h1><p id="279e" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">在本文中，我们安装了Nginx，并看到了一些帮助管理Nginx的命令，如启动、停止和重启。</p><p id="93b5" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">在下一篇文章中，我们将解释Nginx文件系统，并讨论Nginx文件作业。</p><p id="827a" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated"><strong class="jm hj">Nginx文章的所有部分:</strong></p><ul class=""><li id="520c" class="kn ko hi jm b jn ki jr kj jv kp jz kq kd kr kh ks kt ku kv bi translated"><a class="ae kw" rel="noopener" href="/javarevisited/intro-to-nginx-web-server-part-1-bb590fad7035">Nginx Web服务器介绍(第一部分)</a></li><li id="5435" class="kn ko hi jm b jn kx jr ky jv kz jz la kd lb kh ks kt ku kv bi translated">这是Nginx系列的第二部分</li><li id="472b" class="kn ko hi jm b jn kx jr ky jv kz jz la kd lb kh ks kt ku kv bi translated"><a class="ae kw" rel="noopener" href="/p/62e71ad1c3a0"> Nginx文件配置和日志(第三部分)</a></li></ul><blockquote class="ls lt lu"><p id="9e92" class="jk jl lv jm b jn ki jp jq jr kj jt ju lw kk jx jy lx kl kb kc ly km kf kg kh hb bi translated"><strong class="jm hj">别忘了拍文章，每篇文章可以拍50次。</strong></p></blockquote><h1 id="0e8a" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">参考资料:</h1><ul class=""><li id="b705" class="kn ko hi jm b jn jo jr js jv ma jz mb kd mc kh ks kt ku kv bi translated"><a class="ae kw" href="https://kinsta.com/knowledgebase/what-is-nginx/" rel="noopener ugc nofollow" target="_blank">https://kinsta.com/knowledgebase/what-is-nginx/</a></li><li id="5620" class="kn ko hi jm b jn kx jr ky jv kz jz la kd lb kh ks kt ku kv bi translated"><a class="ae kw" rel="noopener" href="/devopscurry/what-is-nginx-understanding-the-basics-of-nginx-in-2021-f8ee0f3d3d54">https://medium . com/devopscury/what-is nginx-understanding-the-basics-of-nginx-in-2021-f8e E0 F3 D3 d 54</a></li><li id="1340" class="kn ko hi jm b jn kx jr ky jv kz jz la kd lb kh ks kt ku kv bi translated"><a class="ae kw" href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-20-04" rel="noopener ugc nofollow" target="_blank">https://www . digital ocean . com/community/tutorials/how-to-install-nginx-on-Ubuntu-20-04</a></li></ul></div></div>    
</body>
</html>