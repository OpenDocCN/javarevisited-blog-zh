<html>
<head>
<title>Java EE — Java Servlets and JSPs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Java EE—Java servlet和JSP</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/java-ee-java-servlets-and-jsps-6ed1d2fca237?source=collection_archive---------2-----------------------#2021-09-05">https://medium.com/javarevisited/java-ee-java-servlets-and-jsps-6ed1d2fca237?source=collection_archive---------2-----------------------#2021-09-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="6e3f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于其多功能性，Java是国际上最受好评的编程语言之一。使用Java可以创建控制台应用程序、swing应用程序(使用javax.swing库)、<a class="ae jd" rel="noopener" href="/javarevisited/7-best-java-fx-online-courses-for-beginners-9e774ba6f996"> JavaFX </a>应用程序等。但是当涉及到企业世界时，它们是不够的。</p><p id="d3b1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了理解Java在企业领域是如何工作的，你需要理解<a class="ae jd" rel="noopener" href="/javarevisited/top-7-online-courses-to-learn-java-ee-jakarta-ee-in-2020-216c1a5eea99"> Java EE </a>，或者Java企业版。</p><p id="2ba0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文中，当您步入Java EE世界时，我们将看到最基本的特性之一，<a class="ae jd" rel="noopener" href="/javarevisited/10-best-servlet-and-jsp-online-courses-for-java-developers-d23cf6902360">servlet和JSP(Java服务器页面)</a>。</p><h1 id="c786" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">Servlets的需求</h1><figure class="kd ke kf kg fd kh er es paragraph-image"><a href="https://javarevisited.blogspot.com/2020/08/top-5-courses-to-learn-servlet-and-jsp.html"><div class="er es kc"><img src="../Images/ea4c4984bb50c92ad43a2a179f223841.png" data-original-src="https://miro.medium.com/v2/resize:fit:1142/format:webp/1*j1iCUUSLPMvna42YXv3DVg.png"/></div></a></figure><p id="dab0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们先来了解一下客户端-服务器架构。当您通过web浏览器访问网站时，web浏览器就是web客户端。这个web客户端将向web服务器<strong class="ih hj">、</strong>发出<strong class="ih hj">请求</strong>，然后web服务器将对<strong class="ih hj">请求</strong>进行操作，并产生<strong class="ih hj">响应</strong>并将其返回给web客户端。那个<strong class="ih hj">回应</strong>就是我们去网站时看到的。</p><p id="a2ec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，web客户端和web服务器之间的通信只不过是一堆<strong class="ih hj">请求</strong>和<strong class="ih hj">响应。</strong>有数百万用户访问您正在访问的这个特定网站，并且可能有来自多个浏览器的多个并发的并行请求。</p><p id="f875" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些请求和响应通过HTTP(超文本传输协议)进行交换，这是web客户端和服务器之间唯一的通信策略。现在，为了处理一个请求，web服务器需要执行一系列指令，作为一名Java开发人员，我们对服务器端编程有什么选择呢？</p><p id="0d28" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有很多选项，如Java Standard Edition APIs和CGI(公共网关接口)脚本，但要动态管理请求，我们需要一个更好的解决方案，这就是Java Enterprise Edition的用处。有了它，我们就有了很多选择，其中之一就是servlets。</p><h2 id="99f7" class="kk jf hi bd jg kl km kn jk ko kp kq jo iq kr ks js iu kt ku jw iy kv kw ka kx bi translated">Servlets的特性</h2><ul class=""><li id="18be" class="ky kz hi ih b ii la im lb iq lc iu ld iy le jc lf lg lh li bi translated">强大的服务器端编程来生成动态web内容。</li><li id="e7f4" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">与CGI脚本相反，高效—为每个新请求创建一个线程。</li><li id="e2be" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">与所有JVM特性一起工作，例如<a class="ae jd" rel="noopener" href="/javarevisited/my-favorite-courses-to-learn-object-oriented-programming-and-design-in-2019-197bab351733">面向对象</a>、<a class="ae jd" rel="noopener" href="/javarevisited/8-best-multithreading-and-concurrency-courses-for-experienced-java-developers-8acfd3b25094">多线程</a>等。</li></ul><h1 id="75bf" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">设置Servlet/JSP应用程序</h1><p id="13a4" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">在这里，我将使用IntelliJ IDEA Ultimate edition。但是您可以使用任何IDE，如eclipse EE、Netbeans等。首先，从IntelliJ的启动向导中选择<strong class="ih hj">新建项目</strong>或者转到<strong class="ih hj">文件→新建→项目</strong>创建一个新项目。</p><p id="3e31" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从<strong class="ih hj">新建项目</strong>向导中选择<strong class="ih hj"> Java Enterprise </strong>并为您的项目命名。对于本文，我们将创建一个名为<strong class="ih hj"> Quirk的项目。</strong></p><p id="efe9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，我给<strong class="ih hj">怪癖</strong>作为“名字”。然后对于“项目模板”,从下拉列表中选择<strong class="ih hj"> Web应用程序</strong>。然后，您必须为项目运行设置一个“应用服务器”。</p><p id="9b4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，我已经有了一个服务器“Tomcat 7.0.109”(设置一个应用服务器检查<a class="ae jd" href="https://www.jetbrains.com/help/idea/configuring-and-managing-application-server-integration.html" rel="noopener ugc nofollow" target="_blank">这个</a>)。).对于“语言”选择<a class="ae jd" rel="noopener" href="/javarevisited/10-best-places-to-learn-java-online-for-free-ce5e713ab5b2"> <strong class="ih hj"> Java </strong> </a>，对于“构建系统”选择<a class="ae jd" rel="noopener" href="/javarevisited/6-best-maven-courses-for-beginners-in-2020-23ea3cba89"> <strong class="ih hj"> Maven </strong> </a>。选择Java SDK并单击“Finish ”,因为我们不会在下一个窗口中添加任何依赖项。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><a href="https://javarevisited.blogspot.com/2018/09/top-5-courses-to-learn-intellij-idea-java-and-android-development.html#axzz6A8Vy1sea"><div class="er es lr"><img src="../Images/1847c0ba50450b078fe68961c8d2d802.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xouW5kBZW-NjOYrEvK3RbQ.png"/></div></a><p class="ls lt et er es lu lv bd b be z dx translated">新建项目向导</p></figure><p id="f6a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，您将看到项目窗口，首先，我们需要修复我们的依赖关系。为此，单击底部选项卡窗格或<strong class="ih hj">视图→工具窗口→终端打开终端。</strong></p><p id="7c26" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后键入<code class="du lw lx ly lz b">mvn clean install -DskipTests</code>来设置依赖项。如果你还没有安装Maven，查看<a class="ae jd" href="https://nipunaupeksha.medium.com/understanding-maven-7df0ae4ada7b" rel="noopener">这个</a>来了解<a class="ae jd" rel="noopener" href="/javarevisited/top-10-free-courses-to-learn-maven-jenkins-and-docker-for-java-developers-51fa7a1e66f6"> Maven </a>以及如何安装。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><a href="https://javarevisited.blogspot.com/2019/03/top-5-course-to-learn-apache-maven-for.html"><div class="er es ma"><img src="../Images/b5c4438cb1e9c62b92e994f78b1b4284.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LwCD9dA5lCuDYAwLNKtIwA.png"/></div></a><p class="ls lt et er es lu lv bd b be z dx translated">项目窗口</p></figure><p id="176e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你已经正确地设置了所有的东西，你将会得到一个信息“构建成功”。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es ma"><img src="../Images/d3b1d31055ff51cd4aeee207b471e3e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MVe2Kf3EyHwfKS80VoxYYg.png"/></div></div><p class="ls lt et er es lu lv bd b be z dx translated">mvn全新安装-DskipTests输出</p></figure><p id="b2eb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后选择“运行”按钮来构建项目。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es ma"><img src="../Images/c443c485cbe31ab8de803ca01d626daa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BJ3NNogOxygnI3gFlVL8cw.png"/></div></div><p class="ls lt et er es lu lv bd b be z dx translated">单击运行运行您的项目</p></figure><p id="32cd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">构建项目需要几秒钟时间，并且会在您的web浏览器中自动打开。与该网页相关联的页面是由<a class="ae jd" rel="noopener" href="/javarevisited/7-best-courses-to-learn-intellij-idea-for-beginners-and-experienced-java-programmers-2e9aa9bb0c05"> IntelliJ </a>在项目创建阶段自动生成的<strong class="ih hj">index.jsp</strong>文件。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><a href="https://javarevisited.blogspot.com/2017/06/10-maven-tips-java-developer-should-know.html"><div class="er es ma"><img src="../Images/10b29350f8e857e56198f7bf6fff02ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S4j2DCIGyhfYHUDX0at-lQ.png"/></div></a><p class="ls lt et er es lu lv bd b be z dx translated">构建输出和index.jsp文件</p></figure><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es ma"><img src="../Images/6fa415c699028d30a80c1edb4a0555d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W0yQtGFN2FUXevJgAkJVwA.png"/></div></div><p class="ls lt et er es lu lv bd b be z dx translated">在网络浏览器中运行的应用程序</p></figure><h1 id="f40e" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">Servlets基础—获取请求</h1><p id="c626" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">正如我们前面所讨论的，HTTP是客户端和服务器之间的通信协议，有相当多的HTTP请求类型。</p><ul class=""><li id="6d62" class="ky kz hi ih b ii ij im in iq mf iu mg iy mh jc lf lg lh li bi translated">获取—从服务器获取信息</li><li id="8e2c" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated"><a class="ae jd" href="https://javarevisited.blogspot.com/2016/10/difference-between-put-and-post-in-restful-web-service.html" rel="noopener ugc nofollow" target="_blank">发布</a> —在服务器上处理信息</li><li id="2f43" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated"><a class="ae jd" href="https://www.java67.com/2016/09/when-to-use-put-or-post-in-restful-web-services.html" rel="noopener ugc nofollow" target="_blank">上传</a> —上传服务器上的资源</li><li id="8e17" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">删除—删除服务器上的资源</li><li id="491d" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">HEAD —与GET相同，但仅返回标题</li><li id="2ba8" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">修补—更新服务器上的资源</li><li id="6b0c" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">选项—帮助跟踪在服务器上工作的HTTP方法</li></ul><p id="3692" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们看看GET请求。当涉及到获取请求时，有几个要点。</p><ul class=""><li id="3a2d" class="ky kz hi ih b ii ij im in iq mf iu mg iy mh jc lf lg lh li bi translated">用于从服务器获取信息。</li><li id="4022" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">发送的数据是URL中可见的查询字符串；因此缺乏安全感。</li><li id="e5ca" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">数据限制为8kB，很少有注意事项。</li><li id="ef6c" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">幂等——不会改变服务器端的任何东西。</li></ul><p id="6ed5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们看看如何在我们的项目上创建一个GET请求。为此，首先进入<strong class="ih hj">src→main→Java→com . example . quirk</strong>文件夹，右键单击它创建一个新的包。我们将这个包命名为<strong class="ih hj"> servlets </strong>，并在这个包中创建一个新的<strong class="ih hj"> java </strong>文件，命名为<strong class="ih hj">GetServlet.java</strong></p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es ma"><img src="../Images/93d96ef9473504062126c93d068df370.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HccAvLSaL8jou5pMd8POLg.png"/></div></div><p class="ls lt et er es lu lv bd b be z dx translated">GetServelt.java</p></figure><p id="cfe2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，由于这个类需要具有servlet的所有功能，我们将用<a class="ae jd" href="https://www.java67.com/2012/10/servlet-jsp-interview-questions-answer-faq-experience.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> HttpServlet </strong> </a>类来扩展它。扩展后，GetServlet.java文件看起来会像这样。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="9f90" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，对于我们为什么要扩展<strong class="ih hj"> HttpServlet </strong>类的问题，我们将看看<a class="ae jd" href="https://javarevisited.blogspot.com/2011/09/servlet-interview-questions-answers.html" rel="noopener ugc nofollow" target="_blank"> Servlet API </a>的层次结构。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><a href="https://javarevisited.blogspot.com/2011/09/servlet-interview-questions-answers.html"><div class="er es mk"><img src="../Images/2715915b96c4bd2738822cf287750156.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dJMtn96igGlSzxSewRBIgg.png"/></div></a><p class="ls lt et er es lu lv bd b be z dx translated">Servlet层次结构</p></figure><p id="5e12" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里，<a class="ae jd" href="https://www.java67.com/2012/12/difference-between-genericservlet-vs-httpservlet-jsp.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> GenericServelt </strong> </a>是一个抽象类，<strong class="ih hj"> Servlet </strong>是一个接口，它拥有构建web应用程序的所有方法。因为我们正在讨论构建一个HTTP web应用程序，所以我们使用了<strong class="ih hj"> HttpServlet </strong>类，它包含了构建HTTP web应用程序的所有方法。</p><p id="53a4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，由于没有请求和响应我们无法构建任何应用程序，因此我们有了<a class="ae jd" href="https://www.java67.com/2021/07/servlet-and-filter-interview-questions-answers-java-.html" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">servlet request</strong></a>接口和<strong class="ih hj"> ServletResponse </strong>接口。由于我们正在制作一个HTTP web应用程序，我们将使用扩展接口<strong class="ih hj"> HttpServletRequest </strong>和<strong class="ih hj"> HttpServletResponse。</strong></p><p id="37a8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们回到代码。因为我们需要一个GET请求，所以我们可以使用从<strong class="ih hj"> HttpServlet </strong>类、<strong class="ih hj"> doGet()获得的内置方法。得到那个<strong class="ih hj"> doGet() </strong>方法后，<strong class="ih hj">GetServlet.java</strong>文件会是这个样子。</strong></p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="1e8d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，让我们修改代码，这样我们发送一个<a class="ae jd" href="https://www.java67.com/2014/08/difference-between-post-and-get-request.html" rel="noopener ugc nofollow" target="_blank"> GET请求</a>我们将得到一个简单的HTML响应。我们先写代码，以后再分析。所以代码应该是这样的。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="3899" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里，<code class="du lw lx ly lz b">htmlResponse</code>包含我们访问该站点时该站点包含的消息。而<code class="du lw lx ly lz b">PrintWriter</code>对象用于将<code class="du lw lx ly lz b">htmlResponse</code>写入该站点。即使我们写了这个并再次运行我们的服务器，我们也看不到任何东西，因为我们还没有设置应该用来获取这个特定数据的URL。我们以两种方式设置这个URL路径，我们可以使用<strong class="ih hj">注释</strong>或者我们可以在<strong class="ih hj"> Webapp →WEB-INF </strong>文件夹内的<strong class="ih hj"> web.xml </strong>文件中设置它。首先，我们将看看如何在<strong class="ih hj"> web.xml </strong>文件中设置它，接下来我们将看看如何使用注释来设置它。要在<strong class="ih hj"> web.xml </strong>文件中设置路径，我们需要像这样修改<strong class="ih hj"> web.xml </strong>文件。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="c31e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里，我们添加了从第7行到第14行的所有内容来配置路径。这样做时要考虑的最重要的几点是，</p><ul class=""><li id="28c1" class="ky kz hi ih b ii ij im in iq mf iu mg iy mh jc lf lg lh li bi translated">我们可以给<code class="du lw lx ly lz b">&lt;servlet&gt;&lt;servlet&gt;</code>中的<code class="du lw lx ly lz b">&lt;servlet-name&gt;&lt;servlet-name&gt;</code>标签取任何名字，而<code class="du lw lx ly lz b">&lt;servlet-mapping&gt;&lt;servlet-mapping&gt;</code>中的<code class="du lw lx ly lz b">&lt;servlet-name&gt;&lt;/servlet-name&gt;</code>内部的名字应该与那个名字相同。</li><li id="d7d9" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">我们应该把我们类的完整路径给<code class="du lw lx ly lz b">&lt;servlet-class&gt;&lt;/servlet-class&gt;</code>。</li></ul><p id="d21c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在来看第二个选项，我们可以像这样简单地给我们的类添加一个注释。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="9610" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以使用注释或者使用<strong class="ih hj"> web.xml </strong>文件。但是当你实现的时候，一定要使用XML标签或者注释。</p><p id="1665" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，当我们在我们的应用服务器上运行它时，它将看起来像这样。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es ma"><img src="../Images/d1e9b1e1c033dd9f22e6ff21a8fe1951.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e9pISnZ3Pw2QIPorQBprmg.png"/></div></div><p class="ls lt et er es lu lv bd b be z dx translated">从/getServlet获取请求</p></figure><p id="0160" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我们用请求发送参数时，我们在URL中像这样发送它们，这里的<code class="du lw lx ly lz b">http://localhost:8080/Quirk/getServlet?name=quirk</code>，<code class="du lw lx ly lz b">name</code>是一个参数，它的值是<code class="du lw lx ly lz b">quirk</code>，整个<code class="du lw lx ly lz b">?name=quirk</code>通常被称为<strong class="ih hj">查询字符串。</strong>我们可以这样编辑代码，在网页上显示出来。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="f02f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">网页上的视图是这样的。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es ma"><img src="../Images/0de110a0ffdc881ed5c9c044c4654f7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jEdQHGrN0nEiiUn3gxfk-A.png"/></div></div><p class="ls lt et er es lu lv bd b be z dx translated">您的第一个servlet输出！</p></figure><p id="baff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是我们如何使用servlets发送GET请求。你可以从<a class="ae jd" href="https://github.com/nipunaupeksha/Quirk/tree/1.first-servlet-with-GET-request" rel="noopener ugc nofollow" target="_blank">这里</a>找到上述部分的文件。</p><h1 id="4df3" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">创建自定义WebApp</h1><p id="b727" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">现在我们知道了如何创建servlet。因此，现在我们可以为我们的项目创建一个定制的web应用程序，并进一步学习servlets和JSP的概念。为此，请转到您的<strong class="ih hj"> webapp </strong>文件夹，并将以下文件夹粘贴到其中，<strong class="ih hj"> html </strong>、<strong class="ih hj"> css </strong>、<strong class="ih hj"> js、</strong>和<strong class="ih hj">图片</strong>。你可以在这里找到<a class="ae jd" href="https://github.com/nipunaupeksha/Quirk/tree/2.search-get-request" rel="noopener ugc nofollow" target="_blank">的文件夹。html 文件夹包含您可以用作项目模板的文件。稍后我们将看看如何在IntelliJ中使用我们的<strong class="ih hj"> html </strong>和<strong class="ih hj"> jsp </strong>页面。</a></p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es ma"><img src="../Images/c7e54319c02db19ace999717434ff89b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FiBxhEJi0rQmR3P_7oJCrQ.png"/></div></div><p class="ls lt et er es lu lv bd b be z dx translated">html、css、js和images文件夹被添加到webapp文件夹中</p></figure><p id="a290" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">添加文件后，我们将创建一个简单的GET请求。我们正在创建一个GET请求来查找产品。<strong class="ih hj">index.html</strong>文件中的搜索栏就是为此而创建的。搜索一个项目后，我们将在searchResults.html的<strong class="ih hj">页面上显示结果。如果您查看searchResults.html的<strong class="ih hj">页面，您可以看到一些标记，如{0}、{1}等。这里，我们已经初始化了这些标记，因为我们将把整个HTML页面作为文本读取，并用这些标记替换搜索结果，这样我们就可以看到搜索的输出。</strong></strong></p><p id="9413" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为我们首先要访问数据库，所以我们需要创建一个数据库。对于这个项目，我们将使用<strong class="ih hj"> MySQL </strong>作为我们的数据库，并建立数据库，我们将使用<strong class="ih hj"> XAMPP </strong>。要下载并安装XAMPP，请阅读这里提到的说明<a class="ae jd" href="https://www.apachefriends.org/download.html" rel="noopener ugc nofollow" target="_blank"/>。安装XAMPP后，启动XAMPP控制面板，启动<strong class="ih hj"> Apache </strong>和<strong class="ih hj"> MySQL </strong>服务器。然后点击<strong class="ih hj"> MySQL </strong>服务器的<strong class="ih hj">管理</strong>按钮，打开<strong class="ih hj"> <em class="ml"> phpmyadmin </em> </strong>页面。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mm"><img src="../Images/224e2dedeaed1ff91271b1008a617519.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5i50imqr_LzP5R3YxWo4cg.png"/></div></div><p class="ls lt et er es lu lv bd b be z dx translated">XAMPP控制面板</p></figure><p id="38c0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我已经为我的项目创建了数据库，您可以获取SQL文件来创建数据库。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="eb6c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，让我们创建一些包并向其中添加一些java文件。首先，我们将在com.example.quirk中创建一个名为<strong class="ih hj"> beans </strong>的包来添加我们项目的bean。我们将为我们的产品创建的第一个bean，因此我们将把文件命名为<strong class="ih hj">Product.java</strong></p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="8e7f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以看到属性productId、productName、productDescription、productPrice和productImgPath以及专用于它们的getters和setters。</p><p id="0cb0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们需要一个连接来连接我们创建的数据库。为此，我们需要创建一些类。我们将在com.example.quirk中的一个新包中创建它们，名为<strong class="ih hj"> dao </strong>，这是“数据访问对象”的首字母缩写。在这个包中，我们将创建一个名为<strong class="ih hj">DBConnection.java</strong>的新java文件，它专门用于在我们需要时创建一个连接。这个连接的重要部分是它使用了<strong class="ih hj">单例模式</strong>，因此性能不会降低。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="13e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我们将在同一个包中创建另一个java文件，<strong class="ih hj">ApplicationDao.java</strong>来控制数据库请求。对于我们的任务，我们连接到数据库并查找用户在搜索框中输入的产品。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="2be3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们为搜索创建一个servlet。为此，转到包含您的servlets的包，创建一个名为SearchServlet.java<strong class="ih hj">的文件。</strong></p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="70e9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以看到我在这里使用了注释。因此,<strong class="ih hj"> web.xml文件不会有任何变化。</strong></p><p id="9566" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们必须再次配置我们的文件结构。将<strong class="ih hj">index.jsp</strong>和<strong class="ih hj">searchResults.html</strong>添加到<strong class="ih hj"> webapp </strong>文件夹中。你可以在这里找到文件<a class="ae jd" href="https://github.com/nipunaupeksha/Quirk/tree/2.search-get-request" rel="noopener ugc nofollow" target="_blank"/>。我们必须配置这种结构，因为对于web应用程序，IntelliJ有一定的限制。现在您的文件结构如下所示(您可以看到一个名为<strong class="ih hj"> sql </strong>的附加文件夹，因为我将我的sql脚本添加到了该文件夹中)。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es ma"><img src="../Images/91a43470f4c494161438c19483795722.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BZEfSL1vTG4oi_xFuRSVNA.png"/></div></div></figure><p id="bbb5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，因为我们不需要<strong class="ih hj">HelloServlet.java</strong>文件，我们可以删除它。然后当你运行tomcat服务器时，你可以找到我们创建的网站。单击搜索按钮，输入产品名称，然后按搜索按钮。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mn"><img src="../Images/3a28e6b125cceb5de35e3970ee24c793.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8tbpTRwWkN-8T8A6n1KmKg.png"/></div></div></figure><p id="c85c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后你会得到你搜索的产品。但是它将只显示一个结果，因为我们编写的代码只显示一个结果。我们稍后将更改代码以显示多个结果。这里，你应该注意的最重要的部分之一是URL。您可以在那里看到与搜索相关的查询字符串。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mo"><img src="../Images/18a216728aa8a257397380910e0669df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uj9SooZSl39cETOeBN9HYQ.png"/></div></div></figure><p id="6bee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在创建与Java Web项目相关的HTML或JSP页面时，您应该做的最重要的事情之一是，您应该始终避免在HTML或JSP文件中使用单引号。例如，您应该使用<code class="du lw lx ly lz b">&lt;i class="fa fa-facebook"&gt;&lt;i/&gt;</code>而不是<code class="du lw lx ly lz b">&lt;i class='fa fa-facebook'&gt;&lt;/i&gt;</code>，因为大多数“没有显示元素”都是由于这个简单的错误造成的。你可以在这里找到从<a class="ae jd" href="https://github.com/nipunaupeksha/Quirk/tree/2.search-get-request" rel="noopener ugc nofollow" target="_blank">到这一部分的所有文件。</a></p><h1 id="f5ed" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">Servlets基础知识—发布请求</h1><p id="9ca5" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">正如我们之前提到的，POST也是一种HTTP请求类型，它可以用于在服务器端发布/处理信息。通常，这用于将数据修改到数据存储中。数据存储可以是文本文件、XML文件、数据库等。例如，用户注册是一个POST请求，因为我们将数据发送到服务器端，以便它可以将这些声明存储在数据库中，从而为该站点创建您的身份。</p><p id="088f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我已经创建了一个包含注册表的<strong class="ih hj">register.html</strong>文件，你可以添加那个文件或者任何你喜欢的文件。转到我们的代码，我们首先要在我们的<strong class="ih hj">bean</strong>文件夹中实现另一个名为<strong class="ih hj">User.java</strong>的bean。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="9044" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，我们将转到<strong class="ih hj">ApplicationDao.java</strong>文件，为我们的用户注册添加另一个方法。之后的<strong class="ih hj">ApplicationDao.java</strong>文件的完整代码如下。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="b82f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，为了发布我们在web应用程序中插入的值，我们需要使用另一个servlet。为此，我们将在我们的<strong class="ih hj"> servlets </strong>文件夹中创建一个新的servlet，<strong class="ih hj">RegisterServlet.java。</strong></p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="0625" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，您可以看到我们正在做一个<strong class="ih hj"> doPost() </strong>方法，将数据发送到数据库并更新网页。但是为什么我们还要写一个<strong class="ih hj"> doGet() </strong>方法呢。这是因为我们使用超链接在网页中导航，而<code class="du lw lx ly lz b">&lt;a href=""&gt;&lt;/a&gt;</code>标签总是使用GET请求。因此，我们需要为网页上的标记设置一个默认值，这就是我们使用<strong class="ih hj"> doGet() </strong>方法的原因。</p><p id="d7fa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以从<a class="ae jd" href="https://github.com/nipunaupeksha/Quirk/tree/3.user-register-post-request" rel="noopener ugc nofollow" target="_blank">这里</a>找到本节的所有相关资料。您应该注意到的一件事是，对于我们的注册导航栏中的链接，我们已经为它指定了我们在servlet中提到的<strong class="ih hj"> registerUser </strong>路径。现在，如果一切都是正确的，你可以注册一个用户，并在数据库中看到结果。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mp"><img src="../Images/d19ca3733103be53adee5290da537427.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*su9jCI-IdJ-gnUZSf1Ky3Q.png"/></div></div><p class="ls lt et er es lu lv bd b be z dx translated">注册新用户</p></figure><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mq"><img src="../Images/2ce04d8ba2017cebe8b7a05f34a7ab4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zlEHJNkSEw2-tINg2hBS4g.png"/></div></div><p class="ls lt et er es lu lv bd b be z dx translated">用户注册成功。</p></figure><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mp"><img src="../Images/f7ba3104d979ffcf9864045d6eb4d5ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t7fzhu9TI3Q-8EP1tC0UzQ.png"/></div></div><p class="ls lt et er es lu lv bd b be z dx translated">我们数据库中的表用户</p></figure><h1 id="4b3b" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">Servlets中的转发</h1><p id="ffca" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">servlets中的转发是一个重要的概念，因为我们已经为GET和POST请求做了两个演示，所以现在是我们学习这个的时候了。要了解我们到目前为止的流程，请查看下图。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div class="er es mr"><img src="../Images/1bb551fa1ba64867ebc72955648cba8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*0NJ9wXdeWH-PCHULJ-ql6Q.png"/></div></figure><p id="bd1d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，请求从客户机发送到servlet，servlet将提取所请求的数据，并将其打包到对象中，然后调用DAO。然后DAO与数据库对话并将数据返回给servlets。servlets然后准备响应并将其返回给客户机。在这个过程中，我们要求servlet写回响应。但是通常在web应用程序中，所有的请求处理功能都不会封装到一个servlet中。通常需要将功能拆分到多个servlets上，以使代码更加模块化和可维护。在这种情况下，有必要了解如何将请求的控制权从一个servlet转移到另一个servlet。</p><p id="9d8b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了理解这一点，我们将创建一个名为<strong class="ih hj">login.jsp</strong>的新文件，并尝试实现登录功能。你可以从Github <a class="ae jd" href="https://github.com/nipunaupeksha/Quirk" rel="noopener ugc nofollow" target="_blank">库</a>中找到login.jsp<strong class="ih hj">文件。</strong></p><p id="cc46" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，当我们从导航栏点击<strong class="ih hj">登录</strong>链接时，我们将首先访问一个登录Servlet，然后通过它进入<strong class="ih hj">login.jsp</strong>。我们这样做是因为在URL中你可以看到我们正在访问的页面的资源位置，出于安全原因，我们必须隐藏它。现在让我们转到我们的项目，在<strong class="ih hj"> servlets </strong>文件夹中实现<strong class="ih hj">LoginServlet.java</strong>。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="ad31" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以看到我们用来进行转发的对象是<strong class="ih hj"> RequestDispatcher </strong>对象。现在，当我们从浏览器访问登录页面时，我们可以看到它只显示了<strong class="ih hj"> /login </strong>，而没有显示<strong class="ih hj"> /login.jsp </strong>。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mo"><img src="../Images/af1ffd1c7b2a6a0c6cc8dda8f023b9f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B6dE0FQ4IkRjSW04O819Iw.png"/></div></div><p class="ls lt et er es lu lv bd b be z dx translated">login.jsp·佩奇</p></figure><p id="d055" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">还有另一个名为<code class="du lw lx ly lz b">include</code>的方法可以与<strong class="ih hj"> RequestDispatcher一起使用。</strong>在这里，我们可以将第19行改为<code class="du lw lx ly lz b">dispatcher.include(req,resp);</code>，这将从登录servlet获取请求和响应，并将其与您从<strong class="ih hj">login.jsp</strong>页面获取的请求和响应合并，并将其呈现给web浏览器。这是使用转发的另一种方式。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><h1 id="2e94" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">Servlets中的重定向</h1><p id="99ac" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">现在我们来看看另一个有趣的话题，叫做“重定向”。重定向的含义是将控制权移交到当前应用程序上下文之外。为了展示重定向是如何工作的，我们将看看页脚中的社会元素。继续看代码，我们将在我们的<strong class="ih hj"> servlet </strong>文件夹中创建一个新类，为此创建<strong class="ih hj">RedirectServlet.java</strong>。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="a8c0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在转到<strong class="ih hj">index.jsp</strong>的页脚，将行<code class="du lw lx ly lz b">&lt;a href="#" class="footer__social"&gt;&lt;i class="bx bxl-instagram"&gt;&lt;/i&gt;&lt;/a&gt;</code>改为<code class="du lw lx ly lz b">&lt;a href="redirect" class="footer__social"&gt;&lt;i class="bx bxl-instagram"&gt;&lt;/i&gt;&lt;/a&gt;</code></p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es ma"><img src="../Images/68f9a1ae6c8b53c8d424957d4671a0ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F-myX6W4GlWskgkbO54mYg.png"/></div></div><p class="ls lt et er es lu lv bd b be z dx translated">我们网络应用的页脚</p></figure><p id="f4d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，如果你点击页脚的Instagram图标，你将被重定向到我的Instagram个人资料。你可以通过更改<strong class="ih hj">RedirectServlet.java</strong>类中的网址，将其更改为你的Instagram个人资料。</p><h1 id="889b" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">使用ServletConfig</h1><p id="5a6d" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">这是将配置信息传递给特定servlet的方式。例如，注册到一个web服务URL，像天气数据可以通过这个的config init参数读取。让我们看一个例子来进一步了解这一点。</p><p id="6617" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们的servlet类中已经有一个名为<strong class="ih hj">GetServlet.java</strong>的文件，我们可以为它定义一些初始化参数。如果您已经通过<strong class="ih hj"> web.xml </strong>映射了servlet，您可以像这样定义init参数。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="7b3e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，<code class="du lw lx ly lz b">&lt;param-name&gt;&lt;/param-name&gt;</code>可以有任何值，您想要关联的值应该在<code class="du lw lx ly lz b">&lt;param-value&gt;&lt;/param-value&gt;</code>内</p><p id="4718" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在转到我们的<strong class="ih hj">GetServlet.java</strong>文件，我们可以通过<strong class="ih hj"> ServletConfig </strong>对象来访问这个init参数值。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="21db" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，如果您运行tomcat服务器并转到/ <strong class="ih hj"> getServlet </strong>，您可以在IntelliJ终端中看到正在打印出<strong class="ih hj"> URL </strong>的值。现在，您可以将init参数值用于您的代码。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mo"><img src="../Images/b47edf4f64fdae5cc097029cff1dbb59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hq-PmQNtoSMrFoAyKwCh-A.png"/></div></div></figure><p id="23c0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你想在注释中使用这些初始化参数，也可以这样做。初始化参数的注释版本如下所示。记住在你的项目中只使用其中的一个。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><h1 id="3916" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">使用ServletContext</h1><p id="9393" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">servlet上下文API可用于传递整个应用程序的配置信息。对于servlet上下文对象，将会有参数，它们在部署描述符文件(在我们的例子中是<strong class="ih hj"> web.xml </strong>文件)中的<code class="du lw lx ly lz b">&lt;context-param&gt;</code>元素下定义。由于servlet上下文是针对整个应用程序的，所以它们不是附属于单个servlet，而是附属于整个应用程序，这就是为什么我们在<strong class="ih hj"> web.xml </strong>文件中定义与servlet上下文API相关的参数。我们可以编辑我们的<strong class="ih hj"> web.xml </strong>文件，如下所示，以使用servlet上下文。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="9807" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以在GetServlet.java文件中得到它的值。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="6a5c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们启动我们的tomcat服务器，并转到<strong class="ih hj"> /getServlet </strong>，您可以看到正在打印数据库URL。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es ma"><img src="../Images/feee4bd2a661ca5b8aa598b14299887d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IHkLwejSj7h3PqUo-QaPtQ.png"/></div></div></figure><h1 id="8299" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">使用请求/响应对象</h1><p id="9698" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">每当我们从客户机向服务器发出请求时，请求就用对象来表示。这是扩展servlet请求API并向HTTP servlets提供所有请求信息的对象。它由两部分组成，头和主体。头是请求可能需要的所有额外信息，比如从客户机发送到服务器的内容类型。主体是您随请求一起发送的数据。请求对象的一些重要API调用有:<code class="du lw lx ly lz b">request.getSession()</code>、<code class="du lw lx ly lz b">request.getHeader(String headerName)</code>、<code class="du lw lx ly lz b">reuqest.getRequestURI()</code>、<code class="du lw lx ly lz b">request.getParameter(String param)</code>、<code class="du lw lx ly lz b">request.getCookies()</code>和<code class="du lw lx ly lz b">request.getMethod()</code></p><p id="c2e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们看看响应对象。它还包含两个部分，头部和身体。响应对象的头类似于请求对象的头。主体包含您想要写回客户端的信息。有几个方法也与这个对象相关。但是响应对象的一些重要API调用有:<code class="du lw lx ly lz b">response.sendRedirect(String url)</code>、<code class="du lw lx ly lz b">response.addCookie(Cookie cookie)</code>、<code class="du lw lx ly lz b">response.encodeURL(String url)</code>、<code class="du lw lx ly lz b">response.setContentType(String contentType)</code>、<code class="du lw lx ly lz b">response.getStatus()</code>、<code class="du lw lx ly lz b">response.getWriter()</code></p><p id="d092" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以从<a class="ae jd" href="https://github.com/nipunaupeksha/Quirk/tree/4.forwarding-redirection-and-other-apis" rel="noopener ugc nofollow" target="_blank">这里</a>找到本节描述的代码。</p><h1 id="79cc" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">Servlet生命周期</h1><p id="fa76" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">在制作servlets时，我们只是创建了它们，并没有在任何地方实例化它们，即使我们使用的是Java。因此，现在是我们了解这些servlets背后的过程的时候了，以便了解它们实际上是如何工作的。为了理解这一点，我们应该研究servlet的生命周期。谈到servlet的生命周期，有几个要点。</p><ul class=""><li id="89de" class="ky kz hi ih b ii ij im in iq mf iu mg iy mh jc lf lg lh li bi translated">完全由服务器容器管理(在我们的例子中是tomcat)。</li><li id="548b" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">servlet的生命周期从第一个请求到来时开始。</li><li id="88e0" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">当取消部署应用程序或关闭服务器时，生命周期结束。</li></ul><p id="204d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以分两个阶段来看servlet的生命周期，</p><ol class=""><li id="6e8f" class="ky kz hi ih b ii ij im in iq mf iu mg iy mh jc ms lg lh li bi translated">当第一个请求进入servlet时。</li><li id="da85" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc ms lg lh li bi translated">当重复请求同一个servlet时。</li></ol><p id="5d81" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们看看servlet的更一般的生命周期。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div class="er es mt"><img src="../Images/e20e7988adf4c396a2ccd410e0aa1029.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/1*FUjXx2cF_BciHXksYKo06g.png"/></div></figure><p id="1d39" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里，<code class="du lw lx ly lz b">service()</code>方法来自<strong class="ih hj"> HTTPServlet </strong>类，<code class="du lw lx ly lz b">init()</code>和<code class="du lw lx ly lz b">destroy()</code>方法来自<strong class="ih hj"> GenericServlet </strong>抽象类。这里，<code class="du lw lx ly lz b">init()</code>方法是初始化servlet的方法，<code class="du lw lx ly lz b">service()</code>方法是相应地委托<code class="du lw lx ly lz b">doGet()</code>和<code class="du lw lx ly lz b">doPost()</code>方法的方法。这是你的请求被提供给用户的地方。当您的web应用程序将要终止或服务器将要关闭时,<code class="du lw lx ly lz b">destroy()</code>方法就会发挥作用。从以上三种方法中，<code class="du lw lx ly lz b">init()</code>和<code class="du lw lx ly lz b">destroy()</code>可以被覆盖，而<code class="du lw lx ly lz b">service()</code>方法不能被覆盖。</p><p id="fa8f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们转到我们的项目，在我们的<strong class="ih hj"> servlet </strong>包中创建一个新的servlet<strong class="ih hj">HomeServlet.java</strong>。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="cbcb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在您运行tomcat服务器并转到<strong class="ih hj"> /homeServlet </strong>，您可以在终端中看到一些输出。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mp"><img src="../Images/bfd7b17998918900052c074fe95aaa92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*at5WPjv1nG4GZ7nmqu7ruQ.png"/></div></div></figure><p id="a2b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，您可以看到来自<code class="du lw lx ly lz b">init()</code>和<code class="du lw lx ly lz b">services()</code>方法的输出，这是由于servlet的生命周期。如果我们关闭Tomcat服务器，我们也可以看到<code class="du lw lx ly lz b">destroy()</code>方法。</p><p id="37dc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以从<a class="ae jd" href="https://github.com/nipunaupeksha/Quirk/tree/5.servlet-life-cycle" rel="noopener ugc nofollow" target="_blank">这里</a>找到与上述章节相关的代码。</p><h1 id="514a" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">JSP基础</h1><p id="6efd" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">现在我们将看看JSP或Java服务器页面。当谈到JSP时出现的一个主要问题是，如果这些也是用HTML编写的，我们为什么还要使用JSP？很少有理由使用JSP而不是HTML，但是所有这些理由都是由于HTML的缺点。</p><ul class=""><li id="a026" class="ky kz hi ih b ii ij im in iq mf iu mg iy mh jc lf lg lh li bi translated">HTML页面只允许呈现静态数据。</li><li id="11d7" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">读写HTML模板的I/O操作是一个耗时的过程(正如我们在<strong class="ih hj">SearchResults.html</strong>中看到的)</li><li id="ea99" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">将CSS代码直接填入所有HTML是一个费力的过程</li><li id="dba7" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">专业的UI开发人员可能无法处理servlet代码。</li></ul><p id="dc31" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在看看JSP，它的主要优势是创建动态内容的能力。动态内容是根据用户请求给出定制响应的能力。例如，facebook的新闻提要部分因用户而异，但是为创建新闻提要元素而编写的代码对于任何用户都是相同的。用户从服务器获得他们自己定制的响应，这样新闻提要元素就能够适应这些响应并将它们显示给用户。</p><h1 id="846c" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">JSP元素</h1><p id="1257" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">JSP元素用于支持JSP页面上的Java或任何其他脚本代码。当我们在JSP中编写任何Java代码时，它们都被翻译并进入JSP的servlet文件。</p><p id="2546" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在开始编写代码之前，我们应该了解一些JSP元素的类型。</p><ul class=""><li id="cdd1" class="ky kz hi ih b ii ij im in iq mf iu mg iy mh jc lf lg lh li bi translated">Scriptlet: <code class="du lw lx ly lz b">&lt;%%&gt;</code> —帮助编写JSP上的Java语句</li><li id="e3d8" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">表达式:<code class="du lw lx ly lz b">&lt;%= %&gt;</code> —帮助评估JSP上的表达式</li><li id="f1ec" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">声明:<code class="du lw lx ly lz b">&lt;%!%&gt;</code> —帮助在页面的脚本语言中声明变量和方法；代码在servlet文件中作为单独的方法。</li></ul><p id="b212" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们回到我们的代码，看看如何应用它们。首先，我们将把<strong class="ih hj">searchResults.html</strong>的名字改为<strong class="ih hj">searchResults.jsp。现在转到我们的<strong class="ih hj">SearchServlet.java</strong>文件并修改代码，这样我们就可以在JSP页面上使用它了。</strong></p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="2d50" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以看到，我们正在设置一个属性，并用请求调度程序转发它，这样我们就可以在JSP页面上使用它。现在让我们转到<strong class="ih hj">searchResults.jsp</strong>页面，用JSP元素编辑它，这样我们就可以动态地使用内容了。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="c969" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以看到，从第55行到第59行，我们在<code class="du lw lx ly lz b">&lt;%%&gt;</code>中编写普通的Java代码，我们用另一个<code class="du lw lx ly lz b">&lt;%%&gt;</code>结束了第69行的<code class="du lw lx ly lz b">while</code>循环的花括号。现在，由于我们使用了Java对象，我们需要将相关的类导入到JSP中。我们正在通过<code class="du lw lx ly lz b">&lt;%@page import=""%&gt;</code>这样做，你可以看到从第2行到第5行的导入对象。现在最重要的部分是我们如何在<code class="du lw lx ly lz b">while</code>循环中设置动态内容。为了给各个字段赋值，我们去掉了之前使用的标记，用从<strong class="ih hj">产品</strong> bean中获得的属性替换它们，并用<code class="du lw lx ly lz b">&lt;%=&gt;</code>将它们括起来。现在，您可以启动Tomcat服务器，进行搜索，所有结果将出现在<strong class="ih hj">searchResults.jsp</strong>文件中。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mu"><img src="../Images/0427e194e732c1cdfc57548f97a61650.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uTLcx6onPS2D5UGGyU3YrQ.png"/></div></div><p class="ls lt et er es lu lv bd b be z dx translated">做一个搜索</p></figure><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mp"><img src="../Images/bc2e3f553874e53e05cb4e995594c952.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BtbCeTZZ5Dvj1cTI38fQrg.png"/></div></div><p class="ls lt et er es lu lv bd b be z dx translated">搜索结果</p></figure><p id="c96e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以看到，我们仍然需要修复“购物车中的商品”部分。我们将在以后研究如何解决这个问题。现在让我们看看如何在JSP中使用声明。为此，我们只需在网站上显示日期和时间。让我们稍微修改一下<strong class="ih hj">index.jsp</strong>文件，这样我们就可以看到它是如何被应用的。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="cb04" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以看到，我使用了第290行到第297行的声明，并使用了我在第40行定义的方法。这就是我们在JSP中使用声明的方式。现在，如果我们在我们的服务器上运行它，我们可以看到这样的输出。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mv"><img src="../Images/2b05659282f3676c7f420c56dbc2a0f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mGUD0pWywUs4vWsOqEwoiQ.png"/></div></div><p class="ls lt et er es lu lv bd b be z dx translated">index.jsp的日期和时间</p></figure><p id="227d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们看看JSP指令。JSP指令是用于翻译过程的特殊指令，它们不会作为页面的输出出现。谈到JSP页面，我们最常用的一些指令是:</p><ul class=""><li id="1792" class="ky kz hi ih b ii ij im in iq mf iu mg iy mh jc lf lg lh li bi translated">Page — <code class="du lw lx ly lz b">&lt;%@page%&gt;</code> —帮助导入类、配置错误页面、设置JSP会话以及设置页面的字符编码。这有很多属性，其中一些重要的是<code class="du lw lx ly lz b">import</code>、<code class="du lw lx ly lz b">buffer</code>、<code class="du lw lx ly lz b">contentType</code>和<code class="du lw lx ly lz b">extends</code></li><li id="7f24" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">包含— <code class="du lw lx ly lz b">&lt;%@include%&gt;</code> —允许包含JSP资源。例如，我们可以在像<strong class="ih hj">header.jsp</strong>这样的单独JSP文件中创建我们的头部分，并使用这个指令在我们的<strong class="ih hj">index.jsp</strong>文件中使用它，只需在<code class="du lw lx ly lz b">&lt;main&gt;&lt;/main&gt;</code>部分之前键入<code class="du lw lx ly lz b">&lt;%@include file="header.jsp"%&gt;</code>即可。</li><li id="76a3" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">Taglib — <code class="du lw lx ly lz b">&lt;%@taglib%&gt;</code> —为了定义一个定义了许多标签的标签库，我们使用TLD(标签库描述符)文件来定义标签。</li></ul><p id="6e81" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们看看JSP隐式对象。JSP隐式对象是已经在JSP上定义的对象，比如我们在<strong class="ih hj">searchResults.jsp</strong>文件中使用的<code class="du lw lx ly lz b">request</code>变量。有些是，</p><ul class=""><li id="266c" class="ky kz hi ih b ii ij im in iq mf iu mg iy mh jc lf lg lh li bi translated"><code class="du lw lx ly lz b">out</code> —帮助将输出写入JSP — JSPWriter</li><li id="4b50" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated"><code class="du lw lx ly lz b">request</code>—JSP页面请求— HTTPServletRequest</li><li id="ad65" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated"><code class="du lw lx ly lz b">response</code>—JSP页面请求— HTTPServletResponse</li><li id="66b3" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated"><code class="du lw lx ly lz b">session</code> —登录用户的会话对象— HTTPSession</li><li id="efaa" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated"><code class="du lw lx ly lz b">config</code> —表示ServletConfig对象</li><li id="a8d5" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated"><code class="du lw lx ly lz b">application</code> —表示ServletContext对象</li><li id="0517" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated"><code class="du lw lx ly lz b">exception</code> —代表异常，可用于错误页面</li><li id="4090" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated"><code class="du lw lx ly lz b">pageContext</code> —包含对所有隐式对象的引用，可用于访问页面信息</li></ul><p id="1902" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从<a class="ae jd" href="https://github.com/nipunaupeksha/Quirk/tree/6.jsp-fundamentals" rel="noopener ugc nofollow" target="_blank">这里</a>可以找到与上述章节相关的代码。</p><h1 id="fb7d" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">会话管理</h1><p id="1d5a" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">现在让我们了解会话管理。为了理解会话管理，我们首先需要理解HTTP的限制，因为它我们需要会话管理。由于HTTP是一种无状态协议，它不保存客户端和服务器之间的会话状态，因此会出现这种HTTP限制。例如，想象一个有几个页面的google表单，假设我们在第一页输入我们的名字，然后进入第二页，但是当我们回到第一页时，我们输入的细节不见了。这种事情不应该发生在web应用程序中。那么我们如何解决这个问题呢？答案是会话管理，servlet规范有用于会话跟踪的HTTPSession API。这是通过会话ID完成的。会话id交换可以通过cookies或URL重写来完成。</p><p id="c335" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，让我们看看如何通过cookies交换session-id。Cookies是存储在浏览器中的小块信息。当服务器为新用户生成一个会话id时，它会创建一个包含该会话id的cookie对象，并将其作为响应的一部分写入。然后我们就可以在我们的会议中使用它。这整个过程可以通过调用<code class="du lw lx ly lz b">getSession()</code> API来触发。</p><p id="8633" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将在cookies的帮助下，尝试解决之前无法解决的“购物车中的商品”问题。为此，我们将首先在我们的<strong class="ih hj"> servlet </strong>包<strong class="ih hj">ProductsServlet.java中编写一个servlet。</strong></p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="ab37" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将为会话管理更新我们的<strong class="ih hj">SearchServlet.java</strong>类。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div><p class="ls lt et er es lu lv bd b be z dx translated">T</p></figure><p id="7295" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，我们将更改<strong class="ih hj">searchResults.jsp</strong>来进行会话管理。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="ac02" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，如果您再次运行Tomcat服务器并在搜索后选择商品，您会发现购物车中的商品数量正在增加。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mo"><img src="../Images/682316394a1cb5b5f036a9d55fc765cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6Rvc_bWT7vV49cnF1IR13g.png"/></div></div></figure><p id="6a51" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们来理解交换会话id的第二种方式，URL重写。这实际上是在cookies被禁用的情况下发生的一个后备选项。这里，URL被重写，在末尾附加了会话id。为此，我们需要禁用浏览器中的cookie。我用的是谷歌chrome，在chrome中，你可以进入设置，搜索cookies，然后禁用cookies。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es ma"><img src="../Images/b6550e7961dae02da3542574412eb6e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hfCzjiB6CJMel4pKy5PDQA.png"/></div></div></figure><p id="fee1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们转到我们的代码，在<strong class="ih hj">LoginServlet.java</strong>文件中做一些修改。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="e6dc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，我们将在我们的<strong class="ih hj"> servlets </strong>文件夹中创建一个新的servlet<strong class="ih hj">ProfileServlet.java</strong>。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="1375" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于<strong class="ih hj">profile.jsp</strong>和<strong class="ih hj">home.jsp</strong>文件，我创建了<strong class="ih hj">index.jsp</strong>文件的副本并编辑它们。我做的最重要的事情之一是在<strong class="ih hj">home.jsp上使用<code class="du lw lx ly lz b">&lt;%=response.encodeURL("getProfileDetails)%&gt;</code>对URL进行编码。你可以在这里找到来自<a class="ae jd" href="https://github.com/nipunaupeksha/Quirk/tree/7.session-management" rel="noopener ugc nofollow" target="_blank">的文件</a>。现在，当我们在tomcat服务器上运行并登录时，您可以在URL中看到类似这样的内容。</strong></p><p id="5ce4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du lw lx ly lz b">http://localhost:8080/Quirk_war_exploded/getProfileDetails;jsessionid=B363CE37BB121D96DAF7248D6040DB64</code></p><p id="b4a2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为我们已经为一个用户进行了登录，所以我们也可以使用会话API为一个用户进行注销。为此，我们将在我们的<strong class="ih hj"> servlets </strong>文件夹中创建一个新的servlet，<strong class="ih hj">LogoutServlet.java</strong></p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="5e8e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我已经编辑了home.jsp<strong class="ih hj">页面的导航链接，这样注销功能就可以正常工作了。你可以从<a class="ae jd" href="https://github.com/nipunaupeksha/Quirk/tree/7.session-management" rel="noopener ugc nofollow" target="_blank">这里</a>找到与会话管理相关的文件。</strong></p><h1 id="7148" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">过滤器和监听器</h1><p id="a184" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">过滤器类是为请求的预处理和后处理而保留的，它们可以动态地拦截请求和响应。现在，我们将在web应用程序中实现一个过滤器，以便更熟悉过滤器API。首先，我们将向我们的<strong class="ih hj">ApplicationDao.java</strong>文件添加一个新的代码片段来验证用户。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="8323" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我们将在我们的<strong class="ih hj">LoginServlet.java</strong>文件中使用<code class="du lw lx ly lz b">validateUser()</code>方法。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="a2f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我们将相应地编辑<strong class="ih hj">login.jsp</strong>页面。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="3d42" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们将创建我们的第一个过滤器。我们将为过滤器创建一个名为<strong class="ih hj"> filters </strong>的新包，并创建我们的过滤器<strong class="ih hj">AuthenticationFilter.java</strong></p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="b302" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在有两种方法来验证这个过滤器，要么使用<strong class="ih hj"> web.xml </strong>要么使用注释。首先我们将看一下<strong class="ih hj"> web.xml </strong>文件。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="df4a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里需要注意的重要一点是<code class="du lw lx ly lz b">&lt;url-pattern&gt;&lt;/url-pattern&gt;</code>，你可以看到我们使用<code class="du lw lx ly lz b">/*</code>来表示。这意味着这个过滤器适用于所有的servlets。</p><p id="3cdc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们使用注释，我们可以像这样使用它。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="a657" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，如果您运行Tomcat服务器并登录web应用程序，您将看到您可以访问该配置文件。但是如果你将它的URL复制并粘贴到一个<strong class="ih hj">匿名窗口</strong>中，你会看到你被重定向回登录页面。这是因为隐名窗口不保存会话信息。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es ma"><img src="../Images/1de554f7595820c1c634a1917d887f3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cqn64g0KBiFHqD8Jyu7JFw.png"/></div></div><p class="ls lt et er es lu lv bd b be z dx translated">已重定向至匿名窗口中的登录页面</p></figure><p id="0fe8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们看看听众。web应用程序中会发生各种各样的事件，了解这些事件并做出正确的响应非常重要。这些类型的操作是通过监听器完成的。现在让我们回到我们的代码来学习更多关于侦听器的知识。我们将制作一个监听器来监听我们的连接。为此，首先，让我们创建一个名为<strong class="ih hj"> listeners </strong>的新包，并在其中创建一个新文件<strong class="ih hj">ApplicationListener.java</strong>。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="8b23" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，我们可以在<strong class="ih hj"> web.xml </strong>文件中配置监听器或者使用注释。如果我们要使用<strong class="ih hj"> web.xml </strong>文件，我们可以向它添加以下代码片段。</p><p id="9c61" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du lw lx ly lz b">&lt;listener&gt;&lt;listener-class&gt;com.example.quirk.listeners.ApplicationListener&lt;/listener-class&gt;&lt;/listener&gt;</code></p><p id="71d5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">或者我们可以使用注释，让它看起来像这样。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="eee7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，让我们转到<strong class="ih hj">ApplicationDao.java</strong>文件，对<code class="du lw lx ly lz b">searchProducts()</code>方法做一个方法重载。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="5787" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，我们将转到<strong class="ih hj">SearchServlet.java</strong>文件并编辑<code class="du lw lx ly lz b">doGet()</code>方法。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="22ca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，您启动tomcat服务器，您可以看到我们放入侦听器中的行正在被打印。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es ma"><img src="../Images/969bd828471b437e5b62a905c769dcdb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7Rry2b8oYcnoIOkoY1W8EA.png"/></div></div></figure><p id="7500" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以在<a class="ae jd" href="https://github.com/nipunaupeksha/Quirk/tree/8.filters-and-listeners" rel="noopener ugc nofollow" target="_blank">这里</a>找到讨论主题的源代码。</p><h1 id="707a" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated"><strong class="ak"> JSP标准动作和表达式语言</strong></h1><p id="1a6f" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">当我们在JSP页面中编写Java代码片段时，很明显，如果动态内容增加，代码会变得混乱和不可维护。对于企业应用程序来说，这是一个很大的问题，解决方案是JSP动作。JSP动作语法很简单，看起来像这个<code class="du lw lx ly lz b">&lt;jsp:<em class="ml">name of tag</em>/&gt;</code>，没有很多标签。因此，使用JSP动作有助于保持代码的可读性和完整性。一些最常用的JSP标准操作是，</p><ul class=""><li id="9227" class="ky kz hi ih b ii ij im in iq mf iu mg iy mh jc lf lg lh li bi translated"><code class="du lw lx ly lz b">&lt;jsp:useBean.../&gt;</code> —帮助实例化JSP上的bean或获取指定范围内的JSP上的bean。</li><li id="570c" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated"><code class="du lw lx ly lz b">&lt;jsp:forward.../&gt;</code> —将控制转发给上下文中的其他资源</li><li id="444c" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated"><code class="du lw lx ly lz b">&lt;jsp:include.../&gt;</code> —包括当前资源中的另一个资源</li><li id="9ea0" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated"><code class="du lw lx ly lz b">&lt;jsp:getProperty.../&gt;</code> —从JavaBean属性中获取并显示一个值</li><li id="1700" class="ky kz hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated"><code class="du lw lx ly lz b">&lt;jsp:setProperty.../&gt;</code> —为JavaBean属性设置值</li></ul><p id="05e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，让我们来看代码。首先，我们将转到<strong class="ih hj">ApplicationDao.java</strong>文件，并创建一个方法来获取用户的配置文件信息。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="1418" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们将转到<strong class="ih hj">ProfileServlet.java</strong>文件，并相应地更改<code class="du lw lx ly lz b">doGet()</code>方法。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="d23f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于我们使用index.jsp<strong class="ih hj">的副本</strong>作为profile.jsp<strong class="ih hj">的副本</strong>，我们现在要用我们的名字和姓氏来更改我们公司首席执行官的姓名。使用JSP动作来做这件事会让您了解如何使用JSP动作。所以修改后的profile.jsp页面看起来是这样的。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="f4cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">查看第222行和第225行，您可以了解如何使用JSP动作以及它们有多简单。现在，如果您运行Tomcat服务器并登录到您的配置文件，您可以看到类似这样的内容。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es ma"><img src="../Images/ecb70fe7e0bfda2e98bb0252ed5d0cdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sSUylcXYY4as0aK09K3qWg.png"/></div></div></figure><p id="5134" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以看到<strong class="ih hj">的名字Willa Greene </strong>被改成了<strong class="ih hj"> JSP Servlets。</strong>因为我输入的用户名和姓是他们。</p><p id="de11" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们来看看表情语言。表达式语言实际上比JSP动作更容易。你只需要把你想要的值放在<code class="du lw lx ly lz b">${}</code>里面就行了。例如，由于我们已经通过请求传递了<code class="du lw lx ly lz b">user</code>属性，我们将使用表达式语言再次更改<strong class="ih hj">profile.jsp</strong>页面。</p><figure class="kd ke kf kg fd kh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="82ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然，我添加了整个<strong class="ih hj">profile.jsp</strong>文件，但是我只修改了230行。你可以看到在JSP中使用表达式语言是多么容易。另外，我们也可以用表达式语言来做类似这样的简单操作，<code class="du lw lx ly lz b">${4+5*5}</code>现在我们运行tomcat服务器，我们可以看到类似这样的东西。</p><figure class="kd ke kf kg fd kh er es paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="er es mo"><img src="../Images/fe30ac8d9637ba764decf63fd52bd29a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CtqkE_lTZPyRmBdDCbeAcA.png"/></div></div></figure><p id="e460" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以看到，由于我们使用的表达式语言，名称<strong class="ih hj">杰克·瑞恩</strong>被更改为<strong class="ih hj"> JSP Servlets </strong>。要了解更多关于表达式语言的知识，您可以访问<a class="ae jd" href="https://www.tutorialspoint.com/jsp/jsp_expression_language.htm" rel="noopener ugc nofollow" target="_blank"><em class="ml">tutorialspoint.com</em></a>。您可以从<a class="ae jd" href="https://github.com/nipunaupeksha/Quirk/tree/9.jsp-actions" rel="noopener ugc nofollow" target="_blank">这里</a>访问我们在本节中使用的代码片段。</p><p id="24e9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是了！这是终点线！我知道这是一篇很长的博文，里面有很多东西。但是我希望当您使用JSP和servlets构建您的第一个web应用程序时，您会发现这一点很重要。这篇文章中也可能有一些错别字和错误。如有发现，请加私信。原来就是这样！干杯，编码快乐！</p><p id="2c90" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Git存储库链接—<a class="ae jd" href="https://github.com/nipunaupeksha/Quirk" rel="noopener ugc nofollow" target="_blank">https://github.com/nipunaupeksha/Quirk</a></p></div></div>    
</body>
</html>