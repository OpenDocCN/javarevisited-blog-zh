<html>
<head>
<title>Creating a springboot CRUD api Using the Jackson ObjectMapper</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Jackson ObjectMapper创建springboot CRUD api</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/creating-a-springboot-crud-api-using-the-jackson-objectmapper-a3457ec158ef?source=collection_archive---------1-----------------------#2021-06-05">https://medium.com/javarevisited/creating-a-springboot-crud-api-using-the-jackson-objectmapper-a3457ec158ef?source=collection_archive---------1-----------------------#2021-06-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/5074ee027f09b75fbbb8d2c36a40d480.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EyAYZe_kaXE1NmGEz7u2gQ.jpeg"/></div></div></figure><h1 id="e511" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="ak">概述</strong></h1><p id="8da8" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">本指南旨在让读者了解如何在基本POJOs(普通旧Java对象)中读写JSON，以及执行转换的其他功能。</p><p id="e417" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">要了解更多关于对象映射器的知识，这里的<a class="ae kr" href="https://www.baeldung.com/jackson" rel="noopener ugc nofollow" target="_blank">是一个很好的起点。</a></p><p id="cdad" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">我们将使用这个简单的crud <a class="ae kr" href="https://github.com/lifanica/objectmapper-crud-example" rel="noopener ugc nofollow" target="_blank">项目</a>作为本教程的基础。这是一个CRUD API，你可以在其中管理存储在MySql数据库中的产品；</p><p id="e636" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">在以后的帖子中，我们将使用这个项目作为添加新功能的基础。</p><p id="8ecb" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">在本教程中，我们将涵盖以下<strong class="jq hj">主题:</strong></p><p id="2c93" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">1-构建我们的产品类和属性，并使用JPA存储库实现；</p><p id="6f68" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">2-使用ObjectMapper将 <a class="ae kr" href="https://javarevisited.blogspot.com/2014/12/how-to-read-write-json-string-to-file.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj">序列化</strong> </a> <strong class="jq hj">和</strong> <a class="ae kr" href="https://javarevisited.blogspot.com/2018/02/how-to-parse-json-with-date-field-in-java-jackson-example.html#axzz5Xl8EXHhY" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj">反序列化JSON数据</strong> </a> <strong class="jq hj">】为我们的<em class="ks">产品</em>类创建<strong class="jq hj"> CRUD </strong>(创建、读取、更新、删除)端点，并使用相应的<strong class="jq hj">控制器(在项目中称为资源)</strong>和<strong class="jq hj">服务；</strong></strong></p><p id="7a4a" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">3-创建一个定制服务来处理应用程序中的请求和响应；</p><p id="3178" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">4-为3号中的客户服务创建一个自定义(DTO)注释，以应用于注释的类；</p><h1 id="dfb0" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="ak">入门</strong></h1><p id="f56f" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">我们首先需要用<a class="ae kr" href="https://start.spring.io/" rel="noopener ugc nofollow" target="_blank"> Spring Initializr </a>创建一个新项目。</p><p id="81cf" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">确保选择:</p><ul class=""><li id="61ec" class="kt ku hi jq b jr km jv kn jz kv kd kw kh kx kl ky kz la lb bi translated"><strong class="jq hj">JDK 8+；</strong></li><li id="107a" class="kt ku hi jq b jr lc jv ld jz le kd lf kh lg kl ky kz la lb bi translated"><a class="ae kr" rel="noopener" href="/javarevisited/6-best-maven-courses-for-beginners-in-2020-23ea3cba89"> <strong class="jq hj"> Maven </strong> </a> <strong class="jq hj">作为你的构建工具</strong></li></ul><p id="422e" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">在您的首选IDE上，将以下依赖项添加到POM.xml中</p><figure class="lh li lj lk fd ij"><div class="bz dy l di"><div class="ll lm l"/></div><p class="ln lo et er es lp lq bd b be z dx translated">d</p></figure><p id="1637" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated"><strong class="jq hj"> 1-创建我们的productity和ProductDTO类</strong>:</p><p id="4341" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">DTO(数据传输对象)通常是POCO(普通旧CLR对象)类的实例，用作封装数据并将其从应用程序的一层传递到另一层的容器。</p><p id="800e" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">在我们的例子中，我们将使用DTO，因为我们不想在发出请求时使用来自<strong class="jq hj"> ProductEntity </strong>的所有属性。</p></div><div class="ab cl lr ls gp lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="hb hc hd he hf"><p id="4d5b" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">让我们使用类级注释<a class="ae kr" href="http://javarevisited.blogspot.sg/2018/01/how-to-ignore-unknown-properties-parsing-json-java-jackson.html#axzz56KqU1RoL" rel="noopener ugc nofollow" target="_blank"><strong class="jq hj">@ JasonIgnoreProperties</strong></a>，它将忽略我们在POJO(Plain Old Java Object)中没有定义的每一个属性，当我们只是在JSON中寻找几个属性并且不想编写while映射时，这非常有用。</p><figure class="lh li lj lk fd ij"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="6241" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">因为我们不想在请求中定义所有的实体属性(只有名称和描述),所以让我们创建DTO:</p><p id="ad84" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">让我们用我们的自定义@DTO注释来注释我们的类，这样我们将创建的requestHandle服务就可以在我们<a class="ae kr" href="https://javarevisited.blogspot.com/2017/02/how-to-consume-json-from-restful-web-services-Spring-RESTTemplate-Example.html" rel="noopener ugc nofollow" target="_blank">消费</a>(desearalize)或<a class="ae kr" href="https://www.java67.com/2017/05/how-to-convert-java-object-to-json-using-Gson-example-tutorial.html" rel="noopener ugc nofollow" target="_blank">生成</a> (serealize)数据时应用。</p><figure class="lh li lj lk fd ij"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="24e9" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">2-创建<strong class="jq hj"> CRUD操作</strong></p><p id="b1fd" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">现在让我们创建一个接口，它将拥有所有未来实体的默认crud实现。让我们扩展<a class="ae kr" href="https://javarevisited.blogspot.com/2021/08/top-5-spring-data-jpa-courses-for-java.html" rel="noopener ugc nofollow" target="_blank"> JpaRepository </a>以受益于框架中已经实现的大多数方法:</p><figure class="lh li lj lk fd ij"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="7438" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">现在让我们定义我们的API端点:</p><p id="e9b1" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">注意，在create方法中，我们接收ProductEntity作为我们的RequestBody(JSON ),并让Jackson。ObjectMapper将其反序列化到我们的POJO中。</p><figure class="lh li lj lk fd ij"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="5f09" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">现在我们使用<a class="ae kr" href="https://www.java67.com/2021/01/spring-data-jpa-interview-questions-answers-java.html" rel="noopener ugc nofollow" target="_blank"> JpaRepository </a>进行crud实现:</p><figure class="lh li lj lk fd ij"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="531a" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated"><strong class="jq hj"> 3-创建一个定制服务来处理我们的应用程序中的请求和响应</strong></p><p id="01bd" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">让我们创建自己的服务来处理<a class="ae kr" href="http://javarevisited.blogspot.sg/2013/04/convert-json-array-to-string-array-list-java-from.html#axzz4j841d8w3" rel="noopener ugc nofollow" target="_blank">传入/传出的JSON数据</a>:</p><figure class="lh li lj lk fd ij"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="006b" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">现在让我们制作一个拦截器，并为每个请求添加验证。</p><figure class="lh li lj lk fd ij"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="bbc5" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated"><strong class="jq hj"> 4-创建自定义注释</strong></p><p id="608f" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">现在让我们创建我们的自定义注释，这样服务就可以应用到带注释的类:</p><p id="025e" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">这个注释将确保所提供的对象会得到我们在DTOHandler.java和ResponseDTO.java类中定义的处理。</p><figure class="lh li lj lk fd ij"><div class="bz dy l di"><div class="ll lm l"/></div></figure><figure class="lh li lj lk fd ij"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="3950" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated"><strong class="jq hj">让我们用</strong> <a class="ae kr" rel="noopener" href="/javarevisited/7-best-courses-to-learn-postman-tool-for-web-service-and-api-testing-f225c138fa5a?source=---------13------------------"> <strong class="jq hj">邮差</strong> </a>来测试我们的API</p><figure class="lh li lj lk fd ij er es paragraph-image"><a href="https://javarevisited.blogspot.com/2020/02/top-5-postman-tutorials-and-courses-for-web-developers.html"><div class="er es ly"><img src="../Images/5956e893d8a0cafd851e42e813f738c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_UTK5-zYPrWXNZrlVSGhSg.png"/></div></a></figure><p id="04d6" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated"><strong class="jq hj"> 5。结论</strong></p><p id="092a" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">在本教程中，我们采用了一种快速的方法来构建一个具有CRUD操作的<a class="ae kr" rel="noopener" href="/javarevisited/top-5-books-and-courses-to-learn-restful-web-services-in-java-using-spring-mvc-and-spring-boot-79ec4b351d12?source=---------17------------------"> spring boot API </a>，使用ObjectMapper将JSON反序列化和序列化为POJOs，反之亦然。</p><h1 id="0b69" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">源代码</h1><p id="4b26" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">关于这个<a class="ae kr" href="https://github.com/lifanica/objectmapper-crud-example" rel="noopener ugc nofollow" target="_blank">回购</a>的完整项目。</p><p id="7793" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated"><strong class="jq hj">感谢阅读！希望这对你有所帮助！！请随意留下任何评论。</strong></p></div></div>    
</body>
</html>