<html>
<head>
<title>What is Dependency Injection and how to use it in Java with Spring</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是依赖注入，如何在Java和Spring中使用它</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/what-is-dependency-injection-and-how-to-use-it-in-java-with-spring-516a605d671e?source=collection_archive---------1-----------------------#2022-04-03">https://medium.com/javarevisited/what-is-dependency-injection-and-how-to-use-it-in-java-with-spring-516a605d671e?source=collection_archive---------1-----------------------#2022-04-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/b8772d37d51183f1e17ea844fcab738b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nya9RFg4xJORIpWH3jECvw.jpeg"/></div></div></figure><p id="fe93" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">嗨，今天我将尝试用简单的方式描述两件事:依赖注入和控制反转。</p><p id="1b42" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jo" href="https://javarevisited.blogspot.com/2015/06/difference-between-dependency-injection.html" rel="noopener ugc nofollow" target="_blank">依赖注入</a>是一种设计模式，用于帮助改善代码耦合，使其更具可读性，同时也改善项目中类之间的责任分解。</p><p id="9e4c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这也是练习控制反转的一种方式。</p><p id="47d6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">但是什么是<a class="ae jo" href="https://javarevisited.blogspot.com/2012/12/inversion-of-control-dependency-injection-design-pattern-spring-example-tutorial.html#axzz6u4HTHz4Z" rel="noopener ugc nofollow" target="_blank">控制反转</a>？</p><p id="50e5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">基本上，这是一种在类内部操纵对象的方法。看看这个:</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="1ba5" class="jy jz hi ju b fi ka kb l kc kd">import br.com.clinicalosacco.app.adapters.controllers.request.SecretariaRequest;<br/>import br.com.clinicalosacco.app.adapters.jpa.SecretariaJpa;<br/>import br.com.clinicalosacco.app.domain.usecases.SecretariaService;<br/>import lombok.RequiredArgsConstructor;<br/>import org.springframework.http.HttpStatus;<br/>import org.springframework.http.ResponseEntity;<br/>import org.springframework.web.bind.annotation.*;<br/><br/>@RestController<br/>@RequestMapping("/secretaries")<br/>public class SecretaryController {<br/><br/>    private SecretaryService service = new SecretaryJpa();<br/><br/>    @GetMapping<br/>    public ResponseEntity&lt;?&gt; list(){<br/>        return ResponseEntity.<em class="ke">ok</em>(service.listar());<br/>    }</span><span id="eb42" class="jy jz hi ju b fi kf kb l kc kd">}</span></pre><p id="c6c1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你是否注意到你必须实例化一个<code class="du kg kh ki ju b">SecretaryService</code>？</p><p id="c811" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">SecretaryController类知道如何创建SecretaryController类的对象，如果这个<a class="ae jo" href="https://javarevisited.blogspot.com/2012/12/what-is-constructor-in-java-example-chainning-overloading.html" rel="noopener ugc nofollow" target="_blank">构造函数</a>被修改，SecretaryController类将直接受到影响。那不公平，她只是想用一些服务来做她的运营。</p><p id="1bf9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为此，我们可以修改<code class="du kg kh ki ju b">SecretaryController </code>类来注入SecretaryService类，并让应用程序决定何时创建它。<br/>这在<a class="ae jo" rel="noopener" href="/javarevisited/10-best-online-courses-to-learn-spring-framework-in-2020-f7f73599c2fd"> Spring </a>中并不复杂，这里我们将使用构造函数依赖注入，如下所示:</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="e28d" class="jy jz hi ju b fi ka kb l kc kd">import br.com.clinicalosacco.app.adapters.controllers.request.SecretariaRequest;<br/>import br.com.clinicalosacco.app.adapters.jpa.SecretariaJpa;<br/>import br.com.clinicalosacco.app.domain.usecases.SecretariaService;<br/>import lombok.RequiredArgsConstructor;<br/>import org.springframework.http.HttpStatus;<br/>import org.springframework.http.ResponseEntity;<br/>import org.springframework.web.bind.annotation.*;<br/><br/>@RestController<br/>@RequestMapping("/secretaries")<br/>public class SecretaryController {<br/><br/>    private SecretaryService service;</span><span id="06ba" class="jy jz hi ju b fi kf kb l kc kd">    public SecretaryController(SecretaryService service){<br/>        this.service = service;<br/>    }</span><span id="48cc" class="jy jz hi ju b fi kf kb l kc kd">    @GetMapping<br/>    public ResponseEntity&lt;?&gt; list(){<br/>        return ResponseEntity.<em class="ke">ok</em>(service.listar());<br/>    }</span><span id="ef27" class="jy jz hi ju b fi kf kb l kc kd">}</span></pre><p id="30cb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">或者你可以使用一个<a class="ae jo" href="https://javarevisited.blogspot.com/2021/08/how-to-use-lombok-library-in-java.html" rel="noopener ugc nofollow" target="_blank"> lombok注释</a>:</p><pre class="jp jq jr js fd jt ju jv jw aw jx bi"><span id="1c17" class="jy jz hi ju b fi ka kb l kc kd">import br.com.clinicalosacco.app.adapters.controllers.request.SecretariaRequest;<br/>import br.com.clinicalosacco.app.adapters.jpa.SecretariaJpa;<br/>import br.com.clinicalosacco.app.domain.usecases.SecretariaService;<br/>import lombok.RequiredArgsConstructor;<br/>import org.springframework.http.HttpStatus;<br/>import org.springframework.http.ResponseEntity;<br/>import org.springframework.web.bind.annotation.*;<br/><br/>@RestController<br/>@RequestMapping("/secretaries")<br/>@RequiredArgsConstructor<br/>public class SecretaryController {<br/><br/>    private final SecretaryService service;</span><span id="7eb9" class="jy jz hi ju b fi kf kb l kc kd">    @GetMapping<br/>    public ResponseEntity&lt;?&gt; list(){<br/>        return ResponseEntity.<em class="ke">ok</em>(service.listar());<br/>    }</span><span id="e000" class="jy jz hi ju b fi kf kb l kc kd">}</span></pre><p id="e383" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">恭喜，这是一个如何使用依赖注入应用控制反转的例子。</p></div></div>    
</body>
</html>