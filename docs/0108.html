<html>
<head>
<title>Three “F”s In Java</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Java 中的三个 F</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/three-f-s-in-java-eb7edc8a0627?source=collection_archive---------8-----------------------#2019-08-04">https://medium.com/javarevisited/three-f-s-in-java-eb7edc8a0627?source=collection_archive---------8-----------------------#2019-08-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><a href="https://javarevisited.blogspot.com/2012/11/difference-between-final-finally-and-finalize-java.html#axzz5WKm9BB8F"><div class="er es if"><img src="../Images/05583b8648e1da38d4b3f413fbef0a3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/1*A7bELVjGKigxK7lW70RPeA.jpeg"/></div></a></figure><p id="8483" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">java 中三个重要的 Fs 是 final，finally &amp; finalize。知道什么时候使用它们、它们做什么非常重要，从面试的角度来看，知道这些也很好。</p><ol class=""><li id="4ddb" class="jk jl hi io b ip iq it iu ix jm jb jn jf jo jj jp jq jr js bi translated"><strong class="io hj">最终关键字:</strong></li></ol><p id="6232" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">它是 java 中的保留关键字，意思是不能用作标识符。所以让我们看看如何使用它-</p><p id="99e0" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jt"> a) final 变量:</em>当我们用 final 声明一个变量时，它的值不能被修改，即常量。这意味着我们必须初始化最终变量一次(<em class="jt">只有一次</em>)，可能是在声明期间或者之后。</p><pre class="ju jv jw jx fd jy jz ka kb aw kc bi"><span id="04e0" class="kd ke hi jz b fi kf kg l kh ki"><em class="jt">// a final variable - direct initialization</em><br/>final int VALUE = 5;</span><span id="713f" class="kd ke hi jz b fi kj kg l kh ki"><em class="jt">// a final static variable - direct initialization</em><br/>static<!-- --> <!-- -->final<!-- --> <!-- -->double<!-- --> <!-- -->PI = 3.141592653589793;</span><span id="ce64" class="kd ke hi jz b fi kj kg l kh ki"><em class="jt">// a blank final variable - initialized later</em><br/>final int VALUE;<br/>VALUE=10;</span></pre><p id="8061" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果任何对象引用变量被声明为 final，那么这意味着 final 引用变量在其整个生命周期中永远不能引用不同的对象，但是对象(引用变量所引用的对象)中的数据可以被修改。</p><pre class="ju jv jw jx fd jy jz ka kb aw kc bi"><span id="d2be" class="kd ke hi jz b fi kf kg l kh ki">public class Test<br/>{ <br/>  ----------<br/>  ----------<br/>  <!-- -->public static void main(String[] args) <br/>  {<br/>    <!-- -->final Test test = new Test();<br/>    test.setName("Jaydeep");<br/>    <em class="jt">//this is allowed, as we are only changing content of object</em><br/>    test.setName("Rishi");<br/>    <br/>    Test test_new = new Test();<br/>    <em class="jt">//not allowed as test object is final and <br/>    //can't refer to different object</em><br/>    test = test_new();</span><span id="f559" class="kd ke hi jz b fi kj kg l kh ki">  }   </span><span id="5f21" class="kd ke hi jz b fi kj kg l kh ki">}</span></pre><p id="0c9a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jt"> b) final 类:</em>当你声明一个类为 final 时，这意味着没有其他类(在相同或不同的包中)可以扩展这个类(final 类)，换句话说，final 类永远不能被子类化。所有包装类，如整数、浮点等。是最后一门课。我们不能延长他们。</p><p id="71a2" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">final with classes 的另一个用途是创建不可变的类，比如预定义的 tring 类。如果不使一个类成为 final，就不能使它成为不可变的。</p><p id="cd80" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jt"> c) final 方法:</em>当我们将任何方法声明为 final 时，它都可以被覆盖。使一个方法成为 final 的主要意图是方法的内容不应该被子类改变。java.lang.Object 类中的方法数是最终的。</p><p id="2d5b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj"> 2。最后关键词:</strong></p><p id="9b58" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这是 java 中的保留关键字，意思是不能用作标识符。finally 关键字与一个<a class="ae kk" href="https://www.geeksforgeeks.org/flow-control-in-try-catch-finally-in-java/" rel="noopener ugc nofollow" target="_blank"> try/catch 块</a>一起使用，保证一段代码将被执行，即使抛出一个异常。finally 块将在 try 和 catch 块之后，但在控制转移回其原点之前执行。</p><p id="7ebf" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">使用 finally 关键字的主要目的是释放资源。这意味着我们在 try block 中打开的所有资源(如网络连接、数据库连接)都需要关闭，这样我们就不会在打开时丢失资源。所以这些资源需要在 finally 块中关闭。</p><p id="240a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">但是从 jdk 1.7 开始，finally block 现在是可选的(不过您可以使用它)。因为当程序流到达 try 块的末尾时，我们在 try 块中打开的资源将自动被释放/关闭。<br/>这种不使用 finally 块的自动资源释放概念被称为 try-with-resource 语句。</p><p id="3b63" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj"> 3)最终确定方法:</strong></p><p id="90f9" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">根据<a class="ae kk" href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#finalize%28%29" rel="noopener ugc nofollow" target="_blank"> Javadoc </a>(值得一读)，它是:</p><p id="42a1" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jt">当垃圾回收确定不再有对对象的引用时，由对象上的垃圾回收器调用。</em></p><p id="b776" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">当一个对象将要被垃圾收集时，调用<code class="du kl km kn jz b">finalize</code>方法。这可能是在它有资格进行垃圾收集之后的任何时候。一旦 finalize 方法完成，垃圾收集器立即销毁该对象。由于对象类包含 finalize 方法，因此 finalize 方法可用于每个 java 类，因为对象是所有 java 类的超类。</p><p id="e12f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">此外，垃圾收集器不能保证在任何特定时间运行。总的来说，我想说的是，如果你依赖于<code class="du kl km kn jz b">finalize</code>来正确操作你的应用程序，那么你就做错了。</p></div></div>    
</body>
</html>