# Spring 远程代码执行漏洞

> 原文：<https://medium.com/javarevisited/spring-remote-code-execution-vulnerability-fd5ec92e2864?source=collection_archive---------2----------------------->

![](img/8e0295be33aaaf0f4681099f23a70b0b.png)

首先，我想说我不是安全专家。我也不会链接到漏洞。这是一个全新的漏洞，但是已经有来自 Sonatype 的确认。目前的漏洞似乎仅限于 Tomcat 上的 [Spring](/javarevisited/10-best-online-courses-to-learn-spring-framework-in-2020-f7f73599c2fd) ，但它可能会被修改，因为潜在的漏洞似乎足够普遍。

该漏洞只影响 Java 9 或更新的版本，所以如果你有一个旧版本，你应该不会受到这种攻击。

核心问题是与一辆[旧 RCE](https://nvd.nist.gov/vuln/detail/CVE-2010-1622) 相关的回归，这辆旧在这里被[修复。](https://github.com/spring-projects/spring-framework/commit/3a5af35d37c79d0644d49b93f792a4c18fe8eb71#diff-ea765e78a703581fb519933028fbd6d7ac8386d57b805b395d04910de9a33f4cR245)

问题是 [Java 9 模块系统](/hackernoon/top-10-java-9-tutorials-and-courses-best-of-lot-must-read-9a25c511a573)增加了表面积。因此，最初对 RCE 的修复已经不够了。

# 工作区

这其实很简单… [赛博肯德拉包含了一个解决方案](https://www.cyberkendra.com/2022/03/springshell-rce-0-day-vulnerability.html)并且[禁卫军](https://www.praetorian.com/blog/spring-core-jdk9-rce/)也提到了它。这似乎是一个谨慎的事情，我建议你尽快加入！

# 侦查

如果您的服务器中有 [Lightrun](https://lightrun.com/) ，您可以通过在`BeanWrapperImpl`类中放置一个快照来立即检测到这是否被利用，正如我在这个 twitter 视频中解释的那样。