<html>
<head>
<title>Spring-boot + Apache Kafka</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">春靴+阿帕奇卡夫卡</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/maheshiare-spring-boot-kafka-demo-43c67e178f12?source=collection_archive---------2-----------------------#2021-05-28">https://medium.com/javarevisited/maheshiare-spring-boot-kafka-demo-43c67e178f12?source=collection_archive---------2-----------------------#2021-05-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="d8bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">#春天-靴子-卡夫卡-演示</p><p id="09ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一个简单的spring应用程序，使用Spring boot开发，演示了Apache Kafka  的集成，它在内部用于将不同的Kafka实例作为一个集群进行管理。</p><p id="1624" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">主题</strong>:主题是生产者发布数据流的唯一表示或类别。一个主题将被零个或多个消费者订阅以接收数据。</p><p id="d566" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">生产者</strong>:生产者负责向一个或多个主题发送数据，并将数据分配给主题内的分区。</p><p id="c1c9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">消费者</strong>:当生产者将数据发送给主题时，消费者负责消费来自一个或多个主题的数据。</p><p id="c24b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Apache Kafka有一个内置的系统，如果在处理数据时出现任何故障，它会重新发送数据，通过这个内置的机制，它具有高度的容错能力。</strong></p><p id="1af1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">此应用程序需要Kafka和Zookeeper设置。</strong>可以从这里下载Kafka设置Kafka<a class="ae jd" href="https://kafka.apache.org/downloads" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">-2 . 8 . 0-src</strong></a>。下载后，解压到您的本地机器。如果您使用的是Mac，请导航到提取的文件夹，并使用windows Powershell/terminal运行以下命令。</p><p id="b003" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">运行zookeeper服务器</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="f1ea" class="jn jo hi jj b fi jp jq l jr js">.\bin\windows\zookeeper-server-start.bat .\config\zookeeper.properties (Windows) </span><span id="9bac" class="jn jo hi jj b fi jt jq l jr js">.\bin\zookeeper-server-start.sh .\config\zookeeper.properties (linux)</span></pre><p id="2149" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">运行Kafka实例</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="a0e9" class="jn jo hi jj b fi jp jq l jr js">.\bin\windows\kafka-server-start.bat .\config\server.properties (Windows) </span><span id="e1b1" class="jn jo hi jj b fi jt jq l jr js">.\bin\kafka-server-start.sh .\config\server.properties (linux)</span></pre><p id="1304" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">运行上述命令时，您可能会遇到以下问题:</p><p id="6c78" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将以下依赖项添加到pom.xml中</p><p id="3581" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Spring boot消除了为Kafka消费者/生产者编写配置类的所有锅炉模板代码，只需将下面的配置添加到您的application.properties/application.yml文件中</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="f8e4" class="jn jo hi jj b fi jp jq l jr js">spring.kafka.topic=&lt;topic-name&gt; <br/>spring.kafka.topic.group.id=&lt;consumer-group-id&gt; </span><span id="d463" class="jn jo hi jj b fi jt jq l jr js">## kafka consumer config ## <br/>spring.kafka.consumer.bootstrap-servers=localhost:9092 spring.kafka.consumer.group-id=${spring.kafka.topic.group.id} spring.kafka.consumer.auto-offset-reset=earliest spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer <br/>spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.ErrorHandlingDeserializer </span><span id="2b3c" class="jn jo hi jj b fi jt jq l jr js">spring.kafka.consumer.properties.spring.deserializer.value.delegate.class: org.springframework.kafka.support.serializer.JsonDeserializer </span><span id="4987" class="jn jo hi jj b fi jt jq l jr js">spring.kafka.consumer.properties.spring.json.value.default.type=com.java.techhub.kafka.demo.model.UserDetails </span><span id="15e0" class="jn jo hi jj b fi jt jq l jr js">## kafka producer config ## <br/>spring.kafka.producer.bootstrap-servers=localhost:9092 spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer <br/>## Optional configuration ## <br/>spring.kafka.producer.client-id=producer-${random.uuid} spring.kafka.consumer.client-id=consumer-${random.uuid}</span></pre><p id="159f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">项目的核心组成部分</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="edcc" class="jn jo hi jj b fi jp jq l jr js">MessagePublishController - &gt; POST - /api/publish - To publish message to a topic with payload as user details object </span><span id="82ba" class="jn jo hi jj b fi jt jq l jr js">MessagePublisher - &gt; Service used for publishing messages to Kafka topic using KafkaTemplate </span><span id="27ad" class="jn jo hi jj b fi jt jq l jr js">MessageConsumer - &gt; Listener for consuming the messages from kafka topic, uses @KafkaListener annotation </span><span id="7f8d" class="jn jo hi jj b fi jt jq l jr js">@EnableKafka - &gt; Annotation used for activating methods annotated with @KafkaListener annotation as message consumers</span></pre><p id="614f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您有与项目相关的问题，请在此处用您的问题创建票证<a class="ae jd" href="https://github.com/MaheshIare/spring-boot-kafka-demo/issues" rel="noopener ugc nofollow" target="_blank">创建问题</a></p><p id="64f8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">马赫什·库马尔·古塔姆</p><p id="448e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请随时给我发送一些反馈或问题！</p></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="45bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kb">原载于</em><a class="ae jd" href="https://github.com/MaheshIare/spring-boot-kafka-demo" rel="noopener ugc nofollow" target="_blank"><em class="kb">https://github.com</em></a><em class="kb">。</em></p></div></div>    
</body>
</html>