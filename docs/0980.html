<html>
<head>
<title>Java Streams for Beginners</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向初学者的Java流</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/java-streams-for-beginners-105ed3aa2f74?source=collection_archive---------0-----------------------#2021-02-07">https://medium.com/javarevisited/java-streams-for-beginners-105ed3aa2f74?source=collection_archive---------0-----------------------#2021-02-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/9acd88bd06a7522dee0f28c873e31aa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZivgMuoVKGP1-b_PKt1yDg.jpeg"/></div></div><p class="iq ir et er es is it bd b be z dx translated">Wjatscheslaw Spiemann 在<a class="ae iu" href="https://unsplash.com/s/photos/stream?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="03e8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Java 8中引入了流API。它用于处理对象的集合。在流和Lambda函数的帮助下，我们可以编写干净、简洁和可理解的代码。</p><p id="87d9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">流是操作的管道，我们可以用它来评估数据。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><a href="https://javarevisited.blogspot.com/2018/08/top-5-java-8-courses-to-learn-online.html"><div class="er es jt"><img src="../Images/7e2a826fbd5dc4f7a3ccb87e6700dd65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T6EGTlyOvMOoOIgn9xGybA.png"/></div></a></figure><p id="a445" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" rel="noopener" href="/javarevisited/7-best-java-tutorials-and-books-to-learn-lambda-expression-and-stream-api-and-other-features-3083e6038e14?source=---------14------------------">流</a>有中间和终端操作，我们可以根据自己的要求使用。以下是操作列表:</p><p id="db36" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">中间</strong> <strong class="ix hj">操作</strong>:查看、平面映射、限制、排序、相异、映射、过滤等</p><p id="f8e5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">终端</strong> <strong class="ix hj">操作</strong> : noneMatch、allMatch、collect、findAny、findFirst、anyMatch、toArray、reduce、min、max、forEach、collect、count等。</p><h2 id="1692" class="jy jz hi bd ka kb kc kd ke kf kg kh ki jg kj kk kl jk km kn ko jo kp kq kr ks bi translated">我们如何创建一个流对象？</h2><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="ff8e" class="jy jz hi ku b fi ky kz l la lb">List&lt;Integer&gt; numbers = Arrays.<em class="lc">asList</em>(1,2,3,4,5,6,7,8,9,10);<br/>Stream&lt;Integer&gt; numberStream = numbers.stream();<br/>Stream&lt;Integer&gt; newNumberStream = Stream.<em class="lc">of</em>(1,2,3,4,5,6,7,8,9,10);</span></pre><p id="7f1e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">上面提到的两种方法都为我们提供了流对象。要么我们在<a class="ae iu" rel="noopener" href="/javarevisited/50-java-collections-interview-questions-for-beginners-and-experienced-programmers-4d2c224cc5ab">集合对象</a>上调用<strong class="ix hj"> <em class="lc"> stream() </em> </strong>方法，要么我们直接将值传递给<strong class="ix hj"> Stream.of() </strong>方法。</p><h2 id="b5bb" class="jy jz hi bd ka kb kc kd ke kf kg kh ki jg kj kk kl jk km kn ko jo kp kq kr ks bi translated">让我们看看流中的<strong class="ak">中间方法</strong>是如何工作的:</h2><ol class=""><li id="d41c" class="ld le hi ix b iy lf jc lg jg lh jk li jo lj js lk ll lm ln bi translated"><strong class="ix hj">地图:</strong></li></ol><p id="a719" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" rel="noopener" href="/javarevisited/how-to-use-streams-map-filter-and-collect-methods-in-java-1e13609a318b"> map() </a>方法用于对集合列表执行操作。让我们看看如何创建一个给定列表中所提供数量的立方体列表。</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="ecd8" class="jy jz hi ku b fi ky kz l la lb">List&lt;Integer&gt; numbers = Arrays.<em class="lc">asList</em>(1,2,3,4,5,6,7,8,9,10);<br/><br/>List&lt;Integer&gt; cubedNumbers= numbers.stream()<br/>        .map(x -&gt; x*x*x).collect(Collectors.<em class="lc">toList</em>());<br/><br/>System.<em class="lc">out</em>.print(cubedNumbers);</span></pre><p id="e2b3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们在这里看到的输出是:</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="6865" class="jy jz hi ku b fi ky kz l la lb">[1, 8, 27, 64, 125, 216, 343, 512, 729, 1000]</span></pre><p id="249c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 2。过滤器:</strong></p><p id="8c71" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" href="https://www.java67.com/2018/03/java-8-stream-find-first-and-filter-example.html" rel="noopener ugc nofollow" target="_blank"> filter( </a>)方法，用于根据我们的条件过滤出结果。现在让我们考虑从1到10的数字列表中过滤出偶数。</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="9fcf" class="jy jz hi ku b fi ky kz l la lb">List&lt;Integer&gt; numbers = Arrays.<em class="lc">asList</em>(1,2,3,4,5,6,7,8,9,10);<br/><br/>List&lt;Integer&gt; evenNumbers = numbers.stream()<br/>        .filter(x -&gt; x%2==0).collect(Collectors.<em class="lc">toList</em>());<br/><br/><br/> System.<em class="lc">out</em>.print(evenNumbers);</span></pre><p id="59c8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">输出将是:</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="d94a" class="jy jz hi ku b fi ky kz l la lb">[2, 4, 6, 8, 10]</span></pre><p id="b412" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 3。排序:</strong></p><p id="1487" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，如果您希望对给定的集合进行排序，<a class="ae iu" rel="noopener" href="/javarevisited/7-best-java-collections-and-stream-api-courses-for-beginners-in-2020-3ad18d52c38"> Streams </a>将为您服务！！您可以使用sorted()方法作为排序的中间函数。</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="06c2" class="jy jz hi ku b fi ky kz l la lb">List&lt;Integer&gt; numbers = Arrays.<em class="lc">asList</em>(6,7,8,1,4,5,9,10,2,3);</span><span id="3153" class="jy jz hi ku b fi lo kz l la lb">List&lt;Integer&gt; sortedList = numbers.stream().sorted().collect(Collectors.<em class="lc">toList</em>());<br/><br/>System.<em class="lc">out</em>.print(sortedList);</span></pre><p id="b74a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里的输出将是:</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="007a" class="jy jz hi ku b fi ky kz l la lb">[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span></pre><p id="e858" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 4。平面图:</strong></p><p id="203c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" href="http://www.java67.com/2016/03/how-to-use-flatmap-in-java-8-stream.html" rel="noopener ugc nofollow" target="_blank"> flatMap() </a>用于将2级流转换为1级流。简而言之，如果我们有一个由ArrayList组成的arrayList集合，那么在flatMap()的帮助下，我们可以将它们转换成一个单独的arrayList。</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="f918" class="jy jz hi ku b fi ky kz l la lb">List&lt;Integer&gt; list1 = Arrays.<em class="lc">asList</em>(1,2,3);<br/>List&lt;Integer&gt; list2 = Arrays.<em class="lc">asList</em>(4,5,6);<br/>List&lt;Integer&gt; list3 = Arrays.<em class="lc">asList</em>(7,8,9);<br/><br/>List&lt;List&lt;Integer&gt;&gt; listOfNumbers = Arrays.<em class="lc">asList</em>(list1, list2, list3);<br/><br/>List&lt;Integer&gt; listOfAllIntegers = listOfNumbers.stream()<br/>        .flatMap(x -&gt; x.stream())<br/>        .collect(Collectors.<em class="lc">toList</em>());<br/><br/>System.<em class="lc">out</em>.println(listOfAllIntegers);</span></pre><p id="2762" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">输出应该是这样的:</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="c331" class="jy jz hi ku b fi ky kz l la lb">[1, 2, 3, 4, 5, 6, 7, 8, 9]</span></pre><p id="0bd6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 5。独特:</strong></p><p id="931f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果给定的集合有重复项，我们可以使用distinct()方法删除重复项，得到一个过滤后的集合。</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="be71" class="jy jz hi ku b fi ky kz l la lb">List&lt;String&gt; countries = Arrays.<em class="lc">asList</em>("India", "Australia", "SriLanka","Russia", "Australia","SriLanka","India");<br/><br/>List&lt;String&gt; distinctCountries = countries.stream().distinct()<br/>.collect(Collectors.<em class="lc">toList</em>());<br/>    System.<em class="lc">out</em>.println(distinctCountries);<br/>}</span></pre><p id="87ca" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里的输出将是:</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="da55" class="jy jz hi ku b fi ky kz l la lb">[India, Australia, SriLanka, Russia]</span></pre><p id="0f4b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 6。偷看:</strong></p><p id="421a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> peek() </strong>是一个<strong class="ix hj">中间</strong>动作。<a class="ae iu" href="https://www.java67.com/2016/09/java-8-streampeek-example.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj"> peek() </strong> </a>返回一个由被遍历的流的元素组成的流，当从结果流中消耗元素时，另外对每个元素执行所提供的动作。</p><p id="2fc9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们不指定终端操作，peek()操作什么也不做。</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="9f71" class="jy jz hi ku b fi ky kz l la lb">Stream.<em class="lc">of</em>(1,2,3,4,5,6,7,8,9,0)<br/>        .filter(x -&gt; x%2 ==0)<br/>        .peek(e -&gt; System.<em class="lc">out</em>.println("The even numbers <br/>         are : " + e))<br/>        .collect(Collectors.<em class="lc">toList</em>());</span></pre><p id="56ec" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这提供了输出:</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="211a" class="jy jz hi ku b fi ky kz l la lb">The even numbers are : 2<br/>The even numbers are : 4<br/>The even numbers are : 6<br/>The even numbers are : 8<br/>The even numbers are : 0</span></pre><h2 id="fd6d" class="jy jz hi bd ka kb kc kd ke kf kg kh ki jg kj kk kl jk km kn ko jo kp kq kr ks bi translated">现在让我们看看终端操作:</h2><ol class=""><li id="8d1f" class="ld le hi ix b iy lf jc lg jg lh jk li jo lj js lk ll lm ln bi translated"><strong class="ix hj">收集:</strong></li></ol><p id="d874" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" href="https://www.java67.com/2018/06/java-8-streamcollect-example.html" rel="noopener ugc nofollow" target="_blank"> collect() </a>操作帮助将流收集到一个集合中。该方法采用收集器实现，提供有用的归约操作。</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="ed6b" class="jy jz hi ku b fi ky kz l la lb">List listOfCountries = Arrays.<em class="lc">asList</em>("India", "Indonesia", "Nepal", "Afghanistan");<br/><br/>List output = (List) listOfCountries.stream()<br/>        .filter(x-&gt; x.toString().startsWith("I"))<br/>        .collect(Collectors.<em class="lc">toList</em>());<br/>System.<em class="lc">out</em>.println(output);</span></pre><p id="4eaf" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">输出:</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="286d" class="jy jz hi ku b fi ky kz l la lb">[India, Indonesia]</span></pre><p id="49c9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 2。计数:</strong></p><p id="03a1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> count() </strong>终端操作帮助我们找到已处理集合的计数。</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="b47a" class="jy jz hi ku b fi ky kz l la lb">List listOfCountries = Arrays.<em class="lc">asList</em>("India", "Indonesia", "Nepal", "Afghanistan");<br/><br/>long output = listOfCountries.stream()<br/>        .filter(x-&gt; x.toString().startsWith("I"))<br/>        .count();<br/><br/>System.<em class="lc">out</em>.println(output);</span></pre><p id="db63" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">输出:</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="e775" class="jy jz hi ku b fi ky kz l la lb">2</span></pre><p id="70cb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 3。全匹配:</strong></p><p id="0dc8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">allMatch()运算帮助我们得到答案:<strong class="ix hj"> <em class="lc">流的所有元素都匹配条件吗？</em> </strong></p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="2d19" class="jy jz hi ku b fi ky kz l la lb">List listOfCountries = Arrays.<em class="lc">asList</em>("India", "Indonesia", "Nepal", "Afghanistan");<br/><br/>boolean areAllElementsStartingWithI = listOfCountries.stream()<br/>        .allMatch(x -&gt; x.toString().startsWith("I"));<br/><br/>System.<em class="lc">out</em>.println(areAllElementsStartingWithI);</span></pre><p id="517f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">输出:</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="ab26" class="jy jz hi ku b fi ky kz l la lb">false</span></pre><p id="cf53" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 4。任意匹配:</strong></p><p id="3987" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">与allMatch()相比，anyMatch()有助于检查流中的元素是否符合条件。</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="dcb2" class="jy jz hi ku b fi ky kz l la lb">List listOfCountries = Arrays.<em class="lc">asList</em>("India", "Indonesia", "Nepal", "Afghanistan");<br/><br/>boolean areAllElementsStartingWithI = listOfCountries.stream()<br/>        .anyMatch(x -&gt; x.toString().startsWith("I"));<br/><br/>System.<em class="lc">out</em>.println(areAllElementsStartingWithI);</span></pre><p id="6e0c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">输出:</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="4383" class="jy jz hi ku b fi ky kz l la lb">true</span></pre><p id="6b97" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 5。ForEach: </strong></p><p id="0c35" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" href="https://www.java67.com/2016/01/how-to-use-foreach-method-in-java-8-examples.html" rel="noopener ugc nofollow" target="_blank"> forEach() </a>方法用于对结果集合进行迭代，与传统的for循环相同。</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="5e67" class="jy jz hi ku b fi ky kz l la lb">List listOfCountries = Arrays.<em class="lc">asList</em>("India", "Indonesia", "Nepal", "Afghanistan");<br/><br/>listOfCountries.stream()<br/>         .filter(x-&gt; x.toString().startsWith("I"))<br/>         .forEach(System.<em class="lc">out</em>::println);</span></pre><p id="8d57" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">输出:</p><pre class="ju jv jw jx fd kt ku kv kw aw kx bi"><span id="ca2b" class="jy jz hi ku b fi ky kz l la lb">India<br/>Indonesia</span></pre><p id="c792" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">就是这样！！从今以后要经常使用小溪，玩得开心！</p></div></div>    
</body>
</html>