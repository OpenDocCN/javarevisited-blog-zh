<html>
<head>
<title>Refactoring 007 — Extract Class</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">重构007 —提取类</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/refactoring-007-extract-class-5b0b5960d0e7?source=collection_archive---------1-----------------------#2022-07-04">https://medium.com/javarevisited/refactoring-007-extract-class-5b0b5960d0e7?source=collection_archive---------1-----------------------#2022-07-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="caaf" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">行为在整个系统中重复。但是我们遗漏了一个概念</h2></div><figure class="iz ja jb jc fd jd er es paragraph-image"><a href="https://javarevisited.blogspot.com/2020/12/top-5-course-to-improve-coding-skills.html"><div class="er es iy"><img src="../Images/5cff62f5eb715be3a7d27b3fe29b7471.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZrySlZ6udqK__--eFwGEqg.jpeg"/></div></a></figure><blockquote class="jg jh ji"><p id="949a" class="jj jk jl jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated"><em class="hi">TL；博士:把该在一起的放在一起</em></p></blockquote><h1 id="3845" class="kg kh hi bd ki kj kk kl km kn ko kp kq io kr ip ks ir kt is ku iu kv iv kw kx bi translated">解决的问题</h1><ul class=""><li id="e3c7" class="ky kz hi jm b jn la jq lb lc ld le lf lg lh kf li lj lk ll bi translated">代码复制</li><li id="7067" class="ky kz hi jm b jn lm jq ln lc lo le lp lg lq kf li lj lk ll bi translated">缺失的抽象</li><li id="c1e7" class="ky kz hi jm b jn lm jq ln lc lo le lp lg lq kf li lj lk ll bi translated">低内聚力</li></ul><h1 id="12c1" class="kg kh hi bd ki kj kk kl km kn ko kp kq io kr ip ks ir kt is ku iu kv iv kw kx bi translated">相关代码气味</h1><div class="lr ls ez fb lt lu"><a href="https://mcsee.medium.com/code-smell-124-divergent-change-48825bcc74d0" rel="noopener follow" target="_blank"><div class="lv ab dw"><div class="lw ab lx cl cj ly"><h2 class="bd hj fi z dy lz ea eb ma ed ef hh bi translated">代码气味124 —不同的变化</h2><div class="mb l"><h3 class="bd b fi z dy lz ea eb ma ed ef dx translated">你在课堂上改变了一些东西。你在同一个类中改变一些不相关的东西</h3></div><div class="mc l"><p class="bd b fp z dy lz ea eb ma ed ef dx translated">mcsee.medium.com</p></div></div><div class="md l"><div class="me l mf mg mh md mi je lu"/></div></div></a></div><div class="lr ls ez fb lt lu"><a href="https://levelup.gitconnected.com/code-smell-143-data-clumps-86cfe2f36a19" rel="noopener  ugc nofollow" target="_blank"><div class="lv ab dw"><div class="lw ab lx cl cj ly"><h2 class="bd hj fi z dy lz ea eb ma ed ef hh bi translated">代码气味143 —数据块</h2><div class="mb l"><h3 class="bd b fi z dy lz ea eb ma ed ef dx translated">有些物体总是在一起。我们为什么要分开他们？</h3></div><div class="mc l"><p class="bd b fp z dy lz ea eb ma ed ef dx translated">levelup.gitconnected.com</p></div></div><div class="md l"><div class="mj l mf mg mh md mi je lu"/></div></div></a></div><h1 id="0f2d" class="kg kh hi bd ki kj kk kl km kn ko kp kq io kr ip ks ir kt is ku iu kv iv kw kx bi translated">步伐</h1><ol class=""><li id="4d08" class="ky kz hi jm b jn la jq lb lc ld le lf lg lh kf mk lj lk ll bi translated">提取耦合到一个新概念中的方法(偶尔还有属性)</li><li id="ce8c" class="ky kz hi jm b jn lm jq ln lc lo le lp lg lq kf mk lj lk ll bi translated">使用新概念</li></ol><h1 id="8322" class="kg kh hi bd ki kj kk kl km kn ko kp kq io kr ip ks ir kt is ku iu kv iv kw kx bi translated">示例代码</h1><h2 id="8c13" class="ml kh hi bd ki mm mn mo km mp mq mr kq lc ms mt ks le mu mv ku lg mw mx kw my bi translated">以前</h2><pre class="iz ja jb jc fd mz na nb nc aw nd bi"><span id="6e54" class="ml kh hi na b fi ne nf l ng nh">final class Person {</span><span id="3255" class="ml kh hi na b fi ni nf l ng nh">      private String name;</span><span id="74a5" class="ml kh hi na b fi ni nf l ng nh">      // Below cohesive properties<br/>      private String homeAreaCode;<br/>      private String homeNumber;</span><span id="eb28" class="ml kh hi na b fi ni nf l ng nh">      public String name() {<br/>          return name;<br/>      }</span><span id="8555" class="ml kh hi na b fi ni nf l ng nh">      // Below cohesive behaviour<br/>      public String telephoneNumber() {<br/>          return ("(" + homeAreaCode + ") " + homeNumber);<br/>      }<br/>      String areaCode() {<br/>          return homeAreaCode;<br/>      }<br/>      String officeNumber() {<br/>          return officeNumber;<br/>      } <br/> }</span></pre><h2 id="8049" class="ml kh hi bd ki mm mn mo km mp mq mr kq lc ms mt ks le mu mv ku lg mw mx kw my bi translated">在...之后</h2><pre class="iz ja jb jc fd mz na nb nc aw nd bi"><span id="f6a1" class="ml kh hi na b fi ne nf l ng nh">// 1. Extract the methods (and accidentally the properties) coupled into a new concept      <br/>   public class TelephoneNumber {</span><span id="8586" class="ml kh hi na b fi ni nf l ng nh">      private String number;<br/>      private String areaCode;</span><span id="3511" class="ml kh hi na b fi ni nf l ng nh">      public String telephoneNumber() {<br/>          return ("(" + areaCode + ") " + _number);<br/>      }<br/>      public String areaCode() {<br/>          return areaCode;<br/>      }<br/>      public String number() {<br/>          return number;<br/>      }<br/>   }</span><span id="68ec" class="ml kh hi na b fi ni nf l ng nh">final class Person {</span><span id="e6f8" class="ml kh hi na b fi ni nf l ng nh">      private String name;</span><span id="48b9" class="ml kh hi na b fi ni nf l ng nh">      // 2. Use the new concept<br/>      private TelephoneNumber officeTelephone = new TelephoneNumber();</span><span id="361c" class="ml kh hi na b fi ni nf l ng nh">      public String name() {<br/>          return name;<br/>      }<br/>      public String telephoneNumber(){<br/>          return officeTelephone.getTelephoneNumber();<br/>      }</span><span id="f47d" class="ml kh hi na b fi ni nf l ng nh">  }</span></pre><h1 id="d9df" class="kg kh hi bd ki kj kk kl km kn ko kp kq io kr ip ks ir kt is ku iu kv iv kw kx bi translated">类型</h1><p id="0d8e" class="pw-post-body-paragraph jj jk hi jm b jn la ij jp jq lb im js lc nj jv jw le nk jz ka lg nl kd ke kf hb bi translated">[X]自动</p><p id="8738" class="pw-post-body-paragraph jj jk hi jm b jn jo ij jp jq jr im js lc ju jv jw le jy jz ka lg kc kd ke kf hb bi translated">像<a class="ae nm" rel="noopener" href="/javarevisited/7-best-courses-to-learn-intellij-idea-for-beginners-and-experienced-java-programmers-2e9aa9bb0c05"> IntelliJIDEA </a>和<a class="ae nm" rel="noopener" href="/javarevisited/top-10-courses-to-learn-eclipse-junit-and-mockito-for-java-developers-4de1e8d62b96"> Eclipse </a>这样的大多数ide都实现了这种安全重构。</p><h1 id="7b9b" class="kg kh hi bd ki kj kk kl km kn ko kp kq io kr ip ks ir kt is ku iu kv iv kw kx bi translated">为什么代码更好？</h1><p id="1d2f" class="pw-post-body-paragraph jj jk hi jm b jn la ij jp jq lb im js lc nj jv jw le nk jz ka lg nl kd ke kf hb bi translated">逻辑代码和它的规则在同一个地方</p><h1 id="19af" class="kg kh hi bd ki kj kk kl km kn ko kp kq io kr ip ks ir kt is ku iu kv iv kw kx bi translated">标签</h1><ul class=""><li id="afc3" class="ky kz hi jm b jn la jq lb lc ld le lf lg lh kf li lj lk ll bi translated">班级</li></ul><h1 id="78b9" class="kg kh hi bd ki kj kk kl km kn ko kp kq io kr ip ks ir kt is ku iu kv iv kw kx bi translated">请参见</h1><p id="afe9" class="pw-post-body-paragraph jj jk hi jm b jn la ij jp jq lb im js lc nj jv jw le nk jz ka lg nl kd ke kf hb bi translated"><a class="ae nm" href="https://refactoring.com/catalog/extractClass.html" rel="noopener ugc nofollow" target="_blank">Refactoring.com</a></p><p id="ad33" class="pw-post-body-paragraph jj jk hi jm b jn jo ij jp jq jr im js lc ju jv jw le jy jz ka lg kc kd ke kf hb bi translated"><a class="ae nm" href="https://refactoring.guru/extract-class" rel="noopener ugc nofollow" target="_blank">重构大师</a></p><p id="d04d" class="pw-post-body-paragraph jj jk hi jm b jn jo ij jp jq jr im js lc ju jv jw le jy jz ka lg kc kd ke kf hb bi translated"><a class="ae nm" rel="noopener" href="/javarevisited/7-best-courses-to-learn-refactoring-and-clean-coding-in-java-47bea3c67006">重构课程</a></p><h1 id="49a8" class="kg kh hi bd ki kj kk kl km kn ko kp kq io kr ip ks ir kt is ku iu kv iv kw kx bi translated">信用</h1><p id="53b7" class="pw-post-body-paragraph jj jk hi jm b jn la ij jp jq lb im js lc nj jv jw le nk jz ka lg nl kd ke kf hb bi translated">来自<a class="ae nm" href="https://pixabay.com/es/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上<a class="ae nm" href="https://pixabay.com/es/users/drpepperscott230-1212529/" rel="noopener ugc nofollow" target="_blank"> drpepperscott230 </a>的图像</p></div><div class="ab cl nn no gp np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="hb hc hd he hf"><p id="f7f9" class="pw-post-body-paragraph jj jk hi jm b jn jo ij jp jq jr im js lc ju jv jw le jy jz ka lg kc kd ke kf hb bi translated">本文是重构系列的一部分。</p></div></div>    
</body>
</html>