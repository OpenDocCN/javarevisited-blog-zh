<html>
<head>
<title>The solution to modifying memory parameters in Idea under Mac computer does not work</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Mac电脑下修改Idea中内存参数的解决方案行不通</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/the-solution-to-modifying-memory-parameters-in-idea-under-mac-computer-does-not-work-a5c463d4e413?source=collection_archive---------2-----------------------#2022-06-21">https://medium.com/javarevisited/the-solution-to-modifying-memory-parameters-in-idea-under-mac-computer-does-not-work-a5c463d4e413?source=collection_archive---------2-----------------------#2022-06-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="fd1e" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">在Mac下修改Idea中的内存参数</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><a href="https://www.java67.com/2020/04/top-5-advanced-courses-to-learn-java-perofrmance-concurrency-memory-management.html"><div class="er es ix"><img src="../Images/af64016e1fb7185679c4731647fb3a4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IrT8xtUBdVFuSWGt"/></div></a><p class="jf jg et er es jh ji bd b be z dx translated">利亚姆·布里斯在<a class="ae jj" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="7a93" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi kg translated"><span class="l kh ki kj bm kk kl km kn ko di"> W </span>在使用idea时，如果同时打开多个项目，内存往往会满，导致异常死机，有时还会提示内存溢出。此时可以通过<a class="ae jj" href="https://javarevisited.blogspot.com/2016/10/how-to-increase-heap-size-of-eclipse-OutOfMemoryError.html" rel="noopener ugc nofollow" target="_blank">增加Xmx </a>的值来改善。但是Xmx值应该怎么调整呢？为什么有人修改Xmx值却不生效？本文将详细解释。</p><h1 id="ba5f" class="kp kq hi bd kr ks kt ku kv kw kx ky kz io la ip lb ir lc is ld iu le iv lf lg bi translated">1.无效方法</h1><p id="4a88" class="pw-post-body-paragraph jk jl hi jm b jn lh ij jp jq li im js jt lj jv jw jx lk jz ka kb ll kd ke kf hb bi translated">在互联网上找到的许多指导您调整Xmx的方法一般如下:</p><p id="5139" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">1.1右键单击应用创意—显示包装内容:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><a href="https://javarevisited.blogspot.com/2016/12/how-to-increase-heap-memory-of-apache.html"><div class="er es lm"><img src="../Images/0a1e9f7c5a63943632462440d42b405b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gDkp5-9ZQtGpOcKz"/></div></a></figure><p id="8124" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">1.2然后打开bin下的idea.vmoptions，修改<a class="ae jj" href="https://www.java67.com/2016/08/10-jvm-options-for-java-production-application.html" rel="noopener ugc nofollow" target="_blank"> Xms，Xmx </a>并保存，重启idea。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><a href="https://javarevisited.blogspot.com/2011/11/hotspot-jvm-options-java-examples.html"><div class="er es ln"><img src="../Images/0a45dbbf08fa5616f8417baf0af6c321.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pbxGGAgTYv3-VKkQ"/></div></a></figure><p id="11be" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">但是应该还是有很多朋友发现这个操作没有效果，思路还是卡，风扇还是呼呼转。</p><p id="fcfb" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">1.3如何检查设置是否生效</p><p id="2cff" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">其实你可以通过看想法右下角的两个数字来判断设置是否生效，如图:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><a href="https://javarevisited.blogspot.com/2013/04/what-is-maximum-heap-size-for-32-bit-64-JVM-Java-memory.html"><div class="er es lo"><img src="../Images/e884203392450c27e0d1264644258ff9.png" data-original-src="https://miro.medium.com/v2/resize:fit:464/format:webp/0*GRRenymR1INReLDQ.png"/></div></a></figure><p id="51f0" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">这里989是<a class="ae jj" href="https://javarevisited.blogspot.com/2013/04/what-is-maximum-heap-size-for-32-bit-64-JVM-Java-memory.html" rel="noopener ugc nofollow" target="_blank">最大可用内存</a>，Xmx(想法本身应该占一小部分)，862是已用内存。</p><p id="0c3b" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">如果这个数字没有显示在你的右下角，你可以通过点击右上角的“Intellij IDEA”—“Preferences”—“Appearance”来设置，</p><p id="2a85" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">检查“显示内存指示器”，确定保存。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><a href="https://javarevisited.blogspot.com/2018/09/top-5-courses-to-learn-intellij-idea-java-and-android-development.html"><div class="er es lp"><img src="../Images/31e9cd7f728c5b31d7d2648556eb3096.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KMut76jTcMuR8fO8"/></div></a></figure><h1 id="cef6" class="kp kq hi bd kr ks kt ku kv kw kx ky kz io la ip lb ir lc is ld iu le iv lf lg bi translated">2.无效的原因</h1><p id="d2fc" class="pw-post-body-paragraph jk jl hi jm b jn lh ij jp jq li im js jt lj jv jw jx lk jz ka kb ll kd ke kf hb bi translated">2.1修改没有生效的原因是什么？</p><p id="6e11" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">首先，确认自己是否重启了想法。重新启动要求您关闭所有建议窗口，然后打开建议。</p><p id="4ad4" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">如果你确定重启后不生效，那么只有一个原因:修改后的文件不是idea实际使用的文件。</p><p id="f36b" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">2.2找到正确的配置</p><p id="6568" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">如果你想知道你的idea允许哪个配置文件，你可以找到内容——在<a class="ae jj" href="https://javarevisited.blogspot.com/2022/02/top-5-macos-courses-for-beginners-in.html" rel="noopener ugc nofollow" target="_blank"> MacOS </a>下的idea可执行文件，双击运行它</p><figure class="iy iz ja jb fd jc er es paragraph-image"><a href="https://javarevisited.blogspot.com/2021/08/top-5-courses-to-learn-operating-system.html"><div class="er es lq"><img src="../Images/a0857e8c1bf92852a5126149509ee0a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2Fwv1HX-C8tEy0C1"/></div></a></figure><p id="e0c8" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">您将看到idea启动加载配置文件的路径如下:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><a href="https://javarevisited.blogspot.com/2022/03/spring-boot-redis-example-in-java.html"><div class="er es lr"><img src="../Images/7b899a47f77a2496e83bea9cf20e9deb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zIbAPyfnDAnxBS3h"/></div></a></figure><p id="9d11" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">我的idea使用的配置文件是:/Users/RCM/Library/Preferences/idea IC 2018.1/idea . VM options</p><p id="dd0c" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">2.3修改正确的配置</p><p id="ef43" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">通过转到文件夹命令，可以直接找到该文件并对其进行修改。修改保存后，重启想法生效。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><a href="https://javarevisited.blogspot.com/2018/02/top-5-spring-microservices-courses-with-spring-boot-and-spring-cloud.html"><div class="er es ls"><img src="../Images/bd2bffa4cfd1a53ee9c3336fd270feb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*t3nrd3Tfi2WoJlFZ"/></div></a></figure><p id="b2a9" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">我修改后的配置如下:</p><pre class="iy iz ja jb fd lt lu lv lw aw lx bi"><span id="65dd" class="ly kq hi lu b fi lz ma l mb mc">-Xms1024m<br/>-Xmx2048m<br/>-XX:ReservedCodeCacheSize=1024m<br/>-XX:+UseCompressedOops<br/>-Dfile.encoding=UTF-8<br/>-XX:+UseConcMarkSweepGC<br/>-XX:SoftRefLRUPolicyMSPerMB=50<br/>-ea<br/>-Dsun.io.useCanonCaches=false<br/>-Djava.net.preferIPv4Stack=true<br/>-XX:+HeapDumpOnOutOfMemoryError<br/>-XX:-OmitStackTraceInFastThrow<br/>-Xverify:none<br/> <br/>-XX:ErrorFile=$USER_HOME/java_error_in_idea_%p.log<br/>-XX:HeapDumpPath=$USER_HOME/java_error_in_idea.hprof</span></pre><p id="fca1" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">修改了三个主要参数:</p><ul class=""><li id="b550" class="md me hi jm b jn jo jq jr jt mf jx mg kb mh kf mi mj mk ml bi translated">xms 1024m<br/>-xmx 2048m<br/>-XX:ReservedCodeCacheSize = 1024m</li></ul><h1 id="d597" class="kp kq hi bd kr ks kt ku kv kw kx ky kz io la ip lb ir lc is ld iu le iv lf lg bi translated">3.更方便的方法</h1><p id="cc8a" class="pw-post-body-paragraph jk jl hi jm b jn lh ij jp jq li im js jt lj jv jw jx lk jz ka kb ll kd ke kf hb bi translated">当然，您也可以用一种更简单的方式来设置它:</p><p id="b6bd" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">单击帮助—编辑自定义虚拟机选项，在打开的文件中进行修改，并在修改后重新启动该想法</p><figure class="iy iz ja jb fd jc er es paragraph-image"><a href="https://javarevisited.blogspot.com/2019/04/top-5-courses-to-learn-jvm-internals.html"><div class="er es mm"><img src="../Images/16f4bff2dae4bc264147f600e9841b6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mYmdtZ6mb-EwEmqs"/></div></a></figure><div class="mn mo ez fb mp mq"><a rel="noopener follow" target="_blank" href="/javarevisited/7-best-courses-to-learn-jvm-garbage-collection-and-performance-tuning-for-experienced-java-331705180686"><div class="mr ab dw"><div class="ms ab mt cl cj mu"><h2 class="bd hj fi z dy mv ea eb mw ed ef hh bi translated">2022年学习JVM、垃圾收集和性能调优的7门最佳课程</h2><div class="mx l"><h3 class="bd b fi z dy mv ea eb mw ed ef dx translated">大家好，对于一个高级Java开发人员来说，了解JVM是如何工作的以及如何解决…</h3></div><div class="my l"><p class="bd b fp z dy mv ea eb mw ed ef dx translated">medium.com</p></div></div><div class="mz l"><div class="na l nb nc nd mz ne jd mq"/></div></div></a></div><div class="mn mo ez fb mp mq"><a rel="noopener follow" target="_blank" href="/javarevisited/8-best-java-performance-books-for-experienced-developers-566e44f618c3"><div class="mr ab dw"><div class="ms ab mt cl cj mu"><h2 class="bd hj fi z dy mv ea eb mw ed ef hh bi translated">有经验的开发人员的8本最佳Java书籍</h2><div class="mx l"><h3 class="bd b fi z dy mv ea eb mw ed ef dx translated">我最喜欢的Java书籍和课程，学习如何编写高性能的Java应用程序、JVM内部机制、垃圾…</h3></div><div class="my l"><p class="bd b fp z dy mv ea eb mw ed ef dx translated">medium.com</p></div></div><div class="mz l"><div class="nf l nb nc nd mz ne jd mq"/></div></div></a></div></div></div>    
</body>
</html>