<html>
<head>
<title>JAVA Developer Guide to begin with Command Design Pattern</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JAVA开发人员指南从命令设计模式开始</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/java-developer-guide-to-begin-with-command-design-pattern-8b0793b1a006?source=collection_archive---------2-----------------------#2022-10-08">https://medium.com/javarevisited/java-developer-guide-to-begin-with-command-design-pattern-8b0793b1a006?source=collection_archive---------2-----------------------#2022-10-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/c7694a3fd205a7f3d52e792e3385795d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*5OPuY7naV7ObR5HCPZJ9RQ.png"/></div></figure><p id="0621" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">你有没有想过，一个音乐指挥家甚至不知道所有这些乐器是如何工作的，如何指挥一群音乐家？或者你怎么能在不知道内部工作原理的情况下驾驶一辆汽车，比如发动机如何工作，它如何需要燃料进入发动机，阀门如何工作，等等。</p><p id="787b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">类似地，在大多数编程场景中，您希望隐藏实现，以便当您查看最顶层的问题时，它只包含指令或代码的可管理部分。<a class="ae jk" href="https://javarevisited.blogspot.com/2016/05/command-design-pattern-in-java-example-code.html" rel="noopener ugc nofollow" target="_blank">命令模式</a>有助于将命令的执行与命令本身分开，隐藏命令执行的实际实现。</p><h1 id="60c9" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">什么是命令模式？</h1><p id="9b71" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">命令模式是著名的<a class="ae jk" href="https://en.wikipedia.org/wiki/Design_Patterns" rel="noopener ugc nofollow" target="_blank"> GoF设计模式</a>中的行为设计模式之一。在这种设计模式中，一个对象(<strong class="io hj">命令</strong>)被用来封装触发一个事件或稍后在另一个对象(<strong class="io hj">接收者</strong>)上执行任何动作所需的所有信息(如方法名和参数)，这个命令对象被提供给另一个对象(<strong class="io hj">调用者</strong>)来根据<strong class="io hj">客户端</strong>的需求执行动作。</p><p id="3e50" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">它将调用操作的<strong class="io hj"> invoker </strong>对象与操作的<strong class="io hj"> receiver </strong>对象分开，从而消除了它们之间的硬连接。添加新的<strong class="io hj">命令</strong>很容易，因为现有的类保持不变。</p><p id="c2d7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">使用<a class="ae jk" href="https://javarevisited.blogspot.com/2016/05/command-design-pattern-in-java-example-code.html" rel="noopener ugc nofollow" target="_blank"> <strong class="io hj">命令</strong>模式</a>，可以将特定的<strong class="io hj">方法</strong>调用转换为独立的<strong class="io hj">对象</strong>。这种改编允许我们将命令作为方法参数传递，将它们存储在其他对象中，在运行时交换链接的命令，以及许多有趣的用途。</p><p id="8d98" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">一个<strong class="io hj">命令</strong>可以被<strong class="io hj">序列化</strong>，这是指将其转换为可以随时写入文件或数据库的字节的过程，就像任何其他流对象一样。</p><p id="86c3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这些字节稍后可被检索以用作初始的<strong class="io hj">命令</strong>对象。因此，您可以<strong class="io hj">安排</strong>和<strong class="io hj">推迟</strong>命令的执行。不过，还有更多！你可以用同样的方式在网络上排队、记录或发送<strong class="io hj">命令</strong>。</p><h1 id="e7c3" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">命令模式JAVA示例</h1><p id="70a8" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">在这个例子中，<strong class="io hj"> C </strong> <a class="ae jk" href="https://www.java67.com/2018/05/top-20-system-design-interview-questions-answers-programming.html" rel="noopener ugc nofollow" target="_blank"> <strong class="io hj">命令</strong>模式</a>有助于使用操纵杆控制视频游戏玩家的移动。基于操纵杆接收到的输入，我们可以调用移动玩家的命令。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><a href="https://javarevisited.blogspot.com/2016/05/command-design-pattern-in-java-example-code.html"><div class="er es ko"><img src="../Images/1f1a885287db543ff100a61c1486b504.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UcFv2y6tBhCr7GyYdNiGSw.png"/></div></a></figure><h2 id="d2dd" class="kt jm hi bd jn ku kv kw jr kx ky kz jv ix la lb jz jb lc ld kd jf le lf kh lg bi translated">接收器定义</h2><p id="292f" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">为<strong class="io hj">玩家</strong>创建了一个界面来列出可用的指令。</p><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="lh li l"/></div></figure><h2 id="1417" class="kt jm hi bd jn ku kv kw jr kx ky kz jv ix la lb jz jb lc ld kd jf le lf kh lg bi translated"><strong class="ak"> VideoGamePlayer </strong>类实现了<strong class="ak"> Player </strong>接口，并为所有动作指令提供了<strong class="ak">具体方法</strong>。</h2><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="lh li l"/></div></figure><h2 id="65d0" class="kt jm hi bd jn ku kv kw jr kx ky kz jv ix la lb jz jb lc ld kd jf le lf kh lg bi translated">命令定义</h2><p id="717a" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated"><strong class="io hj"> Action </strong>接口有一个<strong class="io hj"> doAction </strong>方法，该方法将由所有具体命令来实现。</p><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="lh li l"/></div></figure><h2 id="700a" class="kt jm hi bd jn ku kv kw jr kx ky kz jv ix la lb jz jb lc ld kd jf le lf kh lg bi translated">具体命令(实现)</h2><p id="2d31" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">这里，在每种类型的<strong class="io hj">具体命令</strong>中，我们在<strong class="io hj">构造器</strong>参数中传递<strong class="io hj">播放器</strong>，并实现<strong class="io hj"> doAction </strong>方法来执行特定的动作。</p><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="lh li l"/></div></figure><h2 id="3820" class="kt jm hi bd jn ku kv kw jr kx ky kz jv ix la lb jz jb lc ld kd jf le lf kh lg bi translated">调用者定义</h2><p id="75de" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">创建了<a class="ae jk" href="https://www.java67.com/2021/10/3-ways-to-send-different-content-types.html" rel="noopener ugc nofollow" target="_blank"> <strong class="io hj">控制器</strong> </a>接口，列出了所有<strong class="io hj">调用者特有的</strong>方法。</p><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="lh li l"/></div></figure><h2 id="46c0" class="kt jm hi bd jn ku kv kw jr kx ky kz jv ix la lb jz jb lc ld kd jf le lf kh lg bi translated">具体调用者(实现)</h2><p id="56d7" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">向<strong class="io hj">构造器</strong>参数中的<strong class="io hj">操纵杆控制器</strong>类提供所有命令，并实现所有方法来执行相应的<strong class="io hj">命令</strong>。这里这个<strong class="io hj">具体调用者</strong>不需要检查<strong class="io hj">接收者</strong>对象的指令，因此消除了所有的硬连线。</p><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="lh li l"/></div></figure><h2 id="c3d1" class="kt jm hi bd jn ku kv kw jr kx ky kz jv ix la lb jz jb lc ld kd jf le lf kh lg bi translated">实际的客户端实现</h2><p id="619e" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">在客户端类main方法中，创建了<strong class="io hj"> Player </strong>对象(<strong class="io hj"> receiver </strong>)与<strong class="io hj"> VideoGamePlayer </strong>实现。创建了<strong class="io hj">操纵杆控制器</strong>(具体<strong class="io hj">调用者</strong>)所需的所有动作(<strong class="io hj">命令</strong>)。基于从<strong class="io hj">客户端</strong>标准输入接收到的输入，<strong class="io hj">调用者</strong>通过<strong class="io hj">命令</strong>间接向<strong class="io hj">接收者</strong>发送指令。</p><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="lh li l"/></div></figure><p id="5b6a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">源代码可从以下网址获得:<a class="ae jk" href="https://github.com/s3c-d43m0n/Desing-Patterns-in-JAVA/tree/main/Behavioral/Command" rel="noopener ugc nofollow" target="_blank">https://github . com/s3c-d43m0n/Desing-Patterns-in-JAVA/tree/main/Behavioral/Command</a></p><h1 id="fdd8" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">实施中的关键点</h1><ul class=""><li id="9d42" class="lj lk hi io b ip kj it kk ix ll jb lm jf ln jj lo lp lq lr bi translated"><strong class="io hj">客户端</strong>需要按照特定的顺序创建所有对象:首先创建<strong class="io hj">接收者</strong>，然后创建<strong class="io hj">命令</strong>，最后创建<strong class="io hj">调用者</strong>。</li><li id="40b3" class="lj lk hi io b ip ls it lt ix lu jb lv jf lw jj lo lp lq lr bi translated">用一次执行<strong class="io hj">方法</strong>声明<strong class="io hj">命令</strong>接口。</li><li id="ed56" class="lj lk hi io b ip ls it lt ix lu jb lv jf lw jj lo lp lq lr bi translated">为<strong class="io hj">接收器</strong>中定义的每个动作创建单独的<strong class="io hj">命令</strong>。</li><li id="55d1" class="lj lk hi io b ip ls it lt ix lu jb lv jf lw jj lo lp lq lr bi translated">将所有的<strong class="io hj">命令</strong>提供给<strong class="io hj">调用者</strong>对象，并与适当的动作链接。</li></ul><p id="e409" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">注:</strong>该模式也被称为<strong class="io hj">动作</strong>或<strong class="io hj">事务</strong>模式。</p><p id="8119" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="lx">你最喜欢的设计模式是什么，或者如果你想更好地理解任何其他模式或主题，请随时联系我，在</em><a class="ae jk" href="https://www.linkedin.com/in/ritvik92/" rel="noopener ugc nofollow" target="_blank"><em class="lx">LinkedIn</em></a><em class="lx">或</em><a class="ae jk" href="https://forms.gle/XFsuo1ZbP35gfqAX7" rel="noopener ugc nofollow" target="_blank"><em class="lx">Google Form</em></a><em class="lx">上，我下次会尽力介绍它！</em></p><p id="a489" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">请把这个分享给你所有的媒体朋友，然后点击那个👏按钮，以扩大它的范围。未来更新请关注 <a class="ae jk" rel="noopener" href="/@ritvik.singh.chauhan"> <em class="lx"> me </em> </a> <em class="lx">。感谢阅读。</em></p></div></div>    
</body>
</html>