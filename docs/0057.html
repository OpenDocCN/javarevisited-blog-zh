<html>
<head>
<title>How to check whether an Iterable is sorted or not in Java</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在 Java 中检查一个 Iterable 是否排序</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/how-to-check-whether-an-iterable-is-sorted-or-not-9dd520ed023d?source=collection_archive---------0-----------------------#2019-04-25">https://medium.com/javarevisited/how-to-check-whether-an-iterable-is-sorted-or-not-9dd520ed023d?source=collection_archive---------0-----------------------#2019-04-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/c6ddd5ce1f9bba4a4dbc0ab81e2d28c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kPIvJ8zx8kWzzpBx"/></div></div><p class="iq ir et er es is it bd b be z dx translated">Jonas Jacobsson 在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="13c5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du jt ju jv jw b"><strong class="ix hj">java.lang.Iterable&lt;T&gt;</strong></code></p><p id="00bf" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du jt ju jv jw b"><a class="ae iu" href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Iterable.html" rel="noopener ugc nofollow" target="_blank">java.lang.Iterable&lt;T&gt;</a></code>的描述相当简单。</p><blockquote class="jx jy jz"><p id="c7bc" class="iv iw ka ix b iy iz ja jb jc jd je jf kb jh ji jj kc jl jm jn kd jp jq jr js hb bi translated">实现这个接口允许一个对象成为增强的<code class="du jt ju jv jw b">for</code>语句(有时称为<a class="ae iu" href="https://javarevisited.blogspot.com/2015/08/java-8-journey-of-for-loop-in-java.html" rel="noopener ugc nofollow" target="_blank">“for-each loop”</a>语句)的目标。</p></blockquote><p id="cca2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">简单地说，通过给定的<code class="du jt ju jv jw b">Iterable&lt;T&gt;</code>实例，我们可以做到这一点。</p><pre class="ke kf kg kh fd ki jw kj kk aw kl bi"><span id="406d" class="km kn hi jw b fi ko kp l kq kr">for (final T i : iterable) { // for-each element, as i, in iterable<br/>    // do anything with i<br/>}</span></pre><p id="5a01" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">现在我们来谈谈如何知道</strong> <code class="du jt ju jv jw b"><strong class="ix hj">Iterable&lt;T&gt;</strong></code> <strong class="ix hj">的实例是否已经排序的问题。</strong></p><p id="d870" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为此我们显然需要两样东西。一个是要检查的<code class="du jt ju jv jw b">Iterable</code>实例，另一个是用于比较<code class="du jt ju jv jw b">Iterable</code>中每个元素的<code class="du jt ju jv jw b"><a class="ae iu" href="http://javarevisited.blogspot.sg/2014/02/java-comparable-example-for-natural-order-sorting.html#axzz5BFEbT6hG" rel="noopener ugc nofollow" target="_blank">Comparable</a></code>实例。</p><pre class="ke kf kg kh fd ki jw kj kk aw kl bi"><span id="52f9" class="km kn hi jw b fi ko kp l kq kr">static &lt;T&gt; boolean isSorted(<br/>        final Iterable&lt;? extends T&gt; iterable,<br/>        final Comparator&lt;? super T&gt; comparator) {<br/>    // TODO: implement!<br/>}</span></pre><p id="4a6d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du jt ju jv jw b"><strong class="ix hj">Iterable&lt;? extends T&gt;</strong></code></p><p id="8661" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这个<code class="du jt ju jv jw b">iterable</code>参数将作为一个<strong class="ix hj"> <em class="ka">生产者</em> </strong>通过将每个元素生产到方法中来工作，这就是<strong class="ix hj"> <em class="ka">生产者从<strong class="ix hj"><em class="ka">【PECS】</em></strong>扩展</em> </strong>的部分。</p><p id="26e7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du jt ju jv jw b"><strong class="ix hj">Comparator&lt;? super T&gt;</strong></code></p><p id="60c8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将使用给定的<code class="du jt ju jv jw b"><a class="ae iu" href="http://www.java67.com/2014/11/java-8-comparator-example-using-lambda-expression.html" rel="noopener ugc nofollow" target="_blank">comparator</a></code>参数来比较由<code class="du jt ju jv jw b">iterable</code>实例提供的每个元素。也就是说<code class="du jt ju jv jw b"><a class="ae iu" href="https://javarevisited.blogspot.com/2014/01/java-comparator-example-for-custom.html" rel="noopener ugc nofollow" target="_blank">comparator</a></code> <a class="ae iu" href="https://javarevisited.blogspot.com/2014/01/java-comparator-example-for-custom.html" rel="noopener ugc nofollow" target="_blank"> </a>将作为<strong class="ix hj"> <em class="ka">消费</em> </strong>的对抗方法。这就是从<strong class="ix hj"> <em class="ka">佩奇</em> </strong>到<strong class="ix hj"> <em class="ka">消费超</em> </strong>的部分。如果您不熟悉泛型中的 PECS 概念，请参见<a class="ae iu" href="http://www.amazon.com/dp/0321356683/?tag=javamysqlanta-20" rel="noopener ugc nofollow" target="_blank">有效 Java </a>。</p><p id="280b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">有了上面的定义，方法体就有些简单了。</p><pre class="ke kf kg kh fd ki jw kj kk aw kl bi"><span id="5b0c" class="km kn hi jw b fi ko kp l kq kr">static &lt;T&gt; boolean isSorted(<br/>        final Iterable&lt;? extends T&gt; iterable,<br/>        final Comparator&lt;? super T&gt; comparator) {<br/>    final T previous = null;<br/>    for (final T current : iterable) { // iterable produces<br/>        if (previous != null // comparator consumes<br/>            &amp;&amp; comparable.compare(previous, current) &gt; 0) {<br/>            return false;<br/>        }<br/>        previous = current;<br/>    }<br/>    return true;<br/>}</span></pre><p id="a54c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">类型已经实现</strong> <code class="du jt ju jv jw b"><strong class="ix hj">Comparable</strong></code> <strong class="ix hj">？</strong></p><p id="dba9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">有些类型如<code class="du jt ju jv jw b"><a class="ae iu" href="http://www.java67.com/2018/06/top-35-java-string-interview-questions.html" rel="noopener ugc nofollow" target="_blank">String</a></code> <a class="ae iu" href="http://www.java67.com/2018/06/top-35-java-string-interview-questions.html" rel="noopener ugc nofollow" target="_blank"> </a>或<code class="du jt ju jv jw b"><a class="ae iu" href="https://javarevisited.blogspot.sg/2011/08/convert-string-to-integer-to-string.html" rel="noopener ugc nofollow" target="_blank">Integer</a></code> <a class="ae iu" href="https://javarevisited.blogspot.sg/2011/08/convert-string-to-integer-to-string.html" rel="noopener ugc nofollow" target="_blank"> </a>已经实现了<code class="du jt ju jv jw b">Comparable</code>接口。这意味着我们不需要任何特定的<code class="du jt ju jv jw b">Comparator</code>实例。</p><pre class="ke kf kg kh fd ki jw kj kk aw kl bi"><span id="b67b" class="km kn hi jw b fi ko kp l kq kr">static &lt;T extends Comparable&lt;? super T&gt;&gt; boolean isSorted(<br/>        final Iterable&lt;? extends T&gt; iterable,<br/>        final boolean natural) {<br/>    // TODO: implement!<br/>}</span></pre><p id="c946" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du jt ju jv jw b"><strong class="ix hj">Comparable&lt;? super T&gt;</strong></code></p><p id="9cd6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du jt ju jv jw b">Comparable&lt;T&gt;</code>接口是一个<code class="du jt ju jv jw b"><a class="ae iu" href="https://javarevisited.blogspot.com/2018/01/what-is-functional-interface-in-java-8.html" rel="noopener ugc nofollow" target="_blank">FunctionalInterface</a></code> <a class="ae iu" href="https://javarevisited.blogspot.com/2018/01/what-is-functional-interface-in-java-8.html" rel="noopener ugc nofollow" target="_blank"> </a>，其唯一定义的方法是<code class="du jt ju jv jw b">int compare(T o)</code>。</p><p id="ae77" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这意味着当你创建你的假设的<code class="du jt ju jv jw b">Apple</code>类，它扩展了<code class="du jt ju jv jw b">Fruit</code>，实现了<code class="du jt ju jv jw b">Comparable&lt;Apple&gt;</code>，你得到了<code class="du jt ju jv jw b">int compare(Apple o)</code>。</p><p id="4d97" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这使得它很难与另一种类型的<code class="du jt ju jv jw b">Fruit</code>如<code class="du jt ju jv jw b">Orange</code>相比。</p><p id="01b9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这就是<code class="du jt ju jv jw b">? super T</code>来救援的地方。通过用<code class="du jt ju jv jw b">? super [Self]</code>参数化，该类可以与任何前辈或任何兄弟和后继进行比较。</p><p id="d3ee" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这是这个方法的一行代码。</p><pre class="ke kf kg kh fd ki jw kj kk aw kl bi"><span id="d931" class="km kn hi jw b fi ko kp l kq kr">static &lt;T extends Comparable&lt;? super T&gt;&gt; boolean isSorted(<br/>        final Iterable&lt;? extends T&gt; iterable,<br/>        final boolean natural) {<br/>    return isSorted(iterable,<br/>                    natural ? naturalOrder() : reverseOrder());<br/>}</span></pre><p id="2ea5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du jt ju jv jw b">naturalOrder()</code>和<code class="du jt ju jv jw b"><a class="ae iu" href="https://javarevisited.blogspot.com/2013/08/how-to-sort-list-in-reverse-order-in-java-collection-example.html" rel="noopener ugc nofollow" target="_blank">reverseOrder</a>()</code>都是在<code class="du jt ju jv jw b">Comparator</code>接口中定义的实用方法，每个都有一个<code class="du jt ju jv jw b">&lt;T extends Comparable&lt;? super T&gt;&gt; Comparator&lt;T&gt; …Order()</code>的签名。</p><p id="bb27" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用下面的测试语句，</p><pre class="ke kf kg kh fd ki jw kj kk aw kl bi"><span id="05f2" class="km kn hi jw b fi ko kp l kq kr">final Iterable&lt;String&gt; unknown = Arrays.asList("c", "a", "b");<br/>System.out.println(isSorted(unknown, true));<br/>System.out.println(isSorted(unknown, false));</span><span id="42a8" class="km kn hi jw b fi ks kp l kq kr">final Iterable&lt;String&gt; natural = Arrays.asList("a", "b", "c");<br/>System.out.println(isSorted(natural, true));<br/>System.out.println(isSorted(natural, false));</span><span id="36a1" class="km kn hi jw b fi ks kp l kq kr">final Iterable&lt;String &gt; reverse = Arrays.asList("c", "b", "a");<br/>System.out.println(isSorted(reverse, true));<br/>System.out.println(isSorted(reverse, false));</span></pre><p id="1c9a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我有，</p><pre class="ke kf kg kh fd ki jw kj kk aw kl bi"><span id="248a" class="km kn hi jw b fi ko kp l kq kr">false<br/>false</span><span id="c0b2" class="km kn hi jw b fi ks kp l kq kr">true<br/>false</span><span id="ba4e" class="km kn hi jw b fi ks kp l kq kr">false<br/>true</span></pre></div><div class="ab cl kt ku gp kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hb hc hd he hf"><p id="a036" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你想学习更多关于 Java 的知识。以下是一些可供参考的有用文章:</p><ol class=""><li id="5185" class="la lb hi ix b iy iz jc jd jg lc jk ld jo le js lf lg lh li bi translated"><a class="ae iu" href="https://javarevisited.blogspot.com/2017/12/10-things-java-programmers-should-learn.html#axzz5atl0BngO" rel="noopener ugc nofollow" target="_blank"><strong class="ix hj">2019 年 Java 程序员应该学会的 10 件事</strong> </a></li><li id="c49d" class="la lb hi ix b iy lj jc lk jg ll jk lm jo ln js lf lg lh li bi translated"><a class="ae iu" href="http://www.java67.com/2018/08/top-10-free-java-courses-for-beginners-experienced-developers.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj">从零开始学习 Java 的 10 门免费课程</strong> </a></li><li id="2432" class="la lb hi ix b iy lj jc lk jg ll jk lm jo ln js lf lg lh li bi translated"><a class="ae iu" href="https://medium.freecodecamp.org/must-read-books-to-learn-java-programming-327a3768ea2f" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj">深入学习 Java 的 10 本书</strong> </a></li><li id="87c5" class="la lb hi ix b iy lj jc lk jg ll jk lm jo ln js lf lg lh li bi translated"><a class="ae iu" href="http://www.java67.com/2018/04/10-tools-java-developers-should-learn.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj">每个 Java 开发者都应该知道的 10 个工具</strong> </a></li><li id="370d" class="la lb hi ix b iy lj jc lk jg ll jk lm jo ln js lf lg lh li bi translated"><a class="ae iu" href="http://javarevisited.blogspot.sg/2018/01/10-frameworks-java-and-web-developers-should-learn.html" rel="noopener ugc nofollow" target="_blank"><strong class="ix hj">2019 年 Java 与 Web Developer 应学的 10 个框架</strong> </a></li></ol></div><div class="ab cl kt ku gp kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hb hc hd he hf"><h1 id="6fd2" class="lo kn hi bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">结束语</h1><p id="52f3" class="pw-post-body-paragraph iv iw hi ix b iy ml ja jb jc mm je jf jg mn ji jj jk mo jm jn jo mp jq jr js hb bi translated">感谢您阅读本文。对于 Java 程序员来说，这是一个非常有用技巧。如果你喜欢这篇文章，那么请考虑以下我们在媒体上发表的文章。</p><p id="5f5a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你想在每次发布新帖子时得到通知，别忘了在 Twitter 上关注<strong class="ix hj"/><a class="ae iu" href="https://twitter.com/javarevisited" rel="noopener ugc nofollow" target="_blank"><strong class="ix hj">【Java re visited】</strong></a>！</p></div></div>    
</body>
</html>