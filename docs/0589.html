<html>
<head>
<title>Anonymous classes in Java</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Java中的匿名类</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/anonymous-classes-in-java-fc77e682c98a?source=collection_archive---------2-----------------------#2020-07-15">https://medium.com/javarevisited/anonymous-classes-in-java-fc77e682c98a?source=collection_archive---------2-----------------------#2020-07-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/063ca8b07b6fabe5a512cf25d02588f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vwnzepz-i6FF-5-MWfQ9dQ.jpeg"/></div></div></figure><div class=""/><div class=""><h2 id="b8c5" class="pw-subtitle-paragraph iq hs ht bd b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh dx translated">对于不知道什么是匿名类的人来说，让我给你一个简单的介绍。匿名类是没有名称的内联类，它重载方法。这是通过一个类似构造器的创建过程来实现的…通过下面的例子，一切都变得清晰了。</h2></div><figure class="jq jr js jt fd hk"><div class="bz dy l di"><div class="ju jv l"/></div></figure><p id="ead0" class="pw-post-body-paragraph jw jx ht jy b jz ka iu kb kc kd ix ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">是的，这是一个相当不为人知的语言特性，在许多其他编程语言中都找不到。除了<a class="ae ks" rel="noopener" href="/javarevisited/top-5-java-online-courses-for-beginners-best-of-lot-1e1e240a758"> Java </a>，我只知道<a class="ae ks" rel="noopener" href="/javarevisited/top-10-free-courses-to-learn-php-and-mysql-for-web-development-e96e69982675"> PHP7 </a>有这个语言特性。</p><p id="b122" class="pw-post-body-paragraph jw jx ht jy b jz ka iu kb kc kd ix ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">当我第一次了解这个特性的时候，我并没有看到使用它的吸引力，但是不久之后，我从事的一个项目在覆盖小的接口类时使用了这种技术。</p><p id="6afa" class="pw-post-body-paragraph jw jx ht jy b jz ka iu kb kc kd ix ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">能够做到这一点在短期内是一个快速轻松的胜利。然而，从长远来看，您很可能需要在代码中的其他地方使用完全相同的实现。这就出现了一个问题，要么你在你的代码库的两个地方有相同的匿名类，要么你必须为它创建一个小类。</p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kt"><img src="../Images/1c392e49b663058929fb377602008a7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*24ML0sLmHdTwXZQRGT_VMQ.jpeg"/></div></div><p class="ku kv et er es kw kx bd b be z dx translated">蒂姆·高夫— <a class="ae ks" href="https://www.pexels.com/photo/man-in-white-shirt-using-macbook-pro-52608/" rel="noopener ugc nofollow" target="_blank">像素</a></p></figure><p id="af4a" class="pw-post-body-paragraph jw jx ht jy b jz ka iu kb kc kd ix ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">显然，最好的选择是创建一个小型的命名类。但是当我浏览这个项目时，我可以发现分散在各处的完全相同的类。这背后的原因是:</p><ul class=""><li id="4c84" class="ky kz ht jy b jz ka kc kd kf la kj lb kn lc kr ld le lf lg bi translated">由于缺少时间或截止日期，所以这些匿名类经常被复制粘贴到代码中。</li><li id="2e4e" class="ky kz ht jy b jz lh kc li kf lj kj lk kn ll kr ld le lf lg bi translated">另一个原因是因为这个人不知道代码中的其他地方实现了这个，并且花时间再次实现它。</li></ul><p id="8794" class="pw-post-body-paragraph jw jx ht jy b jz ka iu kb kc kd ix ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">这导致了bug的增加，因为在实现一些新功能时，实现变得略有不同或者被忽略了。最好是创建该特性的一个严格的子类/实现，而不是让匿名类分散在代码中。将它们放在一个适当的类中还会显著提高代码的可调试性和可读性。</p><blockquote class="lm"><p id="0ecf" class="ln lo ht bd lp lq lr ls lt lu lv kr dx translated">不管拥有小型内联类的想法有多好，相对于长期的灵活性，它不值得短期的轻松。</p></blockquote><h1 id="279e" class="lw lx ht bd ly lz ma mb mc md me mf mg iz mh ja mi jc mj jd mk jf ml jg mm mn bi translated">为什么要使用匿名类？</h1><p id="e287" class="pw-post-body-paragraph jw jx ht jy b jz mo iu kb kc mp ix ke kf mq kh ki kj mr kl km kn ms kp kq kr hb bi translated">使用匿名子类也感觉非常不必要，因为大多数时候你可以用Java或其他语言中的lambdas、delegates或events来替换这个特性。当决定将整个Java代码库转移到<a class="ae ks" rel="noopener" href="/@javinpaul?source=follow_footer--------------------------follow_footer-"> C# </a>时，这变得非常明显，我们最终摆脱了所有这些较小的内联匿名类。</p><h1 id="6511" class="lw lx ht bd ly lz ma mb mc md me mf mg iz mt ja mi jc mu jd mk jf mv jg mm mn bi translated">结论</h1><p id="b497" class="pw-post-body-paragraph jw jx ht jy b jz mo iu kb kc mp ix ke kf mq kh ki kj mr kl km kn ms kp kq kr hb bi translated">我建议在你的项目中尽量远离匿名类，然而，我可以看到在特定情况下使用它的吸引力。然而，我建议不要在新项目开始时使用它们，只有在项目成熟时才开始使用它们。你也可以用它们来与<a class="ae ks" href="https://javarevisited.blogspot.com/2019/03/5-free-game-development-courses-unity-corona-libgdx-java.html" rel="noopener ugc nofollow" target="_blank"> libGDX </a>中的插件和单件接口，我也亲眼见过。我认为这完全取决于程序员，但我已经吸取了教训，并将始终对这一语言特性保持谨慎。</p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mw"><img src="../Images/0b0ca0ba6d6a4d1f23859c04129ff552.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ll17tMbyBCH0MlRfj3xrZg.png"/></div></div><p class="ku kv et er es kw kx bd b be z dx translated">封面图片由<a class="ae ks" href="https://unsplash.com/@gezerbatu?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">巴图格泽尔</a>在<a class="ae ks" rel="noopener ugc nofollow" target="_blank" href="/t/technology?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText"> Unsplash </a>上拍摄。</p></figure></div></div>    
</body>
</html>