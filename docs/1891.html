<html>
<head>
<title>How do I add a project as a dependency of another project using Maven?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Maven将一个项目添加为另一个项目的依赖项？</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/how-do-i-add-a-project-as-a-dependency-of-another-project-using-maven-4508283c01d1?source=collection_archive---------0-----------------------#2022-01-24">https://medium.com/javarevisited/how-do-i-add-a-project-as-a-dependency-of-another-project-using-maven-4508283c01d1?source=collection_archive---------0-----------------------#2022-01-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/7b0f6d740e5e8ecfc1418c5625a8265c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*bf0tHYLHOwtA2-CY.jpg"/></div></div></figure><p id="6cae" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我最近在帮助一个正在学习Java编程的人，他说如果可能的话，可以将一个maven项目作为一个依赖项添加到另一个maven项目中。</p><p id="4912" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我说当然有可能，在这篇文章中我只是展示了一些我在他学生的电脑上做的例子的截图。但在我继续之前，让我给你一点重要的警告:</p><blockquote class="jo jp jq"><p id="0561" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated">作为一个通用的经验法则，如果依赖关系经常变化，那么将一个项目/应用程序添加为另一个项目/应用程序的依赖关系并不是一个好的设计。例如，我们不应该对领域模型这样做，因为当添加新的特性时，它们经常会改变。如果我们不注意这个建议，我们可能很难在微服务生态系统中进行连续交付，因为我们执行独立发布的能力会被现在的硬连线依赖性削弱。</p></blockquote><p id="80ee" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下面的例子仅仅是为了研究，正如我已经说过的，我不鼓励在频繁变化的库/应用中使用这种技术。所以如果你正在创建微服务，你不应该把它用于域库。我知道我在这一点上坚持了很多，但在我的职业生涯中，我有机会见证，如果不遵循这一建议，特别是在领域中，会导致“<em class="jr">分布式整体结构</em>”，这很难管理，最终会花费大量资金来维护。如果你的系统已经有这样的东西，建议是执行“<a class="ae jv" href="https://www.javacodegeeks.com/2011/11/understanding-vertical-slice.html" rel="noopener ugc nofollow" target="_blank">垂直切片</a>”。</p><p id="90a0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">不再犹豫，让我们看看如何添加一个依赖项作为另一个项目的依赖项。</p><p id="231b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">请看这张学生电脑的截图:</p><figure class="jx jy jz ka fd ij er es paragraph-image"><div class="er es jw"><img src="../Images/123581052df1b2353094b49bd09ac674.png" data-original-src="https://miro.medium.com/v2/resize:fit:1266/format:webp/1*-3ViDRWgP52HvNshq3koFw.png"/></div><p class="kb kc et er es kd ke bd b be z dx translated">一个简单的图书馆应用领域模型</p></figure><p id="37ae" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是包含模型的项目，如果我们想确保它可以作为另一个项目的依赖项，我们需要确保它被打包在一个<em class="jr">中。jar </em>(注意下图中包装标签的内容)。</p><figure class="jx jy jz ka fd ij er es paragraph-image"><div class="er es kf"><img src="../Images/53f432ad14de0a2f14a205127b9d5acc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*gvFIMkjtnEJfjV8RpdbfDw.png"/></div><p class="kb kc et er es kd ke bd b be z dx translated">依赖关系的pom.xml</p></figure><p id="91ea" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当使用<em class="jr"> mvn clean install </em>命令构建这个程序时，它将生成一个<em class="jr">。jar </em>文件，该文件将存储在本地maven存储库中(<em class="jr"> ~/.m2 </em>)。如果构建过程成功，我们应该会在控制台中看到类似这样的消息(注意消息中说<em class="jr">)。jar </em>安装在回购中):</p><figure class="jx jy jz ka fd ij er es paragraph-image"><div class="er es kg"><img src="../Images/c532516f84653adc307422518e2fabb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*nRGDZfhe0QbbW02mrTUxZw.png"/></div><p class="kb kc et er es kd ke bd b be z dx translated">。构建时生成的jar</p></figure><p id="5032" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在依赖项已经构建并安装在. m2 repo中，我们可以在任何项目中声明它，如下所示:</p><p id="eea4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jr"> &lt;依赖&gt;<br/>&lt;groupId&gt;com . UCD&lt;/groupId&gt;<br/>&lt;artifactId&gt;ucda&lt;/artifactId<br/>&lt;版本&gt;0 . 0 . 1-快照&lt;/版本&gt;<br/>&lt;/依赖&gt; </em></p><p id="99d5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦我们构建了我们的项目，我们就会看到<em class="jr">。包含模型的jar </em>在类路径中，我们可以在这个项目中毫无问题地使用它:</p><figure class="jx jy jz ka fd ij er es paragraph-image"><div class="er es kh"><img src="../Images/47ed78fedf69ed9abefdaed463080cf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*1qluCbNsrmbWgYI5hXqRPQ.png"/></div><p class="kb kc et er es kd ke bd b be z dx translated">项目在其路径中包含依赖项</p></figure><p id="ac41" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当然，这只是一个学生的笔记本电脑，但在现实中，持续集成基础设施将建立，包装，增加版本，并推动候选人到您公司的人工制品库。</p><p id="87af" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我希望你发现这是有用的，但是如果你使用微服务，我会再次劝阻你不要使用这种技术，如果你的依赖性经常改变，因为它肯定会影响你的交付时间。</p></div></div>    
</body>
</html>