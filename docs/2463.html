<html>
<head>
<title>Exploring Java KeyStore &amp; Keys</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索Java密钥库和密钥</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/exploring-java-keystore-keys-9eb4805fa4ec?source=collection_archive---------0-----------------------#2022-10-27">https://medium.com/javarevisited/exploring-java-keystore-keys-9eb4805fa4ec?source=collection_archive---------0-----------------------#2022-10-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="da3c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过代码</p><blockquote class="jd je jf"><p id="878b" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">什么是密钥库？</p></blockquote><p id="589f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> KeyStore </strong>是<strong class="ih hj">密钥</strong>的容器，就这么简单。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jk"><img src="../Images/a50d4d6d8269eed4dbb95c13109a912f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2tRzv0nXrFmNYvxg.jpg"/></div></div><p class="jw jx et er es jy jz bd b be z dx translated">实体钥匙柜</p></figure><p id="3458" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们了解一下<strong class="ih hj">密钥</strong>，然后<em class="jg">它是如何存储</em>在<a class="ae ka" href="https://www.java67.com/2012/09/keytool-command-examples-java-add-view-certificate-ssl.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">密钥库</strong> </a>中的。</p><blockquote class="jd je jf"><p id="7c20" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><a class="ae ka" href="#a198" rel="noopener ugc nofollow">那么，那些键是什么？</a></p><p id="6898" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">他们看起来怎么样？</p><p id="91b4" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated"><a class="ae ka" href="#370d" rel="noopener ugc nofollow">如何创建一个？</a></p><p id="68ba" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">我们会用它做什么？</p></blockquote><p id="fd32" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">和</p><blockquote class="jd je jf"><p id="4532" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">密钥是如何存储在密钥库中的？</p></blockquote><p id="8012" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们来一一回答。</p><p id="9dd4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在深入研究之前，如果您正在寻找创建一个<a class="ae ka" href="https://javarevisited.blogspot.com/2013/07/how-ssl-https-and-certificates-works-in-java-web-application.html" rel="noopener ugc nofollow" target="_blank">自签名证书</a>，那么请随意查看这个帖子，</p><div class="kb kc ez fb kd ke"><a href="https://suriyaprakhash.medium.com/self-signed-certificate-d545d6054327" rel="noopener follow" target="_blank"><div class="kf ab dw"><div class="kg ab kh cl cj ki"><h2 class="bd hj fi z dy kj ea eb kk ed ef hh bi translated">自签名证书</h2><div class="kl l"><h3 class="bd b fi z dy kj ea eb kk ed ef dx translated">本地主机</h3></div><div class="km l"><p class="bd b fp z dy kj ea eb kk ed ef dx translated">suriyaprakhash.medium.com</p></div></div><div class="kn l"><div class="ko l kp kq kr kn ks ju ke"/></div></div></a></div><h2 id="a198" class="kt ku hi bd kv kw kx ky kz la lb lc ld iq le lf lg iu lh li lj iy lk ll lm ln bi translated"><strong class="ak"> <em class="lo">那些钥匙是什么？</em> </strong></h2><p id="1274" class="pw-post-body-paragraph if ig hi ih b ii lp ik il im lq io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated">顾名思义，钥匙类似于我们用来开门/锁门的家里的钥匙。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lu"><img src="../Images/e98a9923ac8f0921fddd4fd4c90a2a3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:898/format:webp/1*Nye9lZLATXuD1_4RxU-W_A.png"/></div><p class="jw jx et er es jy jz bd b be z dx translated">物理键</p></figure><p id="7317" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在日常生活中，我们使用不同类型的钥匙，比如家里的、汽车的、车库的、办公室的、书桌的、保险箱的、银行存物柜的等等，来保护我们的财产和所爱的人的安全。</p><p id="e364" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">类似地，<strong class="ih hj">密钥</strong>是一个类似于我们密码的软件令牌，用它我们可以<em class="jg">锁定/解锁</em>我们的秘密信息。</p><p id="30e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jg">如果类似于密码，为什么不能直接用密码？</em> </strong></p><p id="5dfb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jg">密码</em>由<strong class="ih hj">人类</strong>创建，可能包含来自其<em class="jg">配偶姓名、出生日期</em>的字符，并且可能很容易被<em class="jg">破解</em>或<em class="jg">猜测</em>。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lv"><img src="../Images/cbc469f96ecf40b1d18577f83f0f38dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*e_h4FV8qSIxx0qyS11Laaw.png"/></div></figure><p id="1335" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">另一方面，<strong class="ih hj">密钥</strong>可以通过实现难以猜测的<strong class="ih hj"> <em class="jg">密码算法</em> </strong>来帮助加强<em class="jg">密码</em>。</p><h2 id="0c2d" class="kt ku hi bd kv kw kx ky kz la lb lc ld iq le lf lg iu lh li lj iy lk ll lm ln bi translated"><strong class="ak"> <em class="lo">他们长得怎么样？</em>T57】</strong></h2><p id="c01d" class="pw-post-body-paragraph if ig hi ih b ii lp ik il im lq io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated">它们有不同的形式，类似于我们的物理密钥，如<em class="jg">私钥、公钥、密钥对、秘密密钥。这是他们标准语法的样子。</em></p><figure class="jl jm jn jo fd jp er es paragraph-image"><a href="http://javarevisited.blogspot.sg/2012/09/difference-between-truststore-vs-keyStore-Java-SSL.html"><div class="er es lw"><img src="../Images/5f1bd1abdd0054acbd589ff01d317b71.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*l9tN7vP6lvyzTfKioc5L4w.png"/></div></a><p class="jw jx et er es jy jz bd b be z dx translated"><a class="ae ka" href="https://en.wikipedia.org/wiki/ASN.1" rel="noopener ugc nofollow" target="_blank"> ASN.1格式</a></p></figure><p id="0521" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，当它被传输或读取时，它通常是以一种<strong class="ih hj">编码的</strong>标准格式X.509或PKCS#8。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lx"><img src="../Images/1a62619055272ad41488fbf3e078e9d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:702/format:webp/1*iIsoKKZ7xQ5oTT-dfWcGtQ.png"/></div><p class="jw jx et er es jy jz bd b be z dx translated">编码</p></figure><h2 id="370d" class="kt ku hi bd kv kw kx ky kz la lb lc ld iq le lf lg iu lh li lj iy lk ll lm ln bi translated"><strong class="ak"> <em class="lo">如何创建一个？</em>T3】</strong></h2><p id="e89f" class="pw-post-body-paragraph if ig hi ih b ii lp ik il im lq io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated">可以通过命令行<a class="ae ka" href="https://docs.oracle.com/javase/8/docs/technotes/tools/unix/keytool.html" rel="noopener ugc nofollow" target="_blank"> keytool </a>或者使用像<a class="ae ka" href="https://keystore-explorer.org/" rel="noopener ugc nofollow" target="_blank"> KeyStore Explorer </a>这样的工具或者甚至通过编程来创建密钥。</p><p id="e467" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们至少需要知道<strong class="ih hj"> <em class="jg">键类型</em> </strong>和<strong class="ih hj"/><strong class="ih hj"><em class="jg">算法</em> </strong>来开始创建一个。</p><p id="6a00" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">按键类型</strong></p><p id="70d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些是钥匙的主要类型，</p><ul class=""><li id="5bec" class="ly lz hi ih b ii ij im in iq ma iu mb iy mc jc md me mf mg bi translated">密钥对—私钥、公钥</li><li id="c334" class="ly lz hi ih b ii mh im mi iq mj iu mk iy ml jc md me mf mg bi translated">秘密钥匙</li></ul><p id="3396" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">像<a class="ae ka" href="https://www.bouncycastle.org/latest_releases.html" rel="noopener ugc nofollow" target="_blank">赏金城堡</a>这样的外部库支持其他不同的密钥类型。</p><p id="e554" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">支持的算法</strong></p><p id="3a71" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面这段代码将列出所有<em class="jg">支持的算法</em>，这些算法可用于生成<strong class="ih hj">密钥</strong>或<strong class="ih hj">密钥对</strong></p><figure class="jl jm jn jo fd jp"><div class="bz dy l di"><div class="mm mn l"/></div></figure><p id="37cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦我们知道了<strong class="ih hj">键的类型。</strong>生成一个非常简单。这里有一个简单的Java代码来生成一个随机的<strong class="ih hj">密钥。</strong></p><figure class="jl jm jn jo fd jp"><div class="bz dy l di"><div class="mm mn l"/></div></figure><p id="4a30" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">返回的<strong class="ih hj">密钥</strong>可用于加密秘密。</p><h2 id="9ef0" class="kt ku hi bd kv kw kx ky kz la lb lc ld iq le lf lg iu lh li lj iy lk ll lm ln bi translated">我们能用它做什么？</h2><p id="4b3f" class="pw-post-body-paragraph if ig hi ih b ii lp ik il im lq io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated">从技术上讲，我们可以根据自己的需求做不同的事情。范围缩小到什么是<strong class="ih hj"> <em class="jg">秘密</em> </strong> <em class="jg">信息</em>以及我们将如何使用或共享<em class="jg">信息</em>。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es mo"><img src="../Images/ba3395037953175376553db2b94a961f.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/1*fUe0jsNPaTMbHdWjrdh6ag.png"/></div><p class="jw jx et er es jy jz bd b be z dx translated">典型的公钥证书</p></figure><p id="ab21" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里详细说明了如何在<a class="ae ka" rel="noopener" href="/javarevisited/best-https-ssl-and-tls-courses-for-beginners-4437661250b3"><strong class="ih hj"><em class="jg">SSL</em></strong></a><strong class="ih hj"><em class="jg">证书</em> </strong>中使用它的示例，</p><div class="kb kc ez fb kd ke"><a rel="noopener follow" target="_blank" href="/@suriyaprakhash/ssl-certificate-67b4e3bdee38"><div class="kf ab dw"><div class="kg ab kh cl cj ki"><h2 class="bd hj fi z dy kj ea eb kk ed ef hh bi translated">SSL证书</h2><div class="kl l"><h3 class="bd b fi z dy kj ea eb kk ed ef dx translated">了解SSL基础知识</h3></div><div class="km l"><p class="bd b fp z dy kj ea eb kk ed ef dx translated">medium.com</p></div></div><div class="kn l"><div class="mp l kp kq kr kn ks ju ke"/></div></div></a></div><p id="13bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">也用在<a class="ae ka" href="https://javarevisited.blogspot.com/2020/05/10-example-of-ssh-command-in-linux-and.html" rel="noopener ugc nofollow" target="_blank"> SSH </a>，IOT，许可证，电子邮件，通信协议等。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es mq"><img src="../Images/26efb7661e2761e27505e5acfd00a0a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:988/format:webp/1*5FUXNuPKYWYHkrsn1tDlzQ.png"/></div><p class="jw jx et er es jy jz bd b be z dx translated">SSH方式认证进入<a class="ae ka" href="http://github.com" rel="noopener ugc nofollow" target="_blank"> Github </a></p></figure><h2 id="cc1e" class="kt ku hi bd kv kw kx ky kz la lb lc ld iq le lf lg iu lh li lj iy lk ll lm ln bi translated">密钥是如何存储在密钥库中的？</h2><p id="066a" class="pw-post-body-paragraph if ig hi ih b ii lp ik il im lq io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated">被人说中了要害。让我们看看它们是如何储存的。如前所述，<strong class="ih hj"> KeyStore </strong>是作为<strong class="ih hj"> <em class="jg">条目的<strong class="ih hj"> Key </strong> s的集合列表。</em> </strong></p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es mr"><img src="../Images/b7791ec4856028aa39c02111141b8f63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1326/format:webp/1*OIhuz4vwELxrbRFLZJA9wg.png"/></div><p class="jw jx et er es jy jz bd b be z dx translated">包含多个密钥(公共证书、私钥和公钥的密钥对、SecretKey)的密钥库</p></figure><p id="0bbc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">类似于<strong class="ih hj">密钥</strong>，我们有<a class="ae ka" href="https://docs.oracle.com/javase/8/docs/technotes/tools/unix/keytool.html" rel="noopener ugc nofollow" target="_blank">类似的工具</a>来创建<em class="jg">密钥库</em>。但是，在这个演示中，我们将研究创建一个的编程方式。</p><figure class="jl jm jn jo fd jp"><div class="bz dy l di"><div class="mm mn l"/></div></figure><p id="8373" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我们回答了我们的问题。</p></div></div>    
</body>
</html>