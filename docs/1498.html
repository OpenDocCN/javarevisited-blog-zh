<html>
<head>
<title>How Java Code Compile And Run ?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Java代码如何编译和运行？</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/how-java-code-compiled-and-run-e4702fb83ffa?source=collection_archive---------2-----------------------#2021-08-24">https://medium.com/javarevisited/how-java-code-compiled-and-run-e4702fb83ffa?source=collection_archive---------2-----------------------#2021-08-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="95b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">关于Java编译过程的小故事</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/a5e8243cd5b3f35c2a3277b255cbfa76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xjoAeVWt46Fsw-sDrRDX_g.png"/></div></div></figure><p id="0bd1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">读者们好！！如果您是Java开发人员，您可能没有注意到Java代码是如何编译和运行的，或者由于其复杂性，您可能没有很好地理解整个过程。在本文中，为了更好地理解，我将忽略JDK过程的一些复杂性，我将解释Java编译和运行过程，并且我还将谈到:</p><p id="d2bc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">◼关于JDK、JVM、JRE、JIT的区别<br/> ◼的解释”。<em class="jp"> class" </em>文件<br/>验证了类加载器和字节码的◼描述</p></div><div class="ab cl jq jr gp js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hb hc hd he hf"><p id="0ed8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们深入研究编译过程之前，我们必须了解JDK:</p><h1 id="b567" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">什么是JDK？</h1><p id="9a1a" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">JDK，或<strong class="ih hj"> Java开发工具包</strong>，由我们用来开发和运行Java代码的工具组成。在开发和运行Java代码之前，您应该将它安装在您计算机或系统中。下图，代表JDK的结构:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es la"><img src="../Images/efa2cb641b32b9d4961498a8db62c7eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SefMskkQDSqEy9to3yyImg.png"/></div></div><p class="lb lc et er es ld le bd b be z dx translated">图片1。JDK的结构</p></figure><p id="3173" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如你所见，<strong class="ih hj"> JDK </strong>拥有由<strong class="ih hj"> JRE </strong>和<strong class="ih hj"> Java组成的开发工具。<br/> JRE </strong>或<strong class="ih hj">或<em class="jp"> Java运行时环境是</em> </strong>一个包<strong class="ih hj"> <em class="jp"> </em> </strong>它提供了一个环境，让<strong class="ih hj">只在你的机器上运行(</strong>不开发)Java程序(或应用程序)。它只用于运行Java程序。</p><p id="7e35" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">JDT 或<strong class="ih hj"> Java开发工具</strong>由许多工具组成，如编译器、调试器和其他开发工具。</p><p id="543b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">JDK和JRE最重要的部分是<strong class="ih hj"> JVM </strong>或<strong class="ih hj"> Java虚拟机</strong>，它的职责是逐行执行代码。作为翻译也是知道的。接下来，我们将对它有更多的了解。</p><h1 id="b7a8" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">JDK如何编译和运行Java代码？</h1><p id="ca15" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">起初，Java编译器(Javac，即开发工具中的),转换Java类(用。java扩展)转换成字节码。字节码是一个扩展名为<em class="jp">的文件。类别</em>。<br/>字节码已经在所有操作系统中得到支持(比如Mac、Windows和Linux)。</p><p id="3ad1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要运行代码，我们需要JVM。每个操作系统中的JVM是不同的，为了运行Java，我们需要一个与操作系统兼容的JVM。<br/> Javac (Java编译器)通过<em class="jp">。类</em>文件到JVM。然后，在JVM中，执行三个阶段:</p><p id="4ebf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">◼类加载器<br/> ◼字节码验证<br/> ◼ Java实时编译器</p><p id="8ea5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">类加载器</strong>，是一个接受字节码的对象(带有。类扩展)并上传java类(不要混淆！！这里，类是指面向对象的类)在堆内存中。</p><p id="2b29" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">类加载器运行3个过程:加载、链接和初始化。加载时，字节码保存在方法区，类加载到内存中。<br/>在链接过程中，类和接口组合成JVM的运行时状态，所以它是可执行的。<br/>在初始化过程中，执行上一节中的链接类。</p><p id="0c91" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了更好地说明类加载器的过程，首先它在堆内存中寻找类对象。如果可用，则返回它。但是如果在堆中没有找到，它就寻找<em class="jp">。</em>类文件。反之，如果<em class="jp">。未找到类</em>文件，返回异常，否则在堆内存中创建类对象。</p><p id="8e54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，通过<strong class="ih hj">字节码验证来检查类加载器。</strong>在此过程中，检查class loader的问题和危险<strong class="ih hj">。</strong>例如，如果在程序中，我们使用了一个没有声明的变量，或者如果<strong class="ih hj"> </strong>运行时堆栈溢出，就会抛出异常，编译过程就会停止。</p><p id="a3d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们的代码没有任何问题，<strong class="ih hj">实时(JIT) </strong>编译器会将其转换为<strong class="ih hj">本机代码</strong>。编译过程完成了！！</p><blockquote class="lf lg lh"><p id="2093" class="if ig jp ih b ii ij ik il im in io ip li ir is it lj iv iw ix lk iz ja jb jc hb bi translated"><strong class="ih hj">机器码</strong>是一种低级编程语言，由<strong class="ih hj">机器语言</strong>指令组成，用于控制计算机的中央处理器(CPU)。每条指令都使CPU执行一个非常具体的任务，比如加载、存储、跳转或者对CPU寄存器或内存中的一个或多个数据单元进行算术逻辑单元(ALU)操作<em class="hi">。</em></p></blockquote><p id="6625" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">节点:正如我在文章开头所说的，这些步骤并没有经过运行程序的所有JDK步骤。为了更好地理解，我们忽略了一些步骤。编译Java代码比这更复杂。这篇文章简要介绍了JDK的编译过程。要了解更多，请阅读提到的资源。</p></div><div class="ab cl jq jr gp js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hb hc hd he hf"><p id="89dc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">资源:</p><p id="2bfb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">🔹<a class="ae ll" href="https://www.geeksforgeeks.org/compilation-execution-java-program/" rel="noopener ugc nofollow" target="_blank">Java程序的编译和执行</a> <br/>🔹<a class="ae ll" href="https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html" rel="noopener ugc nofollow" target="_blank">类加载器:Oracle</a>T28】🔹Java中类装入器的作用是什么？ <br/>🔹<a class="ae ll" href="https://en.wikipedia.org/wiki/Machine_code" rel="noopener ugc nofollow" target="_blank">机器码:维基百科</a>T34】🔹<a class="ae ll" rel="noopener" href="/javarevisited/jvm-101-introduction-classloader-sub-system-jit-compiler-part-1-9e5a6782fa3e"> JVM 101:简介，类加载器子系统&amp; JIT编译器(第一部分)</a></p></div></div>    
</body>
</html>