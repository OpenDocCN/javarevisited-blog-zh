<html>
<head>
<title>How To Use Choice and When in Apache Camel?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在阿帕奇骆驼中使用Choice和When？</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/how-to-use-choice-and-when-in-apache-camel-4f16c67bfa80?source=collection_archive---------0-----------------------#2022-05-11">https://medium.com/javarevisited/how-to-use-choice-and-when-in-apache-camel-4f16c67bfa80?source=collection_archive---------0-----------------------#2022-05-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="db2c" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">阿帕奇骆驼</h2><div class=""/><p id="8335" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">Hello🖐我自己<a class="jm jn ge" href="https://medium.com/u/a1b33b7cda75?source=post_page-----4f16c67bfa80--------------------------------" rel="noopener" target="_blank">罗汉·拉温德拉·卡达姆</a>，全栈开发者</p><p id="9e36" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">欢迎，开发者社区！！在本文中，我们试图理解使用<a class="ae jo" href="https://javarevisited.blogspot.com/2022/02/top-5-courses-to-learn-apache-camel-in.html" rel="noopener ugc nofollow" target="_blank"> Apache Camel </a>的异常处理。在直接进入文章之前，让我们试着理解与主题相关的某些问题或疑问。我们可能会问什么是阿帕奇骆驼？为什么用阿帕奇骆驼？如何在阿帕奇骆驼中使用Choice和When？</p><figure class="jq jr js jt fd ju er es paragraph-image"><a href="https://www.java67.com/2022/02/5-best-apache-camel-courses-for-java.html"><div class="er es jp"><img src="../Images/10f8fa82e444ed7f7125f87ad02086d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Volkb4cPZ88m-t_QjZEumA.png"/></div></a><p class="jx jy et er es jz ka bd b be z dx translated">如何在阿帕奇骆驼中使用选择和时间？</p></figure><p id="e88a" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">嘿，社区，让我们深入到我们的问题中去，找到问题的答案。</p><h2 id="dd93" class="kb kc hi bd kd ke kf kg kh ki kj kk kl iz km kn ko jd kp kq kr jh ks kt ku ho bi translated">⚡什么是阿帕奇骆驼？</h2><p id="8ced" class="pw-post-body-paragraph io ip hi iq b ir kv it iu iv kw ix iy iz kx jb jc jd ky jf jg jh kz jj jk jl hb bi translated">Apache Camel是一个基于已知的<a class="ae jo" href="https://camel.apache.org/components/3.15.x/eips/enterprise-integration-patterns.html" rel="noopener ugc nofollow" target="_blank">企业集成模式</a>的通用开源集成框架。</p><p id="6ea7" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">Camel使您能够用各种特定于领域的语言(<a class="ae jo" href="https://camel.apache.org/manual/dsl.html" rel="noopener ugc nofollow" target="_blank"> DSL </a>，比如<a class="ae jo" rel="noopener" href="/javarevisited/10-best-places-to-learn-java-online-for-free-ce5e713ab5b2"> Java </a>，XML，<a class="ae jo" rel="noopener" href="/javarevisited/6-best-resources-to-learn-groovy-and-grails-for-java-developers-18c04e88fa8a"> Groovy </a>，<a class="ae jo" rel="noopener" href="/javarevisited/top-5-courses-to-learn-kotlin-in-2020-dfc3fa7706d8"> Kotlin </a>，以及<a class="ae jo" href="https://javarevisited.blogspot.com/2021/11/top-5-courses-to-learn-yaml-in-2022.html" rel="noopener ugc nofollow" target="_blank"> YAML </a>)来定义路由和中介规则。这意味着您可以在IDE中智能地完成路由规则，无论是在Java还是XML编辑器中。</p><p id="5afb" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">Apache Camel使用<a class="ae jo" href="https://camel.apache.org/manual/uris.html" rel="noopener ugc nofollow" target="_blank"> URIs </a>来直接处理任何类型的传输或消息模型，如<a class="ae jo" href="https://camel.apache.org/components/3.15.x/http-component.html" rel="noopener ugc nofollow" target="_blank"> HTTP </a>、<a class="ae jo" href="https://camel.apache.org/components/3.15.x/activemq-component.html" rel="noopener ugc nofollow" target="_blank"> ActiveMQ </a>、<a class="ae jo" href="https://camel.apache.org/components/3.15.x/jms-component.html" rel="noopener ugc nofollow" target="_blank"> JMS </a>、【JBI】SCA、<a class="ae jo" href="https://camel.apache.org/components/3.15.x/mina-component.html" rel="noopener ugc nofollow" target="_blank"> MINA </a>或<a class="ae jo" href="https://camel.apache.org/components/3.15.x/cxf-component.html" rel="noopener ugc nofollow" target="_blank"> CXF </a>，以及可插拔的<a class="ae jo" href="https://camel.apache.org/manual/component.html" rel="noopener ugc nofollow" target="_blank">组件</a>和<a class="ae jo" href="https://camel.apache.org/manual/data-format.html" rel="noopener ugc nofollow" target="_blank">数据格式</a>选项。Apache Camel是一个很小的库，具有最少的<a class="ae jo" href="https://camel.apache.org/manual/what-are-the-dependencies.html" rel="noopener ugc nofollow" target="_blank">依赖性</a>，可以很容易地嵌入到任何Java应用程序中。Apache Camel允许您使用相同的<a class="ae jo" href="https://camel.apache.org/manual/exchange.html" rel="noopener ugc nofollow" target="_blank"> API </a>工作，不管使用哪种传输方式——所以学习一次API，您就可以与开箱即用的所有<a class="ae jo" href="https://camel.apache.org/components/3.15.x/index.html" rel="noopener ugc nofollow" target="_blank">组件</a>进行交互。</p><p id="a229" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">Apache Camel支持Bean绑定以及与CDI、<a class="ae jo" href="https://camel.apache.org/manual/spring.html" rel="noopener ugc nofollow" target="_blank"> Spring </a>等流行框架的无缝集成。Camel也广泛支持<a class="ae jo" href="https://camel.apache.org/manual/testing.html" rel="noopener ugc nofollow" target="_blank">单元测试</a>你的路线。</p><h2 id="8001" class="kb kc hi bd kd ke kf kg kh ki kj kk kl iz km kn ko jd kp kq kr jh ks kt ku ho bi translated">⚡为什么使用阿帕奇骆驼？</h2><p id="a312" class="pw-post-body-paragraph io ip hi iq b ir kv it iu iv kw ix iy iz kx jb jc jd ky jf jg jh kz jj jk jl hb bi translated">让我们试着列出Apache Camel的一些用例</p><ol class=""><li id="6c21" class="la lb hi iq b ir is iv iw iz lc jd ld jh le jl lf lg lh li bi translated">为<strong class="iq hs">企业集成模式(EIP) </strong>提供支持</li><li id="0c34" class="la lb hi iq b ir lj iv lk iz ll jd lm jh ln jl lf lg lh li bi translated"><strong class="iq hs">随处运行</strong> :- Apache Camel是独立的，可以作为库嵌入到<a class="ae jo" rel="noopener" href="/javarevisited/10-free-spring-boot-tutorials-and-courses-for-java-developers-53dfe084587e"> Spring Boot </a>、<a class="ae jo" rel="noopener" href="/javarevisited/10-best-free-dropwizard-vert-x-micronaut-and-quarkus-online-courses-for-java-developers-9c2b4161f17"> Quarkus </a>、应用服务器和云中。Camel子项目致力于简化您的工作。</li><li id="c6d4" class="la lb hi iq b ir lj iv lk iz ll jd lm jh ln jl lf lg lh li bi translated"><strong class="iq hs">挤满了组件</strong> :-挤满了数百个组件，用于访问数据库、消息队列、API或天底下的任何东西。帮助你融入一切。</li><li id="f3a4" class="la lb hi iq b ir lj iv lk iz ll jd lm jh ln jl lf lg lh li bi translated"><strong class="iq hs">支持超过50种数据格式</strong> :- Camel支持大约50种数据格式，允许翻译多种格式的消息，并支持金融、电信、医疗保健等行业标准格式。</li></ol><h2 id="2dab" class="kb kc hi bd kd ke kf kg kh ki kj kk kl iz km kn ko jd kp kq kr jh ks kt ku ho bi translated">⚡如何使用选择和当在阿帕奇骆驼？</h2><p id="5086" class="pw-post-body-paragraph io ip hi iq b ir kv it iu iv kw ix iy iz kx jb jc jd ky jf jg jh kz jj jk jl hb bi translated">嘿，🖐Community，在文章的前一部分，我们试图解释为什么&amp;阿帕奇骆驼怎么样？在第节中，我们将尝试理解相同的实现。</p><p id="54c0" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">在直接进入实现之前，不要忘记看看如何使用Apache Camel 编写第一条路线？从下面的链接</p><div class="lo lp ez fb lq lr"><a href="https://rohankadam965.medium.com/apache-camel-how-to-write-first-route-7f7767c86c2a" rel="noopener follow" target="_blank"><div class="ls ab dw"><div class="lt ab lu cl cj lv"><h2 class="bd hs fi z dy lw ea eb lx ed ef hr bi translated">阿帕奇骆驼🦒:如何写第一条路线？</h2><div class="ly l"><h3 class="bd b fi z dy lw ea eb lx ed ef dx translated">你好，我是罗汉·卡达姆😊,</h3></div><div class="lz l"><p class="bd b fp z dy lw ea eb lx ed ef dx translated">rohankadam965.medium.com</p></div></div><div class="ma l"><div class="mb l mc md me ma mf jv lr"/></div></div></a></div><h2 id="a2d9" class="kb kc hi bd kd ke kf kg kh ki kj kk kl iz km kn ko jd kp kq kr jh ks kt ku ho bi translated">步骤1:如何使用Spring Initializr创建项目？</h2><div class="lo lp ez fb lq lr"><a href="https://start.spring.io/" rel="noopener  ugc nofollow" target="_blank"><div class="ls ab dw"><div class="lt ab lu cl cj lv"><h2 class="bd hs fi z dy lw ea eb lx ed ef hr bi translated">弹簧初始化r</h2><div class="ly l"><h3 class="bd b fi z dy lw ea eb lx ed ef dx translated">Initializr生成一个spring boot项目，其中包含您快速启动所需的内容！</h3></div><div class="lz l"><p class="bd b fp z dy lw ea eb lx ed ef dx translated">start.spring.io</p></div></div><div class="ma l"><div class="mg l mc md me ma mf jv lr"/></div></div></a></div><h2 id="ab31" class="kb kc hi bd kd ke kf kg kh ki kj kk kl iz km kn ko jd kp kq kr jh ks kt ku ho bi translated">步骤2:项目中包括哪些依赖项？</h2><figure class="jq jr js jt fd ju er es paragraph-image"><a href="https://javarevisited.blogspot.com/2019/03/top-5-course-to-learn-apache-maven-for.html"><div class="er es mh"><img src="../Images/ba573deeffd99de9bc6a37f6001e038f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kwv0n-8ftJ2Y8dCwgc5o0A.png"/></div></a><p class="jx jy et er es jz ka bd b be z dx translated">功劳:<a class="jm jn ge" href="https://medium.com/u/a1b33b7cda75?source=post_page-----4f16c67bfa80--------------------------------" rel="noopener" target="_blank">罗汉·拉温德拉·卡达姆</a>属地</p></figure><h2 id="e04e" class="kb kc hi bd kd ke kf kg kh ki kj kk kl iz km kn ko jd kp kq kr jh ks kt ku ho bi translated">步骤3:如何在apache camel中使用choice和when？</h2><p id="89a1" class="pw-post-body-paragraph io ip hi iq b ir kv it iu iv kw ix iy iz kx jb jc jd ky jf jg jh kz jj jk jl hb bi translated">Apache Camel包含一个强大的特性，叫做<strong class="iq hs">基于内容的路由器。</strong>这允许您根据内容对消息进行不同的处理。</p><p id="5566" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">它们与Java中的<code class="du mi mj mk ml b">if/else</code>语句非常相似。不管怎样，在Camel中，对应的词是<code class="du mi mj mk ml b">when</code>和<code class="du mi mj mk ml b">otherwise</code>。</p><pre class="jq jr js jt fd mm ml mn mo aw mp bi"><span id="a7bb" class="kb kc hi ml b fi mq mr l ms mt">package com.example.apachecameltest.route;<br/><br/>import org.apache.camel.builder.RouteBuilder;<br/>import org.springframework.stereotype.Component;<br/><br/>@Component<br/>public class ChoiceWhenRoute extends RouteBuilder {<br/>    @Override<br/>    public void configure() throws Exception {<br/><br/>        from("direct:startWhenChoiceRoute")<br/>                .routeId("direct:startWhenChoiceRoute")<br/>                .log( "${body}")<br/>                .choice()<br/>                    .when(body().isNull())<br/>                        .log("Message body is empty.")<br/>                .log("${body}")<br/>                .end();<br/>    }<br/>}</span></pre><h2 id="55b1" class="kb kc hi bd kd ke kf kg kh ki kj kk kl iz km kn ko jd kp kq kr jh ks kt ku ho bi translated">第四步:测试我们的骆驼路线？</h2><p id="8781" class="pw-post-body-paragraph io ip hi iq b ir kv it iu iv kw ix iy iz kx jb jc jd ky jf jg jh kz jj jk jl hb bi translated">为了测试我们的骆驼路线，将使用控制器端点</p><pre class="jq jr js jt fd mm ml mn mo aw mp bi"><span id="84d7" class="kb kc hi ml b fi mq mr l ms mt">package com.example.apachecameltest;<br/><br/>import org.apache.camel.CamelContext;<br/>import org.apache.camel.Exchange;<br/>import org.apache.camel.ProducerTemplate;<br/>import org.apache.camel.builder.ExchangeBuilder;<br/>import org.springframework.beans.factory.annotation.Autowired;<br/>import org.springframework.web.bind.annotation.GetMapping;<br/>import org.springframework.web.bind.annotation.RestController;<br/><br/>@RestController<br/>public class Controler {<br/><br/>    @Autowired<br/>    private ProducerTemplate producerTemplate;<br/><br/>    @Autowired<br/>    private CamelContext camelContext;<br/><br/>    @GetMapping<br/>    public void function() {<br/>        final Exchange<br/>                requestExchange = ExchangeBuilder<br/>                .<em class="mu">anExchange</em>(camelContext)<br/>                .build();<br/><br/>      producerTemplate<br/>         .send("direct:startWhenChoiceRoute",requestExchange);<br/><br/>    }<br/>}</span></pre><p id="2103" class="pw-post-body-paragraph io ip hi iq b ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl hb bi translated">嘿，🖐，要了解更多关于ProducerTemplate &amp; Camel的内容，请点击下面的链接</p><div class="lo lp ez fb lq lr"><a href="https://camel.apache.org/manual/producertemplate.html" rel="noopener  ugc nofollow" target="_blank"><div class="ls ab dw"><div class="lt ab lu cl cj lv"><h2 class="bd hs fi z dy lw ea eb lx ed ef hr bi translated">Apache Camel帮助您集成300多个不同的系统！</h2><div class="ly l"><h3 class="bd b fi z dy lw ea eb lx ed ef dx translated">ProducerTemplate接口允许您以各种不同的方式向端点发送消息交换，以使…</h3></div><div class="lz l"><p class="bd b fp z dy lw ea eb lx ed ef dx translated">camel.apache.org</p></div></div></div></a></div><div class="lo lp ez fb lq lr"><a href="https://camel.apache.org/manual/camelcontext.html" rel="noopener  ugc nofollow" target="_blank"><div class="ls ab dw"><div class="lt ab lu cl cj lv"><h2 class="bd hs fi z dy lw ea eb lx ed ef hr bi translated">Apache Camel帮助您集成300多个不同的系统！</h2><div class="ly l"><h3 class="bd b fi z dy lw ea eb lx ed ef dx translated">CamelContext是作为运行时Camel的容器。CamelContext是运行时系统，它包含…</h3></div><div class="lz l"><p class="bd b fp z dy lw ea eb lx ed ef dx translated">camel.apache.org</p></div></div><div class="ma l"><div class="mv l mc md me ma mf jv lr"/></div></div></a></div><h2 id="5d52" class="kb kc hi bd kd ke kf kg kh ki kj kk kl iz km kn ko jd kp kq kr jh ks kt ku ho bi translated">第五步:骆驼路线输出？</h2><pre class="jq jr js jt fd mm ml mn mo aw mp bi"><span id="9712" class="kb kc hi ml b fi mq mr l ms mt"> direct:startWhenChoiceRoute              : null<br/> direct:startWhenChoiceRoute              : Message body is empty.<br/> direct:startWhenChoiceRoute              : null</span></pre><h2 id="c2f8" class="kb kc hi bd kd ke kf kg kh ki kj kk kl iz km kn ko jd kp kq kr jh ks kt ku ho bi translated">🖐Conclusion:-</h2><p id="581b" class="pw-post-body-paragraph io ip hi iq b ir kv it iu iv kw ix iy iz kx jb jc jd ky jf jg jh kz jj jk jl hb bi translated">在文章中，我们试图在apache camel中实现choice和when。我们也试图了解一些关于阿帕奇骆驼的事情。请分享和喜欢💕如果你觉得文章有用。在媒体上关注我，在推特上关注我，关注我，关注我，关注我，关注我，关注我，关注我，关注我</p><h2 id="fdc8" class="kb kc hi bd kd ke kf kg kh ki kj kk kl iz km kn ko jd kp kq kr jh ks kt ku ho bi translated">⚡Bibliography</h2><div class="lo lp ez fb lq lr"><a href="https://camel.apache.org/" rel="noopener  ugc nofollow" target="_blank"><div class="ls ab dw"><div class="lt ab lu cl cj lv"><h2 class="bd hs fi z dy lw ea eb lx ed ef hr bi translated">主页</h2><div class="ly l"><h3 class="bd b fi z dy lw ea eb lx ed ef dx translated">Camel支持Gregor Hohpe和Bobby Woolf的优秀著作中的大多数企业集成模式，并且…</h3></div><div class="lz l"><p class="bd b fp z dy lw ea eb lx ed ef dx translated">camel.apache.org</p></div></div><div class="ma l"><div class="mw l mc md me ma mf jv lr"/></div></div></a></div><div class="lo lp ez fb lq lr"><a rel="noopener follow" target="_blank" href="/javarevisited/how-to-implement-exception-handling-using-apache-camel-26faad831e8f"><div class="ls ab dw"><div class="lt ab lu cl cj lv"><h2 class="bd hs fi z dy lw ea eb lx ed ef hr bi translated">如何使用Apache Camel实现异常处理？</h2><div class="ly l"><h3 class="bd b fi z dy lw ea eb lx ed ef dx translated">你好，🖐，我自己，罗汉·拉温德拉·卡达姆</h3></div><div class="lz l"><p class="bd b fp z dy lw ea eb lx ed ef dx translated">medium.com</p></div></div><div class="ma l"><div class="mx l mc md me ma mf jv lr"/></div></div></a></div><div class="lo lp ez fb lq lr"><a rel="noopener follow" target="_blank" href="/javarevisited/how-to-consume-public-api-using-apache-camel-70f7382959ab"><div class="ls ab dw"><div class="lt ab lu cl cj lv"><h2 class="bd hs fi z dy lw ea eb lx ed ef hr bi translated">如何使用Apache Camel消费公共API？</h2><div class="ly l"><h3 class="bd b fi z dy lw ea eb lx ed ef dx translated">Hello🖐我自己Rohan Ravindra Kadam，全栈开发者</h3></div><div class="lz l"><p class="bd b fp z dy lw ea eb lx ed ef dx translated">medium.com</p></div></div><div class="ma l"><div class="my l mc md me ma mf jv lr"/></div></div></a></div><figure class="jq jr js jt fd ju er es paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="er es mz"><img src="../Images/8952bc045d848312bfba126ae001248a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*JeDWjbqsIuG60N6l.png"/></div></div><p class="jx jy et er es jz ka bd b be z dx translated">谢谢观众们— <a class="jm jn ge" href="https://medium.com/u/a1b33b7cda75?source=post_page-----4f16c67bfa80--------------------------------" rel="noopener" target="_blank">罗汉·拉温德拉·卡达姆</a></p></figure></div></div>    
</body>
</html>