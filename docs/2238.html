<html>
<head>
<title>Keystores and Truststores in WSO2 IS🔐</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">WSO2中的密钥库和信任库是🔐</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/keystores-and-truststores-in-wso2-is-b18df7bd9382?source=collection_archive---------0-----------------------#2022-07-10">https://medium.com/javarevisited/keystores-and-truststores-in-wso2-is-b18df7bd9382?source=collection_archive---------0-----------------------#2022-07-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="d4df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大多数程序员感到困惑的最常见的术语之一是<a class="ae jd" href="https://javarevisited.blogspot.com/2012/03/add-list-certficates-java-keystore.html" rel="noopener ugc nofollow" target="_blank">密钥库</a>。大多数人不了解密钥库的重要性和功能。为了理解密钥库的重要性以及WSO2是如何使用密钥库的，首先，我们需要知道为什么我们需要<a class="ae jd" href="https://javarevisited.blogspot.com/2012/09/difference-between-truststore-vs-keyStore-Java-SSL.html" rel="noopener ugc nofollow" target="_blank">密钥库</a>。要开始学习它，我们首先需要了解什么是加密和解密。</p><h1 id="44b3" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">什么是加密和解密？</h1><p id="e341" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">任何应用程序最重要的方面之一是它应该有一个加密和解密数据的过程。为了理解密钥库在加密过程中的作用，我们首先需要理解什么是加密。</p><p id="8359" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用最直白的话说，加密意味着使用一些数学和一组指令来隐藏和保护数据。这些数学和指令使纯文本文字变成一种不可理解的文本，称为密码文本。要解开密文并查看纯文本，我们需要解密它。</p><figure class="ki kj kk kl fd km er es paragraph-image"><a href="http://java67.blogspot.sg/2012/09/keytool-command-examples-java-add-view-certificate-ssl.html"><div class="er es kh"><img src="../Images/1f5447aec4f4482d15d8fdb7995ff8f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:802/format:webp/1*wN6ZqQyFFDSGEXgiHbh-Lg.png"/></div></a><p class="kp kq et er es kr ks bd b be z dx translated">加密和解密过程</p></figure><p id="332b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有两种主要的加密类型。</p><ul class=""><li id="3640" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated">对称加密—在这种情况下，我们使用相同的密钥来加密和解密数据。</li><li id="bf29" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">不对称加密—我们使用两个独立的密钥来加密和解密数据。</li></ul><p id="fff6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们来了解一下不对称加密，因为它对于密钥库是必不可少的。</p><h2 id="a577" class="lh jf hi bd jg li lj lk jk ll lm ln jo iq lo lp js iu lq lr jw iy ls lt ka lu bi translated">不对称加密</h2><p id="f8b8" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">不对称加密是一种使用公钥和私钥加密和解密数据的方式。在非对称加密中，公钥与外部方共享，而私钥保密。</p><p id="e22f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当公钥加密数据时，其对应的私钥解密数据。这就是为什么这也被称为公钥加密和公钥密码学。</p><p id="fa7d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不对称加密是一种通过不安全的公共渠道来验证你从未见过的第三方的方法。举个例子，在阅读本文时，您正在使用非对称加密。你能看到在你的网址中有一个安全挂锁图标或<a class="ae jd" href="https://javarevisited.blogspot.com/2013/07/how-ssl-https-and-certificates-works-in-java-web-application.html" rel="noopener ugc nofollow" target="_blank"> HTTPS </a>吗？这两种情况都表明您已经连接到使用<a class="ae jd" href="https://javarevisited.blogspot.com/2022/02/top-5-courses-to-learn-ssl-and-tls-in.html" rel="noopener ugc nofollow" target="_blank"> SSL/TLS </a>(安全套接字层/传输层安全)证书和安全TLS协议的网站。这实际上被称为SSL/TLS握手过程。SSL/TLS握手的步骤是，</p><ul class=""><li id="7077" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated">“客户端问候”消息—客户端通过向服务器发送“问候”消息来发起握手。这将包括客户端支持的TLS版本、受支持的密码套件以及一个被称为“客户端随机”的随机字节字符串。密码套件是一组用于建立安全通信连接的加密算法。这些通常有密钥交换算法、批量加密算法和消息认证码算法。</li><li id="6cf9" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">“服务器问候”消息—作为对客户端“问候”消息的回复，服务器会发送一条消息，其中包含服务器的SSL证书、服务器选择的密码套件以及“服务器随机”，即服务器生成的另一个随机字节字符串。</li><li id="5202" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">认证——客户端向颁发证书的认证机构(CA)验证服务器的<a class="ae jd" href="https://www.java67.com/2012/09/keytool-command-examples-java-add-view-certificate-ssl.html" rel="noopener ugc nofollow" target="_blank"> SSL证书</a>。</li><li id="2a95" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">前置密码—客户端发送一个随机字节串，即“前置密码”。预主密钥用公钥加密，只能由服务器用私钥解密(客户端从服务器的SSL证书获取公钥)</li><li id="9f19" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">使用私钥—服务器解密预主密钥。</li><li id="37eb" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">创建会话密钥—客户端和服务器都从客户端随机密钥、服务器随机密钥和预主控密钥中生成会话密钥。</li><li id="fe0c" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">客户端准备好了——客户端发送用会话密钥加密的“完成”消息。</li><li id="505d" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">服务器准备就绪—服务器发送一条用会话密钥加密的“完成”消息。</li><li id="92ae" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">实现安全对称加密—握手完成，通信使用会话密钥继续进行。</li></ul><p id="6d97" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然理论看起来上面的TLS连接很难理解。为了确保你得到正确的答案，我们将使用下面的例子。</p><p id="bce6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设你的浏览器是谷歌浏览器，你想登录YouTube。那么步骤将如下。</p><ol class=""><li id="da35" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc lv kz la lb bi translated">你在浏览器的地址栏中输入<code class="du lw lx ly lz b">https://www.youtube.com</code>，然后输入回车，说<em class="ma">给我youtube。</em></li><li id="adee" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc lv kz la lb bi translated">然后，YouTube发<em class="ma">当然，这是我的证书，里面有我的公钥。它是由谷歌CA签署的。</em></li><li id="be18" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc lv kz la lb bi translated">然后浏览器说，<em class="ma">哦！我也知道Google CA，我信任Google。而且我还有Google CA的公钥。所以我会核实一下。</em></li><li id="2cb0" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc lv kz la lb bi translated">验证公钥后，浏览器对<code class="du lw lx ly lz b">https://www.youtube.com</code> <em class="ma">说我信任Google CA，看来你就是你所说的那个人。因此，我创建了一个随机密钥，并用公钥对其进行加密。</em></li><li id="4076" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc lv kz la lb bi translated">然后<code class="du lw lx ly lz b">https://www.youtube.com</code>说<em class="ma">哇！明智的选择。我将使用我的私钥解密它，这样我就可以拥有你的密钥。</em></li><li id="0072" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc lv kz la lb bi translated">之后，浏览器和<code class="du lw lx ly lz b">https://www.youtube.com</code>都是唯一拥有随机密钥的人。因此，他们可以通过使用该密钥加密数据来共享数据。</li></ol><p id="64bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了更好地理解这个概念，您可以按照下图中的步骤进行操作。</p><figure class="ki kj kk kl fd km er es paragraph-image"><a href="https://javarevisited.blogspot.com/2019/10/top-5-coursera-professional-certificates-for-programmers-IT-professionals.html"><div class="er es mb"><img src="../Images/68ccc61ade09400488dabb6c2cbb4673.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*1Wmi1i3ThA0eiZoTwNNxeA.png"/></div></a><p class="kp kq et er es kr ks bd b be z dx translated">简单来说就是TLS握手</p></figure><h1 id="d3bf" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">密钥库和信任库</h1><p id="97f6" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">那么什么是密钥库呢？密钥库是保存信任链的密钥和证书的存储库。在密钥库中，您可以存储私钥和公钥。<a class="ae jd" href="https://www.java67.com/2012/12/difference-between-truststore-vs.html" rel="noopener ugc nofollow" target="_blank">信任库</a>是另一个受密码保护的存储库，它存储数字证书。</p><h1 id="f492" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">WSO2身份服务器中的密钥库和信任库</h1><p id="fe01" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">WSO2有一个默认的keystore文件和truststore文件，它们位于<code class="du lw lx ly lz b">&lt;IS_HOME&gt;/repository/resources/security</code>目录中。</p><ul class=""><li id="4d4f" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated"><code class="du lw lx ly lz b">wso2carbon.jks</code> —这是默认的密钥库，包含私钥和自签名公钥证书。</li><li id="8d42" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated"><code class="du lw lx ly lz b">client-truststore.jks</code> —这是默认的信任库，其中包含可以验证第三方系统身份的知名ca的证书。这个信任库还包含默认的<code class="du lw lx ly lz b">wso2carbon.jks</code>密钥库的自签名证书。</li></ul><p id="b539" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">尽管这些是密钥库文件，但通常WSO2有四种类型的密钥库。</p><ul class=""><li id="c4cc" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated">主密钥库—加密IS外部的数据(例如JWT令牌)。</li><li id="f2f1" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">内部密钥库—加密IS内部的关键数据。</li><li id="6e2a" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">SSL/TLS密钥库—促进SSL/TLS连接。</li><li id="aa4b" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">信任库—包含数字证书。</li></ul><p id="1f88" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您打开<code class="du lw lx ly lz b">&lt;IS_HOME&gt;/repository/conf/deployment.toml</code>文件，您可以看到主密钥库已经被设置为<code class="du lw lx ly lz b">wso2carbon.jks</code></p><pre class="ki kj kk kl fd mc lz md me aw mf bi"><span id="56bd" class="lh jf hi lz b fi mg mh l mi mj">[keystore.primary]<br/>file_name = wso2carbon.jks<br/>password = wso2carbon</span><span id="a078" class="lh jf hi lz b fi mk mh l mi mj">[truststore]<br/>file_name="client-truststore.jks"<br/>password="wso2carbon"<br/>type="JKS"</span></pre><p id="0b54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您没有单独提到内部和SSL/TLS密钥库，上面提到的代码片段会确保这两个密钥库获得相同的<code class="du lw lx ly lz b">wso2carbon.jks</code>，它与主<a class="ae jd" href="https://www.java67.com/2012/09/keytool-command-examples-java-add-view-certificate-ssl.html" rel="noopener ugc nofollow" target="_blank">密钥库</a>相同。</p><p id="dd8b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">尽管使用<code class="du lw lx ly lz b">deployment.toml</code>设置密钥库是完全没问题的，但是知道这些密钥库在WSO2中的配置位置是很重要的，因为知道如何在不使用<code class="du lw lx ly lz b">deployment.toml</code>文件的情况下工作总是好的。</p><ul class=""><li id="5d39" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated">主密钥库和内部密钥库→ <code class="du lw lx ly lz b">&lt;IS_HOME&gt;/repository/conf/carbon.xml</code></li><li id="d7f5" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">SSL/TLS密钥库→ <code class="du lw lx ly lz b">&lt;IS_HOME&gt;/repository/conf/tomcat/catalina-server.xml</code></li><li id="6358" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">信任商店→ <code class="du lw lx ly lz b">&lt;IS_HOME&gt;/repostitory/conf/carbon.xml</code></li></ul><p id="b335" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">既然我们现在知道了密钥库的细节以及它们在WSO2 IS中的角色，我们可以看一个场景，看看如何向密钥库添加一个新的SSL/TLS证书，并在WSO2 IS中配置它。</p><h2 id="3c17" class="lh jf hi bd jg li lj lk jk ll lm ln jo iq lo lp js iu lq lr jw iy ls lt ka lu bi translated">使用密钥库创建证书</h2><p id="5204" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">在这种情况下，我们将看两个场景，</p><ul class=""><li id="9cab" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated">创建自签名证书</li><li id="b345" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">创建CA签名的证书</li></ul><h2 id="26b8" class="lh jf hi bd jg li lj lk jk ll lm ln jo iq lo lp js iu lq lr jw iy ls lt ka lu bi translated"><em class="ml">创建自签名证书并将其添加到信任库</em></h2><p id="e967" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">导航到<code class="du lw lx ly lz b">&lt;IS_HOME&gt;/repository/resources/security</code>并使用下面的命令创建一个包含私钥的新密钥库。</p><pre class="ki kj kk kl fd mc lz md me aw mf bi"><span id="3e12" class="lh jf hi lz b fi mg mh l mi mj">keytool -genkey -alias wso2carbon_1 -keyalg RSA -keysize 2048 -keystore newkeystore.jks -dname "CN=localhost, OU=Home, O=Home, L=SL, S=WS, C=LK" -storepass mypassword -keypass mypassword</span></pre><p id="f74e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里，<br/> CN →俗名<br/> OU →组织单位<br/> O →组织<br/> L →所在地<br/> S →州<br/> C →国家</p><p id="7223" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该命令将生成一个包含以下详细信息的新密钥库。<br/> -密钥库名称— <code class="du lw lx ly lz b">newkeystore.jks</code> <br/> -公钥证书别名— <code class="du lw lx ly lz b">wso2carbon_1</code> <br/> -密钥库密码— <code class="du lw lx ly lz b">mypassword</code> <br/> -私钥密码— <code class="du lw lx ly lz b">mypassword</code></p><p id="0886" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，我们将使用创建的JKS文件创建一个证书。</p><pre class="ki kj kk kl fd mc lz md me aw mf bi"><span id="5bbf" class="lh jf hi lz b fi mg mh l mi mj">keytool -exportcert -keystore newkeystore.jks -alias wso2carbon_1 -file wso2carbon.crt</span></pre><p id="cc4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在键入密钥库的密码之后，在本例中是<code class="du lw lx ly lz b">mypassword</code>，您将获得一个名为<code class="du lw lx ly lz b">wso2carbon.crt</code>的证书，因为这是一个自签名证书，我们需要将它添加到我们的<code class="du lw lx ly lz b">client-truststore.jks</code>中。</p><pre class="ki kj kk kl fd mc lz md me aw mf bi"><span id="6fa1" class="lh jf hi lz b fi mg mh l mi mj">keytool -importcert -keystore client-truststore.jks -alias wso2carbon_1 -file wso2carbon.crt</span></pre><p id="e4dc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该命令将询问<code class="du lw lx ly lz b">client-truststore.jks</code>的密码，信任库的默认密码是<code class="du lw lx ly lz b">wso2carbon</code>添加证书后，您可以使用以下命令查看<code class="du lw lx ly lz b">client-truststore.jks</code>的密钥。</p><pre class="ki kj kk kl fd mc lz md me aw mf bi"><span id="66fb" class="lh jf hi lz b fi mg mh l mi mj">keytool -list -keystore client-truststore.jks -storepass wso2carbon</span></pre><figure class="ki kj kk kl fd km er es paragraph-image"><a href="https://javarevisited.blogspot.com/2012/03/add-list-certficates-java-keystore.html"><div class="er es mm"><img src="../Images/a01932a2e83417e08d43409021e0701f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_iYZ-lMH4uDN-TgQ8fNV5g.png"/></div></a><p class="kp kq et er es kr ks bd b be z dx translated">自签名证书被添加到信任库中</p></figure><p id="d9c0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于我们已经有一个默认链接到<code class="du lw lx ly lz b">localhost</code>的证书，让我们在<code class="du lw lx ly lz b">client-truststore.jks</code>中删除它。如果您键入以下内容并搜索<code class="du lw lx ly lz b">wso2carbon</code>别名，您可以找到它。</p><pre class="ki kj kk kl fd mc lz md me aw mf bi"><span id="1341" class="lh jf hi lz b fi mg mh l mi mj">keytool -list -v -keystore client-truststore.jks -storepass wso2carbon</span></pre><figure class="ki kj kk kl fd km er es paragraph-image"><a href="https://www.java67.com/2012/09/keytool-command-examples-java-add-view-certificate-ssl.html"><div class="er es mm"><img src="../Images/be1bf5cf5184c131ad50cd37b3e1b08c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ECYPvHGdTFIhMgW6Mlk-LQ.png"/></div></a><p class="kp kq et er es kr ks bd b be z dx translated">默认SSL/TLS认证</p></figure><p id="7497" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为我们已经添加了自签名证书，所以让我们通过执行以下命令来删除默认别名(这是可选的)。</p><pre class="ki kj kk kl fd mc lz md me aw mf bi"><span id="aff1" class="lh jf hi lz b fi mg mh l mi mj">keytool -delete -noprompt -alias wso2carbon -keystore client-truststore.jks -storepass wso2carbon</span></pre><p id="bb89" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是我们仍然必须做一些事情，那就是在<code class="du lw lx ly lz b">deployment.toml</code>中将新创建的密钥库设置为TLS密钥库，因为否则，当我们转到<code class="du lw lx ly lz b">localhost:9443</code>时将显示的证书将是在<code class="du lw lx ly lz b">wso2carbon.jks</code>中配置的证书。要配置TLS密钥库，请在<code class="du lw lx ly lz b">&lt;IS_HOME&gt;/repository/conf</code>打开<code class="du lw lx ly lz b">deployment.toml</code>文件并添加以下内容。</p><pre class="ki kj kk kl fd mc lz md me aw mf bi"><span id="b1a6" class="lh jf hi lz b fi mg mh l mi mj">[keystore.tls]<br/>file_name = "newkeystore.jks"<br/>type = "JKS"<br/>password = "mypassword"<br/>alias = "wso2carbon_1"<br/>key_password = "mypassword"</span></pre><p id="4127" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，让我们启动WSO2 IS by，转到WSO2 IS pack的<code class="du lw lx ly lz b">bin</code>文件夹并键入<code class="du lw lx ly lz b">sh wso2server.sh</code>在IS启动后，转到<code class="du lw lx ly lz b">localhost:9443</code>并单击地址栏中的<code class="du lw lx ly lz b">Not Secure</code>部分，然后单击<code class="du lw lx ly lz b">Certificate is not valid</code></p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es mm"><img src="../Images/db92323c7b5de4a53ad8879ce01732db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xukDkOoFPFoe8lfDP6EuLw.png"/></div></div><p class="kp kq et er es kr ks bd b be z dx translated">在浏览器地址栏中不安全</p></figure><p id="cd14" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后您可以发现我们的自签名证书已正确添加。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es mm"><img src="../Images/fe34d8dd82fc514ff37eef0775f7634a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rjJGORxAlfw9t2qqQ1PRoA.png"/></div></div><p class="kp kq et er es kr ks bd b be z dx translated">自签名证书</p></figure><h2 id="0add" class="lh jf hi bd jg li lj lk jk ll lm ln jo iq lo lp js iu lq lr jw iy ls lt ka lu bi translated">创建CA签名的证书并将其添加到信任库中</h2><p id="d56a" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">为此，我们将首先获得一个新的WSO2 IS包，并在<code class="du lw lx ly lz b">&lt;IS_HOME&gt;/repository/resources/security</code>目录中创建一个新的JSK文件。</p><pre class="ki kj kk kl fd mc lz md me aw mf bi"><span id="d20c" class="lh jf hi lz b fi mg mh l mi mj">keytool -genkey -alias wso2carbon_1 -keyalg RSA -keysize 2048 -keystore newkeystore.jks -dname "CN=nipunaupekshatest95.tk, OU=Home, O=Home, L=SL, S=WS, C=LK" -storepass mypassword -keypass mypassword</span></pre><p id="c771" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，您会发现在您的目录中创建了一个新的<code class="du lw lx ly lz b">jks</code>文件。在这里，你可以看到我使用了<code class="du lw lx ly lz b">nipunaupekshatest95.tk</code>作为通用名称。由于常用名应该是域名，所以我在那里插入了<code class="du lw lx ly lz b">nipunatestupeksha95.tk</code>。甚至可以用<code class="du lw lx ly lz b">localhost</code>换CN。但是对于<code class="du lw lx ly lz b">localhost</code>你不能从一个经过验证的CA那里得到数字认证的证书。因此，跟随这篇文章，你可以从<a class="ae jd" href="https://www.freenom.com" rel="noopener ugc nofollow" target="_blank"> freenom </a>获得一个免费的<code class="du lw lx ly lz b">.tk</code>域名并使用它。</p><p id="0ee1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以通过以下方式查看密钥库中的内容:</p><pre class="ki kj kk kl fd mc lz md me aw mf bi"><span id="aac2" class="lh jf hi lz b fi mg mh l mi mj">keytool -list -v -keystore mykeystore.jks -storepass mypassword</span></pre><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es mm"><img src="../Images/7a9d4a9ffc90f9c366781598d57cf187.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W3qRMh58vqPEfXC2JOyqdA.png"/></div></div><p class="kp kq et er es kr ks bd b be z dx translated">检查我们的密钥库</p></figure><p id="58b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要使其有效，您必须创建一个证书签名请求文件(CSR ),然后由证书颁发机构(CA)对其进行认证。要制作CSR，您可以使用下面描述的两种方法之一。</p><p id="8a85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第一种是直接创建CSR并提交给CA。为了做到这一点，</p><pre class="ki kj kk kl fd mc lz md me aw mf bi"><span id="af5a" class="lh jf hi lz b fi mg mh l mi mj">keytool -certreq -alias wos2carbon_1 -file wso2carbon.csr -keystore newkeystore.jks -storepass mypassword</span></pre><p id="3ee1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第二种方法是创建一个<code class="du lw lx ly lz b">.pem</code>文件(隐私增强邮件文件)并提交给CA。为了做到这一点，</p><pre class="ki kj kk kl fd mc lz md me aw mf bi"><span id="5163" class="lh jf hi lz b fi mg mh l mi mj">keytool -certreq -v -alias wso2carbon_1 -file csr-for-wso2carbon.pem -keypass mypassword -storepass mypassword -keystore newkeystore.jks</span></pre><p id="5aa5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建其中任何一个之后，您可以从CA对其进行认证。你可以从<a class="ae jd" href="https://www.sslforfree.com/" rel="noopener ugc nofollow" target="_blank"> SSLForFree </a>免费签一份。要使用它，请创建一个帐户并获取新证书。在那里，你可以输入<code class="du lw lx ly lz b">nipunaupekshatest95.tk</code>作为你的域名。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es mm"><img src="../Images/e6b1038a9018d10e2354466914bab77d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SSjoOtYXpakZiu14lB5ITw.png"/></div></div><p class="kp kq et er es kr ks bd b be z dx translated">正在为证书添加域</p></figure><p id="a0c0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后为有效期选择90天的证书。对于CSR和合同，选择粘贴现有CSR。然后打开<a class="ae jd" rel="noopener" href="/javarevisited/8-best-vs-code-courses-for-beginners-to-learn-online-bd5c169f59b7?source=user_profile---------43----------------------------"> VSCode </a>中的<code class="du lw lx ly lz b">csr-for-wso2carbon.pem</code>或<code class="du lw lx ly lz b">wso2carbon.csr</code>或记事本，将内容复制粘贴到那里。</p><figure class="ki kj kk kl fd km er es paragraph-image"><a href="https://javarevisited.blogspot.com/2021/05/favorite-courses-to-learn-visual-studio-code-f.html#axzz6uq12fuKh"><div class="er es mm"><img src="../Images/3cac9da8af245264310cc1a31abb98d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CrgL07ECy54-Qyb5HFNDtw.png"/></div></a><p class="kp kq et er es kr ks bd b be z dx translated">复制并粘贴CSR</p></figure><p id="4d17" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，确定你的订单。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es mm"><img src="../Images/df0cacc837945b765677d6bfa52c569e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*28ZjEuCbt9SVkR9w6ZrzbA.png"/></div></div><p class="kp kq et er es kr ks bd b be z dx translated">最终确定订单</p></figure><p id="2b92" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，他们会要求你验证你的域名。最简单的方法是使用DNS(CNAME)进行验证</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es mm"><img src="../Images/d2312c290b8581c8cefb1fe1c0cd6fbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gdnj9k-CaDbKXKMwF5r2Lg.png"/></div></div><p class="kp kq et er es kr ks bd b be z dx translated">已选择DNS(CNAME)</p></figure><p id="86e9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，进入你的freenom账户，选择你得到的域名，然后选择“管理Freenom DNS”</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es mm"><img src="../Images/1eb34538ec14777ddf93797aff94662b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SZfrqQ2y53XrxzTIc-dmwA.png"/></div></div><p class="kp kq et er es kr ks bd b be z dx translated">自由域名</p></figure><p id="bf2d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，复制并粘贴相应的值。选择“CNAME”作为“类型”。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es mm"><img src="../Images/92e318be40e0037ca51a1a9c385235b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yWjicAxkrat70K0M84LYIw.png"/></div></div><p class="kp kq et er es kr ks bd b be z dx translated">添加DNS</p></figure><p id="6795" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后点击freenom中的<code class="du lw lx ly lz b">Save Changes</code>，进入SSLForFree网站，进入下一步，点击验证域名。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es mm"><img src="../Images/41270a650b46873432af49171cdf86ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ahokXCQCvtZKNpdF5IhNBw.png"/></div></div><p class="kp kq et er es kr ks bd b be z dx translated">SSL免费域验证</p></figure><p id="f855" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果一切顺利，并且等待了足够的时间，服务器将意识到该域实际上属于您，并向您颁发CA签名的证书。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es mm"><img src="../Images/291ee36c68a10bf32a8ac3f2abd5cdd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7J0j3uGDm5OSqRsVdTKvoQ.png"/></div></div><p class="kp kq et er es kr ks bd b be z dx translated">域已验证</p></figure><p id="38b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，您将收到一封邮件，告知您该域名已通过认证。您可以到SSLForFree中的认证部分下载证书。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es mm"><img src="../Images/bf200c749ea21d1fc6f3ae4ab2fb0299.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*beSkRMswVedKBXA488u2OA.png"/></div></div><p class="kp kq et er es kr ks bd b be z dx translated">下载CA认证证书</p></figure><p id="2f7d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">解压缩下载的文件后，可以看到有两个文件，<code class="du lw lx ly lz b">ca_bundle.crt</code>和<code class="du lw lx ly lz b">certificate.crt</code>，这里的<code class="du lw lx ly lz b">ca_bundle.crt</code>包含CA根证书和一组中间证书。而<code class="du lw lx ly lz b">certificate.crt</code>是CA签名的证书。</p><p id="c2ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要添加CA根证书和中间证书，请使用执行以下命令。</p><pre class="ki kj kk kl fd mc lz md me aw mf bi"><span id="7d51" class="lh jf hi lz b fi mg mh l mi mj">keytool -import -v -trustcacerts -alias ca_bundle -file ca_bundle.crt -keystore newkeystore.jks -storepass mypassword</span></pre><p id="50df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后使用以下命令将CA签名的SSL证书添加到密钥库中。并确保使用创建密钥库时使用的别名。</p><pre class="ki kj kk kl fd mc lz md me aw mf bi"><span id="3546" class="lh jf hi lz b fi mg mh l mi mj">keytool -import -v -alias wso2carbon_1 -file certificate.crt -keystore newkeystore -keypass mypassword -storepass mypassword</span></pre><p id="5fb5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们将它添加到<code class="du lw lx ly lz b">client-truststore.jks</code>中，作为SSL/TLS证书信任它。为此，我们首先需要从我们的密钥库中提取公钥。</p><pre class="ki kj kk kl fd mc lz md me aw mf bi"><span id="003e" class="lh jf hi lz b fi mg mh l mi mj">keytool -export -alias wso2carbon_1 -keystore newkeystore.jks -file wso2carbon_1_public_key.pem</span></pre><p id="de08" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将公钥提取到. pem文件后，我们可以将它添加到<code class="du lw lx ly lz b">client-truststore.jks</code></p><pre class="ki kj kk kl fd mc lz md me aw mf bi"><span id="b29c" class="lh jf hi lz b fi mg mh l mi mj">keytool -import -alias wso2carbon_1 -file wso2carbon_1_public_key.pem -keystore client-truststore.jks -storepass wso2carbon</span></pre><p id="dc11" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们成功地将SSL认证添加到了客户端信任库。现在，我们将把<code class="du lw lx ly lz b">wso2carbon.jks</code>文件重命名为<code class="du lw lx ly lz b">internal.jks</code>，把<code class="du lw lx ly lz b">newkeystore.jks</code>文件重命名为<code class="du lw lx ly lz b">wso2carbon.jks</code>，这样我们就可以把下面的配置添加到<code class="du lw lx ly lz b">&lt;IS_HOME&gt;/repository/conf</code>目录下的<code class="du lw lx ly lz b">deployment.toml</code>文件中。这是在<code class="du lw lx ly lz b">deployment.toml</code>文件中配置<code class="du lw lx ly lz b">keystore.tls</code>设置的另一种方式。</p><pre class="ki kj kk kl fd mc lz md me aw mf bi"><span id="f65c" class="lh jf hi lz b fi mg mh l mi mj">[server]<br/>hostname = "nipunaupekshatest95.tk"<br/>node_ip = "127.0.0.1"<br/>base_path = "https://$ref{server.hostname}:${carbon.management.port}"</span><span id="a821" class="lh jf hi lz b fi mk mh l mi mj">[keystore.primary]<br/>file_name = "wso2carbon.jks"<br/>password = "mypassword"<br/>alias = "wso2carbon_1"</span><span id="b603" class="lh jf hi lz b fi mk mh l mi mj">[keystore.internal]<br/>file_name = "internal.jks"<br/>password = "wso2carbon"<br/>alias = "wso2carbon"</span></pre><p id="ef18" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，通过转到<code class="du lw lx ly lz b">&lt;IS_HOME&gt;/bin</code>并键入<code class="du lw lx ly lz b">sh wso2server.sh</code>来启动服务器</p><figure class="ki kj kk kl fd km er es paragraph-image"><a href="http://javarevisited.blogspot.sg/2016/12/javaxnetsslsslhandshakeexception-pkix-path-building-failed-certificate-not-found.html#axzz5DJlhq8w1"><div class="er es mm"><img src="../Images/9684696fe14add9682f41f7e7537624f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*07fDcRgTzjPTvBpC26aWTg.png"/></div></a><p class="kp kq et er es kr ks bd b be z dx translated">已启动</p></figure><p id="5381" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，如果你去<code class="du lw lx ly lz b">nipunaupekshatest95.tk:9443/carbon</code>你将能够看到该网站是安全的。</p><p id="0c30" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">(在这里，我没有附上任何结果的截图，因为截至编写freenom的DNS服务是关闭的。但是相信我，它是有效的:)</p></div><div class="ab cl mr ms gp mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="hb hc hd he hf"><h2 id="1d56" class="lh jf hi bd jg li lj lk jk ll lm ln jo iq lo lp js iu lq lr jw iy ls lt ka lu bi translated">Keytool命令摘要</h2><ul class=""><li id="5e99" class="kt ku hi ih b ii kc im kd iq my iu mz iy na jc ky kz la lb bi translated">创建密钥库→ <code class="du lw lx ly lz b">keytool -genkey -alias wso2carbon -keyalg RSA 2048 -keystore wso2carbon.jks -dname "CN=localhost, OU=Home, L=SL, S=WS, C=LK" -storepass wso2carbon -keypass wso2carbon -validity 360 -ext "SAN=DNS:localhost.com"</code></li><li id="1360" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">列表密钥库→ <code class="du lw lx ly lz b">keytool -list -keystore wso2carbon.jks -storepass wso2carbon</code></li><li id="71e8" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">扩展密钥库→ <code class="du lw lx ly lz b">keytool -list -v -keystore wso2carbon.jks -storepass wso2carbon</code></li><li id="790a" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">将密钥库列表保存到一个文件中→ <code class="du lw lx ly lz b">keytool -list -v -keystore wso2carbon.jks -storepass wso2carbon &gt;&gt; keystore.txt</code></li><li id="5948" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">出口证书→ <code class="du lw lx ly lz b">keytool -exportcert -keystore wso2carbon.jks -alias wso2carbon -file wso2carbon.crt</code></li><li id="1f8d" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">进口证明→ <code class="du lw lx ly lz b">keytool -importcert -keystore client-truststore.jks -alias wso2carbon2 -file wso2carbon.crt</code></li><li id="e645" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">使用JKS创建企业社会责任→ <code class="du lw lx ly lz b">keytool -certreq alias -wso2carbon_1 -file wso2carbon.csr -keystore newkeystore -storepass mypassword</code></li><li id="0497" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">使用JKS创建PEM文件→ <code class="du lw lx ly lz b">keytool -certreq -v -alias wso2carbon_1 -file csr-for-wso2carbon.pem -keypass mypassword -storepass mypassword -keystore newkeystore.jks</code></li><li id="3659" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">将CA根证书和中间证书添加到JKS → <code class="du lw lx ly lz b">keytool -import -v -trustcacerts -alias ca_bundle -file ca_bundle.crt -keystore newkeystore.jks -storepass mypassword</code></li><li id="cb92" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">将CA签名的SSL/TLS证书添加到密钥库→ <code class="du lw lx ly lz b">keytool -import -v -alias wso2carbon_1 -file certificate.crt -keystore newkeystore -keypass mypassword -storepass mypassword</code></li></ul><h2 id="2e26" class="lh jf hi bd jg li lj lk jk ll lm ln jo iq lo lp js iu lq lr jw iy ls lt ka lu bi translated">附加注释</h2><ul class=""><li id="07c7" class="kt ku hi ih b ii kc im kd iq my iu mz iy na jc ky kz la lb bi translated"><code class="du lw lx ly lz b">keytool</code>中的<code class="du lw lx ly lz b">-ext</code>属性允许您将San(主题别名)添加到密钥库中。您可以将DNS、IP或电子邮件添加为San。</li></ul><p id="bc6a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文中，我们讨论了什么是密钥库，以及如何在WSO2 IS中使用它们。希望你对它们有好的了解。:)而且，这是一篇相当大的文章，所以如果有任何错别字或错误，请随时指出。:)</p><h2 id="5e0c" class="lh jf hi bd jg li lj lk jk ll lm ln jo iq lo lp js iu lq lr jw iy ls lt ka lu bi translated">参考</h2><ul class=""><li id="d7e4" class="kt ku hi ih b ii kc im kd iq my iu mz iy na jc ky kz la lb bi translated"><a class="ae jd" href="https://is.docs.wso2.com/en/latest/administer/creating-new-keystores/" rel="noopener ugc nofollow" target="_blank">https://is . docs . WSO 2 . com/en/latest/administer/creating-new-key stores/</a></li><li id="edee" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated"><a class="ae jd" href="https://is.docs.wso2.com/en/latest/administer/configuring-keystores-in-wso2-products/" rel="noopener ugc nofollow" target="_blank">https://is . docs . WSO 2 . com/en/latest/administrator/configuring-key stores-in-WSO 2-products/</a></li><li id="317e" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated"><a class="ae jd" href="http://blog.facilelogin.com/2008/03/keystore-management-part-i.html" rel="noopener ugc nofollow" target="_blank">http://blog . facile log in . com/2008/03/keystore-management-part-I . html</a></li></ul><div class="nb nc ez fb nd ne"><a href="https://javarevisited.blogspot.com/2012/09/difference-between-truststore-vs-keyStore-Java-SSL.html" rel="noopener  ugc nofollow" target="_blank"><div class="nf ab dw"><div class="ng ab nh cl cj ni"><h2 class="bd hj fi z dy nj ea eb nk ed ef hh bi translated">Java - SSL中信任库和密钥库的区别</h2><div class="nl l"><h3 class="bd b fi z dy nj ea eb nk ed ef dx translated">虽然信任库和密钥库都用于存储Java中的SSL证书，但它们之间的主要区别在于…</h3></div><div class="nm l"><p class="bd b fp z dy nj ea eb nk ed ef dx translated">javarevisited.blogspot.com</p></div></div><div class="nn l"><div class="no l np nq nr nn ns kn ne"/></div></div></a></div><div class="nb nc ez fb nd ne"><a href="https://www.java67.com/2012/09/keytool-command-examples-java-add-view-certificate-ssl.html" rel="noopener  ugc nofollow" target="_blank"><div class="nf ab dw"><div class="ng ab nh cl cj ni"><h2 class="bd hj fi z dy nj ea eb nk ed ef hh bi translated">如何在Java keyStore或trustStore中添加或查看SSL证书？keytool命令示例</h2><div class="nl l"><h3 class="bd b fi z dy nj ea eb nk ed ef dx translated">Java中的keytool命令是一个管理密钥库和信任库证书的工具，信任库用于存储…</h3></div><div class="nm l"><p class="bd b fp z dy nj ea eb nk ed ef dx translated">www.java67.com</p></div></div><div class="nn l"><div class="nt l np nq nr nn ns kn ne"/></div></div></a></div></div></div>    
</body>
</html>