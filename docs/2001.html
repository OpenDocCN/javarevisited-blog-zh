<html>
<head>
<title>The Basics of Breakpoints you Might not Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">您可能不知道的断点基础知识</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/the-basics-of-breakpoints-you-might-not-know-8bc8e8e3ac9a?source=collection_archive---------0-----------------------#2022-03-10">https://medium.com/javarevisited/the-basics-of-breakpoints-you-might-not-know-8bc8e8e3ac9a?source=collection_archive---------0-----------------------#2022-03-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/70b60133397305463d8ef83e801f24fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v3o6nROG0ajXWEXC8Z58-Q.jpeg"/></div></div></figure><p id="0fed" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在《140秒小鸭子》的第4和第5集里，我深入到了断点的更高级的基础。要向前发展，还有很多东西需要学习，但即使在这个阶段，令人惊讶的是，在开发人员社区中有这么多相对不为人知的东西。而我才刚刚开始…</p><figure class="jo jp jq jr fd ij"><div class="bz dy l di"><div class="js jt l"/></div></figure><h1 id="943a" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">断点的类型</h1><p id="ef9a" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">断点有四种基本类型。</p><h1 id="9bea" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">行断点</h1><p id="7edf" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">我们说断点，通常就是这个意思。这是默认断点。我在这里包含了类断点，它们有效地在稍后进入构造函数，并且是语义上的行断点。</p><h1 id="5065" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">方法断点</h1><p id="8668" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">当您进入一个方法时，方法断点会停止，当您退出一个方法时，也可能会停止。IntelliJ之类的ide模拟这种直通式断点。原因是方法断点在JVM上的性能很差，所以大多数情况下不应该使用它们。</p><p id="371a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">有一个有趣的方法断点用例，我将在下一篇关于这个主题的博文中讨论。所以<a class="ae kx" href="https://twitter.com/debugagent" rel="noopener ugc nofollow" target="_blank">确保你跟随</a> …这是一个有趣的话题！</p><figure class="jo jp jq jr fd ij er es paragraph-image"><a href="https://javarevisited.blogspot.com/2011/02/how-to-setup-remote-debugging-in.html"><div class="er es ky"><img src="../Images/ed99f851235fe95ec8f822d9d6421680.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Eh1KcTCih7PFOp3r"/></div></a></figure><h1 id="ca93" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">野外观察点</h1><p id="4f4a" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">这不是一个断点，因为执行不会在字段处停止。它在访问该字段的代码行中停止。您可以选择切换它，使它只在写入时停止，只在读取时停止，或者在两种情况下都停止。</p><p id="ad65" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是一个非常有用的特性，很少有开发人员使用。“谁改变了这个字段”是调试的陈词滥调，然而开发人员仍然不知道这个特性(或者忘记它的存在)。</p><figure class="jo jp jq jr fd ij er es paragraph-image"><a href="https://www.java67.com/2018/01/how-to-remote-debug-java-application-in-Eclipse.html"><div class="er es kz"><img src="../Images/26390a232d6771af0a4d3ec6d3b4df11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*00Fdugg999W03UiY"/></div></a></figure><h1 id="1842" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">异常断点</h1><p id="1ee3" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">异常断点是一个非常有用的特性，每个人都知道…但每个人都回避和讨厌。我完全理解这一点。IDE默认的在每个异常上停止的行为是多余的，令人恼火！</p><p id="0c61" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这使得该功能毫无用处…</p><p id="efa0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是一个显著的特性，只需一个小开关就能工作。问题的关键是误报。在<a class="ae kx" rel="noopener" href="/javarevisited/7-best-courses-to-learn-jvm-garbage-collection-and-performance-tuning-for-experienced-java-331705180686"> JVM </a>内部抛出并捕获异常时停止的代码。这显然是多余的，而且经常发生(例如在网络代码中)。</p><p id="60a6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下周我会发布讨论解决方案的视频，所以请务必让<a class="ae kx" href="https://twitter.com/debugagent/status/1491075324805001219?s=20&amp;t=f7CFUaRwU0UpCCXP_akBjA" rel="noopener ugc nofollow" target="_blank">跟随</a>。本系列的下一篇文章将会讨论这个问题。</p><h1 id="6033" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">条件断点</h1><p id="ff71" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">条件可以应用于上述任何断点类型。在上面的视频中，我回到了我在这个系列的<a class="ae kx" href="https://talktotheduck.dev/debugging-tutorial-java-return-value-intellij-jump-to-line-and-more#heading-object-marking" rel="noopener ugc nofollow" target="_blank">上一篇文章，在那里我讨论了对象标记</a>。对象标记有效地让我定义了一个新的全局变量标签。所以我可以用一个新名字<code class="du la lb lc ld b">MyThread</code>将<code class="du la lb lc ld b">Thread.currentThread()</code>保存为一个变量。然后我用了一个条件:</p><pre class="jo jp jq jr fd le ld lf lg aw lh bi"><span id="f257" class="li jv hi ld b fi lj lk l ll lm">Thread.currentThread() == MyThread_DebugLabel</span></pre><p id="c2c7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这实际上意味着，只有在使用与我之前看到的不同的线程调用这个方法时，我才会停止。调试线程问题？</p><p id="3f56" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是一个神奇的工具…</p><figure class="jo jp jq jr fd ij er es paragraph-image"><a href="https://javarevisited.blogspot.com/2018/09/top-5-courses-to-learn-intellij-idea-java-and-android-development.html"><div class="er es ln"><img src="../Images/6a37bccf71e36857b6940fcbeb4d5fb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/0*D5_97Qd2XfNXoMGi"/></div></a></figure><h1 id="ed90" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">管理断点</h1><p id="67f5" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">当我们调试一个复杂的应用程序时，我们经常到处散布断点，试图重现一个场景，其中一组特定的断点将带领我们踏上正确的“旅程”。</p><p id="db90" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">不幸的是，我们经常因为这个政策而导致许多问题。这将大多数开发人员引向一个错误的方向，即设置太少的断点或者只是一个一个地检查它们…有更好的方法。</p><h1 id="35df" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">分组/命名</h1><p id="9359" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">当我到处都有很多断点时，这是我遇到的一个问题。尤其是对于多个项目(客户端、服务器等)。).很难跟踪所有的事情…</p><p id="e96c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您可以向断点添加描述，以提醒您它为什么在那里。例如，如果你试图重现一个错误，但它从未发生。只需在相关行中放置一个断点，并希望它在某个点被命中。</p><p id="77aa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">但是如果你像我一样，你可能会在断点窗口中看到它，而忘记它是什么。那就删了吧。通过编辑描述，您可以提醒自己当初为什么要添加断点。它对于成对调试也非常有用。确保我们在同一页上…</p><figure class="jo jp jq jr fd ij er es paragraph-image"><a href="https://javarevisited.blogspot.com/2020/05/top-5-courses-to-learn-eclipse-ide-for-java-developers.html"><div class="er es lo"><img src="../Images/fe683f9354988fc279a12d5f7ffbe5b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/0*NUspfrJTrUYNevzH"/></div></a></figure><p id="1c2b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">分组使这更上一层楼。您可以在一个组中放置几个断点。例如“调试问题333”。然后，您可以禁用或启用整个组。这是我用于上下文切换的东西。当我在<a class="ae kx" href="https://javarevisited.blogspot.com/2011/07/java-debugging-tutorial-example-tips.html#axzz6bYzaddcE" rel="noopener ugc nofollow" target="_blank">调试</a>的时候，我有时需要做不同的工作。我不记得“我在哪里”。所以我可以将适用的断点分组并禁用它们，直到我“返回”为止。</p><figure class="jo jp jq jr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lp"><img src="../Images/6bda3992b85f99b89750574051f311a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LuDonSiP0jiSfpbr"/></div></div></figure><h1 id="684e" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">禁用直到</h1><p id="085a" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">这是一个很常见的情况。代码中有一个区域经常被“命中”，所以在那里放置断点是没有用的。你只要一直按下继续键…</p><p id="2a7a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您希望调试该区域，但是只有在满足特定条件之后。您可以在其他区域放置一个断点，并使用“Disable Until”来禁用大容量断点。</p><p id="558c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以一旦命中低音量断点，就会启用高音量断点。您可以选择是永久启用还是仅启用一次…</p><p id="54ec" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是我经常看到人们手动做的事情。设置低流量断点，然后手动设置或启用高流量断点。这没问题，但是如果你做得太多，就容易出错。</p><h1 id="b38e" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">跟踪点</h1><p id="6e7a" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">我们可以使用断点作为不暂停执行的临时日志。您可以添加打印输出，其中可以包括表达式等。虽然这有一些限制，但它仍然是一个非常酷的功能。</p><figure class="jo jp jq jr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lq"><img src="../Images/81fb606aa42c5fbfac8aaea44d3b3de4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fcZ51JODSheqIdgW"/></div></div></figure><h1 id="094e" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">TL；速度三角形定位法(dead reckoning)</h1><p id="2390" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">我们中的许多人几乎每天都和调试人员一起工作，但是仍然有许多未知的东西。我们操作这个非常复杂的工具，同时使用4或5个大功能:行断点、单步执行、单步进入、继续和观察。</p><p id="2108" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了弥补这一点，开发人员使用了移除断点并重新设置等技巧。我自己也犯过那种罪…</p><p id="cabf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">是时候深入挖掘调试器提供给我们的工具了！</p></div></div>    
</body>
</html>