<html>
<head>
<title>React JSON Schema Form</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React JSON模式表单</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/react-json-schema-form-cdc8fbb06f8c?source=collection_archive---------0-----------------------#2022-07-07">https://medium.com/javarevisited/react-json-schema-form-cdc8fbb06f8c?source=collection_archive---------0-----------------------#2022-07-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="6e32" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最近，我一直在探索这个名为React JSON Schema Form的库。这个项目是由Mozilla团队开始的，后来演变成一个单独的独立项目。它基本上是一个非常简单但不那么简单的表单组件。任何想要集成一个包含各种小部件、特性和定制的表单的人都可以在他们的React应用程序中使用这个库。</p><p id="1a9a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">RJSF根据<a class="ae jd" href="http://json-schema.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> JSON模式</strong> </a>生成React表单。它将数据捕获为一个<a class="ae jd" href="https://www.java67.com/2016/10/3-ways-to-convert-string-to-json-object-in-java.html" rel="noopener ugc nofollow" target="_blank"> JSON对象</a>。它还提供了像form props和uiSchema这样的工具来定制表单的外观。</p><h1 id="c7aa" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated"><strong class="ak">为什么你也应该关心了解它？</strong></h1><blockquote class="kc kd ke"><p id="a4d6" class="if ig kf ih b ii ij ik il im in io ip kg ir is it kh iv iw ix ki iz ja jb jc hb bi translated">代码重用是软件工程的圣杯。~道格拉斯·克洛克福特</p></blockquote><ul class=""><li id="43c9" class="kj kk hi ih b ii ij im in iq kl iu km iy kn jc ko kp kq kr bi translated">它是开源的，有一个非常活跃的社区。非常感谢RJSF社区和所有乐于助人的人们。</li><li id="e741" class="kj kk hi ih b ii ks im kt iq ku iu kv iy kw jc ko kp kq kr bi translated">非常容易安装和集成到应用程序中。</li><li id="f5e1" class="kj kk hi ih b ii ks im kt iq ku iu kv iy kw jc ko kp kq kr bi translated">有大量的小部件可用。你说出它的名字，它就在那里！</li><li id="bf57" class="kj kk hi ih b ii ks im kt iq ku iu kv iy kw jc ko kp kq kr bi translated">甚至可以融入自己喜欢的主题。RJSF支持Bootstrap 3(默认)、<a class="ae jd" rel="noopener" href="/javarevisited/6-best-bootstrap-online-courses-for-web-designers-and-developers-a688e192b2e2"> Bootstrap 4 </a>、MUI 4 &amp; 5、fluent-ui、antd、Semantic-ui、chakra -ui，你甚至可以创建自己的定制主题。</li><li id="33bf" class="kj kk hi ih b ii ks im kt iq ku iu kv iy kw jc ko kp kq kr bi translated">这个库不仅支持自定义主题，还支持<a class="ae jd" href="https://react-jsonschema-form.readthedocs.io/en/latest/advanced-customization/custom-widgets-fields/" rel="noopener ugc nofollow" target="_blank">自定义部件和字段</a>和<a class="ae jd" href="https://react-jsonschema-form.readthedocs.io/en/latest/advanced-customization/custom-templates/" rel="noopener ugc nofollow" target="_blank">自定义模板</a>。</li></ul><h1 id="a3e0" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">深入RJSF</h1><h2 id="c661" class="kx jf hi bd jg ky kz la jk lb lc ld jo iq le lf js iu lg lh jw iy li lj ka lk bi translated">装置</h2><p id="187f" class="pw-post-body-paragraph if ig hi ih b ii ll ik il im lm io ip iq ln is it iu lo iw ix iy lp ja jb jc hb bi translated">首先，从npm安装依赖项:</p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="0b7b" class="kx jf hi lv b fi lz ma l mb mc">$ npm install @rjsf/core — save</span></pre><p id="c274" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后导入依赖关系:</p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="3b79" class="kx jf hi lv b fi lz ma l mb mc"><strong class="lv hj">import</strong> Form <strong class="lv hj">from</strong> “@rjsf/core”;</span></pre><p id="406f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong> RJSF使用<a class="ae jd" rel="noopener" href="/javarevisited/7-free-courses-to-learn-bootstrap-for-web-designers-and-developers-5135215648f1"> Bootstrap </a>语义呈现表单字段和窗口小部件，这意味着您需要在页面上加载Boostrap样式表，通过在<strong class="ih hj">" public&gt;index . html "</strong>中添加以下内容来正确查看表单:</p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="814f" class="kx jf hi lv b fi lz ma l mb mc">&lt;link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384 BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"&gt;</span></pre><p id="4e66" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，您可以开始创建表单了。</p><h2 id="3963" class="kx jf hi bd jg ky kz la jk lb lc ld jo iq le lf js iu lg lh jw iy li lj ka lk bi translated">配置</h2><ol class=""><li id="57be" class="kj kk hi ih b ii ll im lm iq md iu me iy mf jc mg kp kq kr bi translated"><strong class="ih hj"> JSON模式:</strong>为另一个JSON对象定义模式的JSON对象被称为JSON模式，并遵循JSON模式标准中描述的约定。基本上，我们用另一个<a class="ae jd" href="https://javarevisited.blogspot.com/2013/02/how-to-convert-json-string-to-java-object-jackson-example-tutorial.html" rel="noopener ugc nofollow" target="_blank"> JSON对象</a>定义JSON对象的形状。如果我们想获取一个人的名字、姓氏和电话，那么预期的数据JSON对象将如下所示:</li></ol><figure class="lq lr ls lt fd mh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="d3bc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">JSON Shema对象定义了上面的数据对象的形状，如下所示:</p><figure class="lq lr ls lt fd mh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="692b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您的表单组件应该如下所示:</p><figure class="lq lr ls lt fd mh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="2eb8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是最起码的开始。让我们看看我们的表单看起来怎么样..</p><figure class="lq lr ls lt fd mh er es paragraph-image"><a href="https://javarevisited.blogspot.com/2018/02/how-to-parse-json-with-date-field-in-java-jackson-example.html"><div class="er es mk"><img src="../Images/96f89315afb4a6e62e379ceb479a0246.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kRm2CJLW_mrFPz0E7h7MRQ.png"/></div></a></figure><p id="22c5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>您可以在组件本身中定义<a class="ae jd" href="https://www.java67.com/2019/09/3-ways-to-ignore-null-fields-in-json-java-jackson.html" rel="noopener ugc nofollow" target="_blank"> JSON对象</a>，或者您可以创建一个单独的JSON文件，然后在表单组件中给出该JSON文件的路径，如下所示:</p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="cf87" class="kx jf hi lv b fi lz ma l mb mc">const schema = require("../schema.json")</span></pre><p id="f9b3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.<strong class="ih hj"> UI模式:</strong>使用JSON模式，我们可以控制在表单中定义什么，但是使用UI模式，我们可以控制如何呈现。</p><figure class="lq lr ls lt fd mh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="e9f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在表单组件中添加uiSchema:</p><figure class="lq lr ls lt fd mh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="0508" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">添加uiSchema后，我们的表单如下所示:</p><figure class="lq lr ls lt fd mh er es paragraph-image"><a href="https://javarevisited.blogspot.com/2022/03/3-examples-to-parse-json-in-java-using.html"><div class="er es mn"><img src="../Images/c1093890e58196b6aae10dd7387c5ce6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2HYKvGbrRE99bP_BGh0ZiQ.png"/></div></a></figure><p id="9bc2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.<strong class="ih hj">表单数据:</strong>有时候我们想用已有的数据来预填数据。这可以通过传递一个与模式匹配的<code class="du mo mp mq lv b">formData</code> prop对象来完成。</p><h2 id="73b8" class="kx jf hi bd jg ky kz la jk lb lc ld jo iq le lf js iu lg lh jw iy li lj ka lk bi translated"><strong class="ak">验证</strong></h2><p id="d23c" class="pw-post-body-paragraph if ig hi ih b ii ll ik il im lm io ip iq ln is it iu lo iw ix iy lp ja jb jc hb bi translated">正如我们所知，JSON模式定义了我们用表单捕获的JSON数据的形状。JSON模式允许我们精确地定义形状。但不仅限于此，我们甚至可以限制字符串的长度，只允许某些模式，或者电子邮件正则表达式，等等。验证示例如下:</p><figure class="lq lr ls lt fd mh"><div class="bz dy l di"><div class="mi mj l"/></div></figure><p id="fc2f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该表单将如下所示:</p><figure class="lq lr ls lt fd mh er es paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="er es mr"><img src="../Images/c20068f228446c40cd7c357b4a33384d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p12hzIHQZzWugQXDa3h5KQ.png"/></div></div></figure><h2 id="1d42" class="kx jf hi bd jg ky kz la jk lb lc ld jo iq le lf js iu lg lh jw iy li lj ka lk bi translated"><strong class="ak">依赖关系</strong></h2><p id="4ece" class="pw-post-body-paragraph if ig hi ih b ii ll ik il im lm io ip iq ln is it iu lo iw ix iy lp ja jb jc hb bi translated">RJSF支持依赖关系，允许我们向表单添加一些功能。我们可以根据用户输入动态地改变表单。在深入了解依赖关系之前，您需要了解动态模式置换:</p><ul class=""><li id="bb17" class="kj kk hi ih b ii ij im in iq kl iu km iy kn jc ko kp kq kr bi translated"><code class="du mo mp mq lv b">allOf</code>:必须对所有子模式有效</li><li id="ab0d" class="kj kk hi ih b ii ks im kt iq ku iu kv iy kw jc ko kp kq kr bi translated"><code class="du mo mp mq lv b">not</code>:对于给定的模式，必须无效</li><li id="05ab" class="kj kk hi ih b ii ks im kt iq ku iu kv iy kw jc ko kp kq kr bi translated"><code class="du mo mp mq lv b">oneOf</code>:必须对其中一个子模式有效</li><li id="926b" class="kj kk hi ih b ii ks im kt iq ku iu kv iy kw jc ko kp kq kr bi translated"><code class="du mo mp mq lv b">anyOf</code>:必须对任何子模式有效</li></ul><p id="0d07" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要了解更多依赖关系，请查看他们的<a class="ae jd" href="https://react-jsonschema-form.readthedocs.io/en/latest/usage/dependencies/" rel="noopener ugc nofollow" target="_blank">文档</a>。</p><p id="fb99" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>在最新的JSON模式标准中，依赖性已经被删除，但是RJSF仍然支持它。</p><p id="1b61" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我希望这篇博客能够帮助您开始使用RJSF库，并将其集成到React应用程序中。现在，我把探索RJSF过多特性的好奇心留给你，从他们的<a class="ae jd" href="https://react-jsonschema-form.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj"/></a><strong class="ih hj">官方文档中。</strong>查看<a class="ae jd" href="https://rjsf-team.github.io/react-jsonschema-form/" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">现场游乐场</strong> </a>，通过实例加深理解。另外，我创建了一个简单的<a class="ae jd" href="https://github.com/Anushka-shukla/RJSF" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">表单</strong> </a>供你参考，你可以在我的<a class="ae jd" href="https://github.com/Anushka-shukla" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> GitHub </strong> </a>上查看。</p><p id="48d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一定要让我知道你的反馈和建议，这样我就可以通过在这个博客上添加更多的东西来改进。</p><p id="08ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">随时在<a class="ae jd" href="https://www.linkedin.com/in/anushka--shukla/" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">LinkedIn</strong></a><strong class="ih hj"/>或<strong class="ih hj"/><a class="ae jd" href="https://twitter.com/anushka__shukla" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">Twitter</strong></a>上与我联系。</p><p id="2028" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">谢谢大家！</p></div></div>    
</body>
</html>