<html>
<head>
<title>Sending emails with SendGrid and spring boot</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用SendGrid和spring boot发送电子邮件</h1>
<blockquote>原文：<a href="https://medium.com/javarevisited/sending-emails-with-sendgrid-and-spring-boot-81e9637a1f05?source=collection_archive---------1-----------------------#2021-04-23">https://medium.com/javarevisited/sending-emails-with-sendgrid-and-spring-boot-81e9637a1f05?source=collection_archive---------1-----------------------#2021-04-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es et"><img src="../Images/f6f2a8b93599d45c24592cd954e4014d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8iW-4fVdNcCqbFWCN7tNmQ.png"/></div></div></figure><h1 id="0e69" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">什么是SendGrid？</h1><p id="7d67" class="pw-post-body-paragraph jv jw hi jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">SendGrid是一个基于云的SMTP提供商，允许你发送电子邮件，而不必维护电子邮件服务器。<strong class="jx hj"> SendGrid </strong>管理所有的技术细节，从扩展基础设施到ISP拓展和信誉监控到白名单服务和实时分析。</p><h1 id="aebc" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">创建帐户:</h1><div class="kt ku ez fb kv kw"><a href="https://signup.sendgrid.com/" rel="noopener  ugc nofollow" target="_blank"><div class="kx ab dw"><div class="ky ab kz cl cj la"><h2 class="bd hj fi z dy lb ea eb lc ed ef hh bi translated">新帐户|发送网格</h2><div class="ld l"><h3 class="bd b fi z dy lb ea eb lc ed ef dx translated">编辑描述</h3></div><div class="le l"><p class="bd b fp z dy lb ea eb lc ed ef dx translated">signup.sendgrid.com</p></div></div></div></a></div><p id="9185" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">然后登录您的帐户:</p><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es lk"><img src="../Images/0b49522eb1f4ebff21b68cfff38563d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OwYYLMJxuK0fmya1-xCLiA.png"/></div></div></figure><p id="71f3" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">你会看到这样的东西。</p><h1 id="cbb6" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">创建弹簧启动应用程序:</h1><p id="1726" class="pw-post-body-paragraph jv jw hi jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">【https://start.spring.io/ T4】</p><p id="a031" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">依赖项:Spring Web和Spring Boot开发工具。</p><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es lm"><img src="../Images/b663121ec5a473508e79ecc85f292169.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YLSTQXD2-gY5UST68jSezA.png"/></div></div></figure><p id="f9a3" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">下载并解压缩项目后，添加这个依赖项:</p><pre class="im in io ip fd ln lo lp lq aw lr bi"><span id="9e80" class="ls iy hi lo b fi lt lu l lv lw">&lt;dependency&gt;</span><span id="e55e" class="ls iy hi lo b fi lx lu l lv lw">&lt;groupId&gt;com.sendgrid&lt;/groupId&gt;</span><span id="9c29" class="ls iy hi lo b fi lx lu l lv lw">&lt;artifactId&gt;sendgrid-java&lt;/artifactId&gt;</span><span id="5146" class="ls iy hi lo b fi lx lu l lv lw">&lt;version&gt;4.0.1&lt;/version&gt;</span><span id="c4e0" class="ls iy hi lo b fi lx lu l lv lw">&lt;/dependency&gt;</span></pre><p id="1604" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">请参见下面的pom.xml:</p><figure class="im in io ip fd iq"><div class="bz dy l di"><div class="ly lz l"/></div></figure><h1 id="8a1b" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">创建单一发件人验证:</h1><p id="a060" class="pw-post-body-paragraph jv jw hi jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">导航到<a class="ae ll" href="https://app.sendgrid.com/settings/sender_auth/senders" rel="noopener ugc nofollow" target="_blank">https://app.sendgrid.com/settings/sender_auth/senders</a>:</p><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es ma"><img src="../Images/3514c726ee028911044064e674c8d823.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QzECX7dBXe9Qqs1quj9QFw.png"/></div></div></figure><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es mb"><img src="../Images/e90620bbd84a71df786cdf8ff720ceee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_emlsnI2tT1_2TB0N2pA4A.png"/></div></div></figure><p id="a99b" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">填写完所有输入后，点击创建按钮。然后你会收到一封激活邮件。</p><h1 id="27f6" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">发送电子邮件:</h1><h2 id="52fe" class="ls iy hi bd iz mc md me jd mf mg mh jh kg mi mj jl kk mk ml jp ko mm mn jt mo bi translated">1.获取API密钥:</h2><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es mp"><img src="../Images/dd2e48a4310623244c67d1a00f2bca72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*foqOi3VGUPhsU9e2QxsYxA.png"/></div></div></figure><p id="a776" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">在控制面板中，单击电子邮件API，然后单击集成指南。</p><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es mq"><img src="../Images/81c90efd72f27df858deeb1e65ae5973.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XKIow-ZeUXecH-xpA_HCJA.png"/></div></div></figure><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es mr"><img src="../Images/17228320046f22fdffb29b346ae0f366.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XUyWbYg5dyp0u4PjJlkbPA.png"/></div></div></figure><p id="e5a9" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">选择了Web API</p><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es lm"><img src="../Images/f2b0757858c3a1347f9a3081d5499a40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-PjPtnqnhXRgHBqpi_hspQ.png"/></div></div></figure><p id="e2e7" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">然后是java:</p><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es ms"><img src="../Images/5a855187c7fd7c2e9733269445c19b20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h1bpNKylAswVfSrePxwM4g.png"/></div></div></figure><p id="d7f6" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">输入密钥名，然后单击创建按钮</p><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es mp"><img src="../Images/8c48821ee90f5c45059edf9c2a93f589.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xy0xpCDfRWF9mRnFq6YG_w.png"/></div></div></figure><p id="6df8" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">复制您的API密钥。</p><h2 id="6e3c" class="ls iy hi bd iz mc md me jd mf mg mh jh kg mi mj jl kk mk ml jp ko mm mn jt mo bi translated">2.创建服务:</h2><figure class="im in io ip fd iq"><div class="bz dy l di"><div class="ly lz l"/></div></figure><figure class="im in io ip fd iq"><div class="bz dy l di"><div class="ly lz l"/></div></figure><h2 id="9bf6" class="ls iy hi bd iz mc md me jd mf mg mh jh kg mi mj jl kk mk ml jp ko mm mn jt mo bi translated">3.创建静止控制器:</h2><figure class="im in io ip fd iq"><div class="bz dy l di"><div class="ly lz l"/></div></figure><h2 id="a3f1" class="ls iy hi bd iz mc md me jd mf mg mh jh kg mi mj jl kk mk ml jp ko mm mn jt mo bi translated">4.测试API:</h2><p id="2edc" class="pw-post-body-paragraph jv jw hi jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">论邮递员</p><p id="3d8f" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">post:<a class="ae ll" href="http://localhost:8888/api/send-text" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/API/send-text</a></p><p id="27a7" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">您将收到一封电子邮件，确认您的垃圾邮件。</p><h1 id="cdeb" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">发送带有动态模板的电子邮件:</h1><p id="33c8" class="pw-post-body-paragraph jv jw hi jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">SendGrid使我们能够使用模板或创建自己的模板。</p><h2 id="d2b1" class="ls iy hi bd iz mc md me jd mf mg mh jh kg mi mj jl kk mk ml jp ko mm mn jt mo bi translated">1.让我们创建一个模板:</h2><p id="ed3e" class="pw-post-body-paragraph jv jw hi jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">导航<a class="ae ll" href="https://mc.sendgrid.com/dynamic-templates" rel="noopener ugc nofollow" target="_blank">此处</a></p><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es mb"><img src="../Images/92f84618821275a854117b2a67a419b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pzXI04j95vl3LuG_z4EWGg.png"/></div></div></figure><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es mt"><img src="../Images/d8c3901fd26b39b7a228dc5c110ba735.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JeJsTw2P5xDwBRSlyI2wdQ.png"/></div></div></figure><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es mu"><img src="../Images/fba3f2b82d35db811b1b04e1b02fb366.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DzG_Ogl0lwTu_7ZU3B-2IQ.png"/></div></div></figure><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es mv"><img src="../Images/3585434e95ea1c6a7fb08506c5be8557.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_eUmFuUdjhPxFQfT_y34Sg.png"/></div></div></figure><p id="8451" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">点击SendGrid电子邮件设计，我们将选择一个预建的。</p><p id="33b0" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">我选择脱离电网冒险。</p><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es mv"><img src="../Images/2609269e555ebdf2b2436c5f95b3f85c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xARlG-2TRT3E1uq918Lpww.png"/></div></div></figure><p id="41c2" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">然后选择设计编辑器</p><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es mt"><img src="../Images/162fa0c05cee8e49a42560549bd02563.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-sXU8WxSHaY1y6hBmYZNPw.png"/></div></div></figure><p id="1c84" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">现在让我们给模板添加一些修改。</p><p id="b9e1" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">单击欢迎加入家庭，并将文本更改为</p><p id="5b99" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">欢迎{ {名字}}</p><p id="08b5" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated"><strong class="jx hj"> {{first_name}} </strong>表示它是一个变量，将使用代码动态更改。</p><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es lm"><img src="../Images/5139339e2b68311c81505cce5e6af1e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d_WtpbfAJKi7zuPAWcJeyQ.png"/></div></div></figure><p id="8133" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">单击预览查看输出</p><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es mw"><img src="../Images/66274ef5e1bdfe2c2ce0b7af9efab913.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YDeyLu4aBfnJavf3Ne3mpA.png"/></div></div></figure><p id="8cf1" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">单击显示测试数据</p><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es mu"><img src="../Images/5ac58b5ddd987a26c43c819927726af3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iDzybrIbjKRp-vOYQ_fp-A.png"/></div></div></figure><p id="6656" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">模板已动态更改。</p><p id="610f" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">现在点击保存按钮，然后返回箭头</p><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es mx"><img src="../Images/ad647520157535822d63fa407064bad9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HFW2N80sXq2cFk_qlShTRQ.png"/></div></div></figure><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es lm"><img src="../Images/bc5eb85026900ce655c2b07ef5e562db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1QyX3Lr0R7gYxKdvOqgugA.png"/></div></div></figure><p id="e570" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">复制模板id。</p><h2 id="0fc5" class="ls iy hi bd iz mc md me jd mf mg mh jh kg mi mj jl kk mk ml jp ko mm mn jt mo bi translated">2.更新邮件服务:</h2><figure class="im in io ip fd iq"><div class="bz dy l di"><div class="ly lz l"/></div></figure><h2 id="8177" class="ls iy hi bd iz mc md me jd mf mg mh jh kg mi mj jl kk mk ml jp ko mm mn jt mo bi translated">3.更新rest控制器:</h2><pre class="im in io ip fd ln lo lp lq aw lr bi"><span id="9385" class="ls iy hi lo b fi lt lu l lv lw">@PostMapping("/send")</span><span id="8175" class="ls iy hi lo b fi lx lu l lv lw">public String sendWithTemplate() throws IOException {</span><span id="0d1f" class="ls iy hi lo b fi lx lu l lv lw">return mailService.send();</span><span id="5b1c" class="ls iy hi lo b fi lx lu l lv lw">}</span></pre><h2 id="cfae" class="ls iy hi bd iz mc md me jd mf mg mh jh kg mi mj jl kk mk ml jp ko mm mn jt mo bi translated">4.测试新的API:</h2><p id="7534" class="pw-post-body-paragraph jv jw hi jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">论邮递员</p><p id="179a" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">post:<a class="ae ll" href="http://localhost:8888/api/send-text" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/API/send</a></p><p id="a6d1" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">您将收到一封带有我们模板的电子邮件。</p><p id="5952" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated">验证您的垃圾邮件。</p><h1 id="9828" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">最后一句话:</h1><p id="f967" class="pw-post-body-paragraph jv jw hi jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">您可以在这里找到源代码:</p><div class="kt ku ez fb kv kw"><a href="https://github.com/HamdiBouallegue/sendGrid-with-spring-boot" rel="noopener  ugc nofollow" target="_blank"><div class="kx ab dw"><div class="ky ab kz cl cj la"><h2 class="bd hj fi z dy lb ea eb lc ed ef hh bi translated">HamdiBouallegue/带弹簧靴的sendGrid</h2><div class="ld l"><h3 class="bd b fi z dy lb ea eb lc ed ef dx translated">SendGrid与spring boot的集成。通过…为HamdiBouallegue/send grid-with spring-boot开发做出贡献</h3></div><div class="le l"><p class="bd b fp z dy lb ea eb lc ed ef dx translated">github.com</p></div></div></div></a></div><p id="3afc" class="pw-post-body-paragraph jv jw hi jx b jy lf ka kb kc lg ke kf kg lh ki kj kk li km kn ko lj kq kr ks hb bi translated"><strong class="jx hj">如果你喜欢这篇文章，请鼓掌</strong>👏<strong class="jx hj">分享它，让其他人也能找到它！关注我，了解我更多信息</strong>😄。</p></div></div>    
</body>
</html>